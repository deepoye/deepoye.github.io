import{a as Q,b as U,c as W,d as X,e as Y,f as Z,g as tt,h as S,i as C}from"./chunk-E52YUDSZ.js";import{C as z,D as H,E as J,F as K,a as k,d as A,e as O,h as R,j as G,k as B,l as $,m as q}from"./chunk-V6CNCQF3.js";import{$a as N,Aa as p,Ab as V,Bb as h,Ca as w,Ea as g,Fa as v,G as b,K as m,M as F,N as y,Ra as a,Ua as P,Ya as L,Za as E,ab as T,c as x,ea as s,ia as f,pb as j,qa as c,qb as D,rb as I,ua as u,va as d,ya as o,za as n}from"./chunk-CYPUUF2W.js";import"./chunk-ACKELEN3.js";function nt(e,t){e&1&&(o(0,"mat-error"),a(1,"Could not log you in with those details."),n())}function rt(e,t){e&1&&p(0,"mat-spinner",5)}var it=(()=>{let t=class t{constructor(){this.loginStatus=T.required(),this.login=N(),this.fb=m($),this.loginForm=this.fb.nonNullable.group({email:[""],password:[""]})}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=f({type:t,selectors:[["app-login-form"]],inputs:{loginStatus:[1,"loginStatus"]},outputs:{login:"login"},decls:17,vars:4,consts:[[3,"ngSubmit","formGroup"],["appearance","fill"],["matNativeControl","","formControlName","email","type","email","placeholder","email"],["matPrefix",""],["matNativeControl","","formControlName","password","type","password","placeholder","password"],["diameter","50"],["mat-raised-button","","color","accent","type","submit",3,"disabled"]],template:function(i,r){i&1&&(o(0,"form",0),g("ngSubmit",function(){return r.login.emit(r.loginForm.getRawValue())}),o(1,"mat-form-field",1)(2,"mat-label"),a(3,"email"),n(),p(4,"input",2),o(5,"mat-icon",3),a(6,"mail"),n()(),o(7,"mat-form-field",1)(8,"mat-label"),a(9,"password"),n(),p(10,"input",4),o(11,"mat-icon",3),a(12,"lock"),n()(),u(13,nt,2,0,"mat-error"),u(14,rt,1,0,"mat-spinner",5),o(15,"button",6),a(16," Login "),n()()),i&2&&(c("formGroup",r.loginForm),s(13),d(r.loginStatus()==="error"?13:-1),s(),d(r.loginStatus()==="loading"?14:-1),s(),c("disabled",r.loginStatus()==="loading"))},dependencies:[q,R,k,A,O,G,B,H,z,Y,X,Q,U,W,tt,Z,K,J,C,S],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}button[_ngcontent-%COMP%]{width:100%}mat-error[_ngcontent-%COMP%]{margin:5px 0}mat-spinner[_ngcontent-%COMP%]{margin:1rem 0}"]});let e=t;return e})();var _=(()=>{let t=class t{constructor(){this.authService=m(h),this.login$=new x,this.login=V(this.login$),this.userAuthenticated=E({params:this.login,loader:({params:l})=>this.authService.login(l)})}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac});let e=t;return e})();function at(e,t){if(e&1){let M=w();o(0,"app-login-form",2),g("login",function(i){F(M);let r=v();return y(r.loginService.login$.next(i))}),n(),o(1,"a",3),a(2,"Create account"),n()}if(e&2){let M=v();c("loginStatus",M.loginService.userAuthenticated.status())}}function mt(e,t){e&1&&p(0,"mat-spinner",1)}var At=(()=>{let t=class t{constructor(){this.loginService=m(_),this.authService=m(h),this.router=m(j),L(()=>{this.authService.user()&&this.router.navigate(["home"])})}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=f({type:t,selectors:[["app-login"]],features:[P([_])],decls:3,vars:1,consts:[[1,"container","gradient-bg"],["diameter","50"],[3,"login","loginStatus"],["routerLink","/auth/register"]],template:function(i,r){i&1&&(o(0,"div",0),u(1,at,3,1)(2,mt,1,0,"mat-spinner",1),n()),i&2&&(s(),d(r.authService.user()===null?1:2))},dependencies:[I,D,it,C,S],styles:["a[_ngcontent-%COMP%]{margin:2rem;color:var(--accent-darker-color)}"]});let e=t;return e})();export{At as default};
