import{a as w,b as ee,c as tg,d as xr,e as p}from"./chunk-ACKELEN3.js";var ng;function rg(){return ng}function Zn(t){let e=ng;return ng=t,e}var dO=Symbol("NotFound"),rl=class extends Error{name="\u0275NotFound";constructor(e){super(e)}};function js(t){return t===dO||t?.name==="\u0275NotFound"}function va(t,e){return Object.is(t,e)}var Fe=null,il=!1,ig=1,hO=null,Re=Symbol("SIGNAL");function j(t){let e=Fe;return Fe=t,e}function sl(){return Fe}var Xn={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function kr(t){if(il)throw new Error("");if(Fe===null)return;Fe.consumerOnSignalRead(t);let e=Fe.nextProducerIndex++;if(al(Fe),e<Fe.producerNode.length&&Fe.producerNode[e]!==t&&ya(Fe)){let n=Fe.producerNode[e];ol(n,Fe.producerIndexOfThis[e])}Fe.producerNode[e]!==t&&(Fe.producerNode[e]=t,Fe.producerIndexOfThis[e]=ya(Fe)?BT(t,Fe,e):0),Fe.producerLastReadVersion[e]=t.version}function UT(){ig++}function Ri(t){if(!(ya(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===ig)){if(!t.producerMustRecompute(t)&&!Ni(t)){Us(t);return}t.producerRecomputeValue(t),Us(t)}}function sg(t){if(t.liveConsumerNode===void 0)return;let e=il;il=!0;try{for(let n of t.liveConsumerNode)n.dirty||fO(n)}finally{il=e}}function og(){return Fe?.consumerAllowSignalWrites!==!1}function fO(t){t.dirty=!0,sg(t),t.consumerMarkedDirty?.(t)}function Us(t){t.dirty=!1,t.lastCleanEpoch=ig}function Dn(t){return t&&(t.nextProducerIndex=0),j(t)}function er(t,e){if(j(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ya(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ol(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ni(t){al(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Ri(n),r!==n.version))return!0}return!1}function Bs(t){if(al(t),ya(t))for(let e=0;e<t.producerNode.length;e++)ol(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function BT(t,e,n){if($T(t),t.liveConsumerNode.length===0&&HT(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=BT(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function ol(t,e){if($T(t),t.liveConsumerNode.length===1&&HT(t))for(let r=0;r<t.producerNode.length;r++)ol(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];al(i),i.producerIndexOfThis[r]=e}}function ya(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function al(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function $T(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function HT(t){return t.producerNode!==void 0}function _a(t){hO?.(t)}function Ea(t,e){let n=Object.create(pO);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Ri(n),kr(n),n.value===Jn)throw n.error;return n.value};return r[Re]=n,_a(n),r}var Or=Symbol("UNSET"),Ai=Symbol("COMPUTING"),Jn=Symbol("ERRORED"),pO=ee(w({},Xn),{value:Or,dirty:!0,error:null,equal:va,kind:"computed",producerMustRecompute(t){return t.value===Or||t.value===Ai},producerRecomputeValue(t){if(t.value===Ai)throw new Error("");let e=t.value;t.value=Ai;let n=Dn(t),r,i=!1;try{r=t.computation(),j(null),i=e!==Or&&e!==Jn&&r!==Jn&&t.equal(e,r)}catch(s){r=Jn,t.error=s}finally{er(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function gO(){throw new Error}var zT=gO;function qT(t){zT(t)}function ag(t){zT=t}var mO=null;function cg(t,e){let n=Object.create(wa);n.value=t,e!==void 0&&(n.equal=e);let r=()=>GT(n);return r[Re]=n,_a(n),r}function GT(t){return kr(t),t.value}function Lr(t,e){og()||qT(t),t.equal(t.value,e)||(t.value=e,yO(t))}function Ia(t,e){og()||qT(t),Lr(t,e(t.value))}var wa=ee(w({},Xn),{equal:va,value:void 0,kind:"signal"});function yO(t){t.version++,UT(),sg(t),mO?.(t)}function z(t){return typeof t=="function"}function $s(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var cl=$s(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Mi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var De=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(z(r))try{r()}catch(s){e=s instanceof cl?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{WT(s)}catch(o){e=e??[],o instanceof cl?e=[...e,...o.errors]:e.push(o)}}if(e)throw new cl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)WT(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Mi(n,e)}remove(e){let{_finalizers:n}=this;n&&Mi(n,e),e instanceof t&&e._removeParent(this)}};De.EMPTY=(()=>{let t=new De;return t.closed=!0,t})();var ug=De.EMPTY;function ul(t){return t instanceof De||t&&"closed"in t&&z(t.remove)&&z(t.add)&&z(t.unsubscribe)}function WT(t){z(t)?t():t.unsubscribe()}var Jt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Hs={setTimeout(t,e,...n){let{delegate:r}=Hs;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Hs;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ll(t){Hs.setTimeout(()=>{let{onUnhandledError:e}=Jt;if(e)e(t);else throw t})}function Ta(){}var KT=lg("C",void 0,void 0);function QT(t){return lg("E",void 0,t)}function YT(t){return lg("N",t,void 0)}function lg(t,e,n){return{kind:t,value:e,error:n}}var Pi=null;function zs(t){if(Jt.useDeprecatedSynchronousErrorHandling){let e=!Pi;if(e&&(Pi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Pi;if(Pi=null,n)throw r}}else t()}function ZT(t){Jt.useDeprecatedSynchronousErrorHandling&&Pi&&(Pi.errorThrown=!0,Pi.error=t)}var xi=class extends De{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ul(e)&&e.add(this)):this.destination=EO}static create(e,n,r){return new tr(e,n,r)}next(e){this.isStopped?hg(YT(e),this):this._next(e)}error(e){this.isStopped?hg(QT(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?hg(KT,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},vO=Function.prototype.bind;function dg(t,e){return vO.call(t,e)}var fg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){dl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){dl(r)}else dl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){dl(n)}}},tr=class extends xi{constructor(e,n,r){super();let i;if(z(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Jt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&dg(e.next,s),error:e.error&&dg(e.error,s),complete:e.complete&&dg(e.complete,s)}):i=e}this.destination=new fg(i)}};function dl(t){Jt.useDeprecatedSynchronousErrorHandling?ZT(t):ll(t)}function _O(t){throw t}function hg(t,e){let{onStoppedNotification:n}=Jt;n&&Hs.setTimeout(()=>n(t,e))}var EO={closed:!0,next:Ta,error:_O,complete:Ta};var qs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ze(t){return t}function pg(...t){return gg(t)}function gg(t){return t.length===0?Ze:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var G=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=wO(n)?n:new tr(n,r,i);return zs(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=JT(r),new r((i,s)=>{let o=new tr({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[qs](){return this}pipe(...n){return gg(n)(this)}toPromise(n){return n=JT(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function JT(t){var e;return(e=t??Jt.Promise)!==null&&e!==void 0?e:Promise}function IO(t){return t&&z(t.next)&&z(t.error)&&z(t.complete)}function wO(t){return t&&t instanceof xi||IO(t)&&ul(t)}function mg(t){return z(t?.lift)}function F(t){return e=>{if(mg(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function O(t,e,n,r,i){return new yg(t,e,n,r,i)}var yg=class extends xi{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Gs(){return F((t,e)=>{let n=null;t._refCount++;let r=O(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ws=class extends G{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,mg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new De;let n=this.getSubject();e.add(this.source.subscribe(O(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=De.EMPTY)}return e}refCount(){return Gs()(this)}};var XT=$s(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var we=(()=>{class t extends G{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new hl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new XT}next(n){zs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){zs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){zs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?ug:(this.currentObservers=null,s.push(n),new De(()=>{this.currentObservers=null,Mi(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new G;return n.source=this,n}}return t.create=(e,n)=>new hl(e,n),t})(),hl=class extends we{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:ug}};var Je=class extends we{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Da={now(){return(Da.delegate||Date).now()},delegate:void 0};var Oi=class extends we{constructor(e=1/0,n=1/0,r=Da){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){let o=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}};var fl=class extends De{constructor(e,n){super()}schedule(e,n=0){return this}};var Sa={setInterval(t,e,...n){let{delegate:r}=Sa;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Sa;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var pl=class extends fl{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Sa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Sa.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Mi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ks=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ks.now=Da.now;var gl=class extends Ks{constructor(e,n=Ks.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var ba=new gl(pl),eD=ba;var ot=new G(t=>t.complete());function ml(t){return t&&z(t.schedule)}function vg(t){return t[t.length-1]}function yl(t){return z(vg(t))?t.pop():void 0}function Sn(t){return ml(vg(t))?t.pop():void 0}function tD(t,e){return typeof vg(t)=="number"?t.pop():e}function _g(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function rD(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function nD(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ki(t){return this instanceof ki?(this.v=t,this):new ki(t)}function iD(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(h){return function(g){return Promise.resolve(g).then(h,d)}}function a(h,g){r[h]&&(i[h]=function(m){return new Promise(function(y,I){s.push([h,m,y,I])>1||c(h,m)})},g&&(i[h]=g(i[h])))}function c(h,g){try{u(r[h](g))}catch(m){f(s[0][3],m)}}function u(h){h.value instanceof ki?Promise.resolve(h.value.v).then(l,d):f(s[0][2],h)}function l(h){c("next",h)}function d(h){c("throw",h)}function f(h,g){h(g),s.shift(),s.length&&c(s[0][0],s[0][1])}}function sD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof nD=="function"?nD(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var vl=t=>t&&typeof t.length=="number"&&typeof t!="function";function _l(t){return z(t?.then)}function El(t){return z(t[qs])}function Il(t){return Symbol.asyncIterator&&z(t?.[Symbol.asyncIterator])}function wl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function TO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Tl=TO();function Dl(t){return z(t?.[Tl])}function Sl(t){return iD(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ki(n.read());if(i)return yield ki(void 0);yield yield ki(r)}}finally{n.releaseLock()}})}function bl(t){return z(t?.getReader)}function oe(t){if(t instanceof G)return t;if(t!=null){if(El(t))return DO(t);if(vl(t))return SO(t);if(_l(t))return bO(t);if(Il(t))return oD(t);if(Dl(t))return CO(t);if(bl(t))return AO(t)}throw wl(t)}function DO(t){return new G(e=>{let n=t[qs]();if(z(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function SO(t){return new G(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function bO(t){return new G(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ll)})}function CO(t){return new G(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function oD(t){return new G(e=>{RO(t,e).catch(n=>e.error(n))})}function AO(t){return oD(Sl(t))}function RO(t,e){var n,r,i,s;return rD(this,void 0,void 0,function*(){try{for(n=sD(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Et(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Cl(t,e=0){return F((n,r)=>{n.subscribe(O(r,i=>Et(r,t,()=>r.next(i),e),()=>Et(r,t,()=>r.complete(),e),i=>Et(r,t,()=>r.error(i),e)))})}function Al(t,e=0){return F((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function aD(t,e){return oe(t).pipe(Al(e),Cl(e))}function cD(t,e){return oe(t).pipe(Al(e),Cl(e))}function uD(t,e){return new G(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function lD(t,e){return new G(n=>{let r;return Et(n,e,()=>{r=t[Tl](),Et(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>z(r?.return)&&r.return()})}function Rl(t,e){if(!t)throw new Error("Iterable cannot be null");return new G(n=>{Et(n,e,()=>{let r=t[Symbol.asyncIterator]();Et(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function dD(t,e){return Rl(Sl(t),e)}function hD(t,e){if(t!=null){if(El(t))return aD(t,e);if(vl(t))return uD(t,e);if(_l(t))return cD(t,e);if(Il(t))return Rl(t,e);if(Dl(t))return lD(t,e);if(bl(t))return dD(t,e)}throw wl(t)}function he(t,e){return e?hD(t,e):oe(t)}function k(...t){let e=Sn(t);return he(t,e)}function Qs(t,e){let n=z(t)?t:()=>t,r=i=>i.error(n());return new G(e?i=>e.schedule(r,0,i):r)}function Eg(t){return!!t&&(t instanceof G||z(t.lift)&&z(t.subscribe))}var nr=$s(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function fD(t){return t instanceof Date&&!isNaN(t)}function Z(t,e){return F((n,r)=>{let i=0;n.subscribe(O(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:NO}=Array;function MO(t,e){return NO(e)?t(...e):t(e)}function Nl(t){return Z(e=>MO(t,e))}var{isArray:PO}=Array,{getPrototypeOf:xO,prototype:OO,keys:kO}=Object;function Ml(t){if(t.length===1){let e=t[0];if(PO(e))return{args:e,keys:null};if(LO(e)){let n=kO(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function LO(t){return t&&typeof t=="object"&&xO(t)===OO}function Pl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ca(...t){let e=Sn(t),n=yl(t),{args:r,keys:i}=Ml(t);if(r.length===0)return he([],e);let s=new G(FO(r,e,i?o=>Pl(i,o):Ze));return n?s.pipe(Nl(n)):s}function FO(t,e,n=Ze){return r=>{pD(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)pD(e,()=>{let u=he(t[c],e),l=!1;u.subscribe(O(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function pD(t,e,n){t?Et(n,t,e):e()}function gD(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,f=()=>{d&&!c.length&&!u&&e.complete()},h=m=>u<r?g(m):c.push(m),g=m=>{s&&e.next(m),u++;let y=!1;oe(n(m,l++)).subscribe(O(e,I=>{i?.(I),s?h(I):e.next(I)},()=>{y=!0},void 0,()=>{if(y)try{for(u--;c.length&&u<r;){let I=c.shift();o?Et(e,o,()=>g(I)):g(I)}f()}catch(I){e.error(I)}}))};return t.subscribe(O(e,h,()=>{d=!0,f()})),()=>{a?.()}}function Ne(t,e,n=1/0){return z(e)?Ne((r,i)=>Z((s,o)=>e(r,s,i,o))(oe(t(r,i))),n):(typeof e=="number"&&(n=e),F((r,i)=>gD(r,i,t,n)))}function Fr(t=1/0){return Ne(Ze,t)}function mD(){return Fr(1)}function Ys(...t){return mD()(he(t,Sn(t)))}function Aa(t){return new G(e=>{oe(t()).subscribe(e)})}function VO(...t){let e=yl(t),{args:n,keys:r}=Ml(t),i=new G(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let d=!1;oe(n[l]).subscribe(O(s,f=>{d||(d=!0,u--),a[l]=f},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?Pl(r,a):a),s.complete())}))}});return e?i.pipe(Nl(e)):i}function xl(t=0,e,n=eD){let r=-1;return e!=null&&(ml(e)?n=e:r=e),new G(i=>{let s=fD(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function jO(...t){let e=Sn(t),n=tD(t,1/0),r=t;return r.length?r.length===1?oe(r[0]):Fr(n)(he(r,e)):ot}function Be(t,e){return F((n,r)=>{let i=0;n.subscribe(O(r,s=>t.call(e,s,i++)&&r.next(s)))})}function yD(t){return F((e,n)=>{let r=!1,i=null,s=null,o=!1,a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;let u=i;i=null,n.next(u)}o&&n.complete()},c=()=>{s=null,o&&n.complete()};e.subscribe(O(n,u=>{r=!0,i=u,s||oe(t(u)).subscribe(s=O(n,a,c))},()=>{o=!0,(!r||!s||s.closed)&&n.complete()}))})}function UO(t,e=ba){return yD(()=>xl(t,e))}function rr(t){return F((e,n)=>{let r=null,i=!1,s;r=e.subscribe(O(n,void 0,void 0,o=>{s=oe(t(o,rr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function vD(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(O(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function bn(t,e){return z(e)?Ne(t,e,1):Ne(t,1)}function BO(t,e=ba){return F((n,r)=>{let i=null,s=null,o=null,a=()=>{if(i){i.unsubscribe(),i=null;let u=s;s=null,r.next(u)}};function c(){let u=o+t,l=e.now();if(l<u){i=this.schedule(void 0,u-l),r.add(i);return}a()}n.subscribe(O(r,u=>{s=u,o=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}function Vr(t){return F((e,n)=>{let r=!1;e.subscribe(O(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ir(t){return t<=0?()=>ot:F((e,n)=>{let r=0;e.subscribe(O(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function $O(t,e=Ze){return t=t??HO,F((n,r)=>{let i,s=!0;n.subscribe(O(r,o=>{let a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function HO(t,e){return t===e}function Ol(t=zO){return F((e,n)=>{let r=!1;e.subscribe(O(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function zO(){return new nr}function _D(t,e){return e?n=>n.pipe(_D((r,i)=>oe(t(r,i)).pipe(Z((s,o)=>e(r,s,i,o))))):F((n,r)=>{let i=0,s=null,o=!1;n.subscribe(O(r,a=>{s||(s=O(r,void 0,()=>{s=null,o&&r.complete()}),oe(t(a,i++)).subscribe(s))},()=>{o=!0,!s&&r.complete()}))})}function Zs(t){return F((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function sr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Be((i,s)=>t(i,s,r)):Ze,ir(1),n?Vr(e):Ol(()=>new nr))}function Js(t){return t<=0?()=>ot:F((e,n)=>{let r=[];e.subscribe(O(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ig(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Be((i,s)=>t(i,s,r)):Ze,Js(1),n?Vr(e):Ol(()=>new nr))}function qO(){return F((t,e)=>{let n,r=!1;t.subscribe(O(e,i=>{let s=n;n=i,r&&e.next([s,i]),r=!0}))})}function GO(t=1/0){let e;t&&typeof t=="object"?e=t:e={count:t};let{count:n=1/0,delay:r,resetOnSuccess:i=!1}=e;return n<=0?Ze:F((s,o)=>{let a=0,c,u=()=>{let l=!1;c=s.subscribe(O(o,d=>{i&&(a=0),o.next(d)},void 0,d=>{if(a++<n){let f=()=>{c?(c.unsubscribe(),c=null,u()):l=!0};if(r!=null){let h=typeof r=="number"?xl(r):oe(r(d,a)),g=O(o,()=>{g.unsubscribe(),f()},()=>{o.complete()});h.subscribe(g)}else f()}else o.error(d)})),l&&(c.unsubscribe(),c=null,u())};u()})}function wg(t,e){return F(vD(t,e,arguments.length>=2,!0))}function Dg(t={}){let{connector:e=()=>new we,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,u=0,l=!1,d=!1,f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),o=c=void 0,l=d=!1},g=()=>{let m=o;h(),m?.unsubscribe()};return F((m,y)=>{u++,!d&&!l&&f();let I=c=c??e();y.add(()=>{u--,u===0&&!d&&!l&&(a=Tg(g,i))}),I.subscribe(y),!o&&u>0&&(o=new tr({next:R=>I.next(R),error:R=>{d=!0,f(),a=Tg(h,n,R),I.error(R)},complete:()=>{l=!0,f(),a=Tg(h,r),I.complete()}}),oe(m).subscribe(o))})(s)}}function Tg(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new tr({next:()=>{r.unsubscribe(),t()}});return oe(e(...n)).subscribe(r)}function WO(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,Dg({connector:()=>new Oi(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function KO(t){return Be((e,n)=>t<=n)}function Sg(...t){let e=Sn(t);return F((n,r)=>{(e?Ys(t,n,e):Ys(t,n)).subscribe(r)})}function It(t,e){return F((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(O(r,c=>{i?.unsubscribe();let u=0,l=s++;oe(t(c,l)).subscribe(i=O(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Xs(t){return F((e,n)=>{oe(t).subscribe(O(n,()=>n.complete(),Ta)),!n.closed&&e.subscribe(n)})}function $e(t,e,n){let r=z(t)||e||n?{next:t,error:e,complete:n}:t;return r?F((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(O(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Ze}function bg(t,e,n){let r=Object.create(QO);r.source=t,r.computation=e,n!=null&&(r.equal=n);let s=()=>{if(Ri(r),kr(r),r.value===Jn)throw r.error;return r.value};return s[Re]=r,_a(r),s}function ED(t,e){Ri(t),Lr(t,e),Us(t)}function ID(t,e){Ri(t),Ia(t,e),Us(t)}var QO=ee(w({},Xn),{value:Or,dirty:!0,error:null,equal:va,kind:"linkedSignal",producerMustRecompute(t){return t.value===Or||t.value===Ai},producerRecomputeValue(t){if(t.value===Ai)throw new Error("");let e=t.value;t.value=Ai;let n=Dn(t),r;try{let i=t.source(),s=e===Or||e===Jn?void 0:{source:t.sourceValue,value:e};r=t.computation(i,s),t.sourceValue=i}catch(i){r=Jn,t.error=i}finally{er(t,n)}if(e!==Or&&r!==Jn&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function wD(t){let e=j(null);try{return t()}finally{j(e)}}var jl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",E=class extends Error{code;constructor(e,n){super(Ui(e,n)),this.code=e}};function YO(t){return`NG0${Math.abs(t)}`}function Ui(t,e){return`${YO(t)}${e?": "+e:""}`}var Ur=globalThis;function ye(t){for(let e in t)if(t[e]===ye)return e;throw Error("")}function bD(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function wt(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(wt).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Ul(t,e){return t?e?`${t} ${e}`:t:e||""}var ZO=ye({__forward_ref__:ye});function Bl(t){return t.__forward_ref__=Bl,t.toString=function(){return wt(this())},t}function Xe(t){return Fg(t)?t():t}function Fg(t){return typeof t=="function"&&t.hasOwnProperty(ZO)&&t.__forward_ref__===Bl}function CD(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function b(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ar(t){return{providers:t.providers||[],imports:t.imports||[]}}function xa(t){return JO(t,$l)}function Vg(t){return xa(t)!==null}function JO(t,e){return t.hasOwnProperty(e)&&t[e]||null}function XO(t){let e=t?.[$l]??null;return e||null}function Ag(t){return t&&t.hasOwnProperty(Ll)?t[Ll]:null}var $l=ye({\u0275prov:ye}),Ll=ye({\u0275inj:ye}),N=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=b({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function jg(t){return t&&!!t.\u0275providers}var Ug=ye({\u0275cmp:ye}),Bg=ye({\u0275dir:ye}),$g=ye({\u0275pipe:ye}),Hg=ye({\u0275mod:ye}),Na=ye({\u0275fac:ye}),Bi=ye({__NG_ELEMENT_ID__:ye}),TD=ye({__NG_ENV_ID__:ye});function Oa(t){return typeof t=="string"?t:t==null?"":String(t)}function AD(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Oa(t)}function zg(t,e){throw new E(-200,t)}function Hl(t,e){throw new E(-201,!1)}var Rg;function RD(){return Rg}function Ct(t){let e=Rg;return Rg=t,e}function qg(t,e,n){let r=xa(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Hl(t,"Injector")}var ek={},Li=ek,tk="__NG_DI_FLAG__",Ng=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Fi(n)||0;try{return this.injector.get(e,r&8?null:Li,r)}catch(i){if(js(i))return i;throw i}}},Fl="ngTempTokenPath",nk="ngTokenPath",rk=/\n/gm,ik="\u0275",DD="__source";function sk(t,e=0){let n=rg();if(n===void 0)throw new E(-203,!1);if(n===null)return qg(t,void 0,e);{let r=ok(e),i=n.retrieve(t,r);if(js(i)){if(r.optional)return null;throw i}return i}}function M(t,e=0){return(RD()||sk)(Xe(t),e)}function v(t,e){return M(t,Fi(e))}function Fi(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ok(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Mg(t){let e=[];for(let n=0;n<t.length;n++){let r=Xe(t[n]);if(Array.isArray(r)){if(r.length===0)throw new E(900,!1);let i,s=0;for(let o=0;o<r.length;o++){let a=r[o],c=ak(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(M(i,s))}else e.push(M(r))}return e}function ak(t){return t[tk]}function ck(t,e,n,r){let i=t[Fl];throw e[DD]&&i.unshift(e[DD]),t.message=uk(`
`+t.message,i,n,r),t[nk]=i,t[Fl]=null,t}function uk(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==ik?t.slice(2):t;let i=wt(e);if(Array.isArray(e))i=e.map(wt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):wt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(rk,`
  `)}`}function Vi(t,e){let n=t.hasOwnProperty(Na);return n?t[Na]:null}function ND(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function MD(t){return t.flat(Number.POSITIVE_INFINITY)}function zl(t,e){t.forEach(n=>Array.isArray(n)?zl(n,e):e(n))}function Gg(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ka(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function PD(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function xD(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function ql(t,e,n){let r=no(t,e);return r>=0?t[r|1]=n:(r=~r,xD(t,r,e,n)),r}function Gl(t,e){let n=no(t,e);if(n>=0)return t[n|1]}function no(t,e){return lk(t,e,1)}function lk(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Br={},at=[],cr=new N(""),Wg=new N("",-1),Kg=new N(""),Ma=class{get(e,n=Li){if(n===Li)throw new rl(`NullInjectorError: No provider for ${wt(e)}!`);return n}};function Qg(t){return t[Hg]||null}function Cn(t){return t[Ug]||null}function Yg(t){return t[Bg]||null}function OD(t){return t[$g]||null}function $i(t){return{\u0275providers:t}}function kD(...t){return{\u0275providers:Zg(!0,t),\u0275fromNgModule:!0}}function Zg(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return zl(e,o=>{let a=o;Vl(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&LD(i,s),n}function LD(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Jg(i,s=>{e(s,r)})}}function Vl(t,e,n,r){if(t=Xe(t),!t)return!1;let i=null,s=Ag(t),o=!s&&Cn(t);if(!s&&!o){let c=t.ngModule;if(s=Ag(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)Vl(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{zl(s.imports,l=>{Vl(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&LD(u,e)}if(!a){let u=Vi(i)||(()=>new i);e({provide:i,useFactory:u,deps:at},i),e({provide:Kg,useValue:i,multi:!0},i),e({provide:cr,useValue:()=>M(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;Jg(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function Jg(t,e){for(let n of t)jg(n)&&(n=n.\u0275providers),Array.isArray(n)?Jg(n,e):e(n)}var dk=ye({provide:String,useValue:ye});function FD(t){return t!==null&&typeof t=="object"&&dk in t}function hk(t){return!!(t&&t.useExisting)}function fk(t){return!!(t&&t.useFactory)}function ji(t){return typeof t=="function"}function VD(t){return!!t.useClass}var La=new N(""),kl={},SD={},Cg;function ro(){return Cg===void 0&&(Cg=new Ma),Cg}var Pe=class{},to=class extends Pe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,xg(e,o=>this.processProvider(o)),this.records.set(Wg,eo(void 0,this)),i.has("environment")&&this.records.set(Pe,eo(void 0,this));let s=this.records.get(La);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Kg,at,{self:!0}))}retrieve(e,n){let r=Fi(n)||0;try{return this.get(e,Li,r)}catch(i){if(js(i))return i;throw i}}destroy(){Ra(this),this._destroyed=!0;let e=j(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),j(e)}}onDestroy(e){return Ra(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ra(this);let n=Zn(this),r=Ct(void 0),i;try{return e()}finally{Zn(n),Ct(r)}}get(e,n=Li,r){if(Ra(this),e.hasOwnProperty(TD))return e[TD](this);let i=Fi(r),s,o=Zn(this),a=Ct(void 0);try{if(!(i&4)){let u=this.records.get(e);if(u===void 0){let l=vk(e)&&xa(e);l&&this.injectableDefInScope(l)?u=eo(Pg(e),kl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=i&2?ro():this.parent;return n=i&8&&n===Li?null:n,c.get(e,n)}catch(c){if(js(c)){if((c[Fl]=c[Fl]||[]).unshift(wt(e)),o)throw c;return ck(c,e,"R3InjectorError",this.source)}else throw c}finally{Ct(a),Zn(o)}}resolveInjectorInitializers(){let e=j(null),n=Zn(this),r=Ct(void 0),i;try{let s=this.get(cr,at,{self:!0});for(let o of s)o()}finally{Zn(n),Ct(r),j(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(wt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Xe(e);let n=ji(e)?e:Xe(e&&e.provide),r=gk(e);if(!ji(e)&&e.multi===!0){let i=this.records.get(n);i||(i=eo(void 0,kl,!0),i.factory=()=>Mg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=j(null);try{return n.value===SD?zg(wt(e)):n.value===kl&&(n.value=SD,n.value=n.factory()),typeof n.value=="object"&&n.value&&yk(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{j(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Xe(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Pg(t){let e=xa(t),n=e!==null?e.factory:Vi(t);if(n!==null)return n;if(t instanceof N)throw new E(204,!1);if(t instanceof Function)return pk(t);throw new E(204,!1)}function pk(t){if(t.length>0)throw new E(204,!1);let n=XO(t);return n!==null?()=>n.factory(t):()=>new t}function gk(t){if(FD(t))return eo(void 0,t.useValue);{let e=Xg(t);return eo(e,kl)}}function Xg(t,e,n){let r;if(ji(t)){let i=Xe(t);return Vi(i)||Pg(i)}else if(FD(t))r=()=>Xe(t.useValue);else if(fk(t))r=()=>t.useFactory(...Mg(t.deps||[]));else if(hk(t))r=()=>M(Xe(t.useExisting));else{let i=Xe(t&&(t.useClass||t.provide));if(mk(t))r=()=>new i(...Mg(t.deps));else return Vi(i)||Pg(i)}return r}function Ra(t){if(t.destroyed)throw new E(205,!1)}function eo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function mk(t){return!!t.deps}function yk(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function vk(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function xg(t,e){for(let n of t)Array.isArray(n)?xg(n,e):n&&jg(n)?xg(n.\u0275providers,e):e(n)}function ft(t,e){let n;t instanceof to?(Ra(t),n=t):n=new Ng(t);let r,i=Zn(n),s=Ct(void 0);try{return e()}finally{Zn(i),Ct(s)}}function em(){return RD()!==void 0||rg()!=null}function Xt(t){if(!em())throw new E(-203,!1)}var en=0,B=1,V=2,Ve=3,Ut=4,pt=5,Hi=6,io=7,Me=8,zi=9,An=10,ge=11,so=12,tm=13,qi=14,gt=15,$r=16,Gi=17,Rn=18,Fa=19,nm=20,or=21,Wl=22,ur=23,Rt=24,Wi=25,He=26,jD=1,rm=6,Hr=7,Va=8,Ki=9,ze=10;function Nn(t){return Array.isArray(t)&&typeof t[jD]=="object"}function tn(t){return Array.isArray(t)&&t[jD]===!0}function Kl(t){return(t.flags&4)!==0}function zr(t){return t.componentOffset>-1}function ja(t){return(t.flags&1)===1}function Mn(t){return!!t.template}function oo(t){return(t[V]&512)!==0}function Qi(t){return(t[V]&256)===256}var im="svg",UD="math";function Bt(t){for(;Array.isArray(t);)t=t[en];return t}function sm(t,e){return Bt(e[t])}function nn(t,e){return Bt(e[t.index])}function Ua(t,e){return t.data[e]}function BD(t,e){return t[e]}function $t(t,e){let n=e[t];return Nn(n)?n:n[en]}function $D(t){return(t[V]&4)===4}function Ql(t){return(t[V]&128)===128}function HD(t){return tn(t[Ve])}function rn(t,e){return e==null?null:t[e]}function om(t){t[Gi]=0}function am(t){t[V]&1024||(t[V]|=1024,Ql(t)&&qr(t))}function zD(t,e){for(;t>0;)e=e[qi],t--;return e}function Ba(t){return!!(t[V]&9216||t[Rt]?.dirty)}function Yl(t){t[An].changeDetectionScheduler?.notify(8),t[V]&64&&(t[V]|=1024),Ba(t)&&qr(t)}function qr(t){t[An].changeDetectionScheduler?.notify(0);let e=jr(t);for(;e!==null&&!(e[V]&8192||(e[V]|=8192,!Ql(e)));)e=jr(e)}function cm(t,e){if(Qi(t))throw new E(911,!1);t[or]===null&&(t[or]=[]),t[or].push(e)}function qD(t,e){if(t[or]===null)return;let n=t[or].indexOf(e);n!==-1&&t[or].splice(n,1)}function jr(t){let e=t[Ve];return tn(e)?e[Ve]:e}function um(t){return t[io]??=[]}function lm(t){return t.cleanup??=[]}function GD(t,e,n,r){let i=um(e);i.push(n),t.firstCreatePass&&lm(t).push(r,i.length-1)}var J={lFrame:cS(null),bindingsEnabled:!0,skipHydrationRootTNode:null},$a=function(t){return t[t.Off=0]="Off",t[t.Exhaustive=1]="Exhaustive",t[t.OnlyDirtyViews=2]="OnlyDirtyViews",t}($a||{}),_k=0,Og=!1;function WD(){return J.lFrame.elementDepthCount}function KD(){J.lFrame.elementDepthCount++}function QD(){J.lFrame.elementDepthCount--}function Zl(){return J.bindingsEnabled}function dm(){return J.skipHydrationRootTNode!==null}function YD(t){return J.skipHydrationRootTNode===t}function ZD(){J.skipHydrationRootTNode=null}function W(){return J.lFrame.lView}function ve(){return J.lFrame.tView}function JD(t){return J.lFrame.contextLView=t,t[Me]}function XD(t){return J.lFrame.contextLView=null,t}function et(){let t=hm();for(;t!==null&&t.type===64;)t=t.parent;return t}function hm(){return J.lFrame.currentTNode}function eS(){let t=J.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Gr(t,e){let n=J.lFrame;n.currentTNode=t,n.isParent=e}function Jl(){return J.lFrame.isParent}function Xl(){J.lFrame.isParent=!1}function tS(){return J.lFrame.contextLView}function fm(t){CD("Must never be called in production mode"),_k=t}function pm(){return Og}function ao(t){let e=Og;return Og=t,e}function nS(t){return J.lFrame.bindingIndex=t}function Yi(){return J.lFrame.bindingIndex++}function gm(t){let e=J.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function rS(){return J.lFrame.inI18n}function iS(t,e){let n=J.lFrame;n.bindingIndex=n.bindingRootIndex=t,ed(e)}function sS(){return J.lFrame.currentDirectiveIndex}function ed(t){J.lFrame.currentDirectiveIndex=t}function oS(t){let e=J.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function td(){return J.lFrame.currentQueryIndex}function Ha(t){J.lFrame.currentQueryIndex=t}function Ek(t){let e=t[B];return e.type===2?e.declTNode:e.type===1?t[pt]:null}function mm(t,e,n){if(n&4){let i=e,s=t;for(;i=i.parent,i===null&&!(n&1);)if(i=Ek(s),i===null||(s=s[qi],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=J.lFrame=aS();return r.currentTNode=e,r.lView=t,!0}function nd(t){let e=aS(),n=t[B];J.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function aS(){let t=J.lFrame,e=t===null?null:t.child;return e===null?cS(t):e}function cS(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function uS(){let t=J.lFrame;return J.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var ym=uS;function rd(){let t=uS();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function lS(t){return(J.lFrame.contextLView=zD(t,J.lFrame.contextLView))[Me]}function lr(){return J.lFrame.selectedIndex}function Wr(t){J.lFrame.selectedIndex=t}function za(){let t=J.lFrame;return Ua(t.tView,t.selectedIndex)}function dS(){J.lFrame.currentNamespace=im}function hS(){Ik()}function Ik(){J.lFrame.currentNamespace=null}function fS(){return J.lFrame.currentNamespace}var pS=!0;function qa(){return pS}function Ga(t){pS=t}function kg(t,e=null,n=null,r){let i=vm(t,e,n,r);return i.resolveInjectorInitializers(),i}function vm(t,e=null,n=null,r,i=new Set){let s=[n||at,kD(t)];return r=r||(typeof t=="object"?void 0:wt(t)),new to(s,e||ro(),r||null,i)}var xe=class t{static THROW_IF_NOT_FOUND=Li;static NULL=new Ma;static create(e,n){if(Array.isArray(e))return kg({name:""},n,e,"");{let r=e.name??"";return kg({name:r},e.parent,e.providers,r)}}static \u0275prov=b({token:t,providedIn:"any",factory:()=>M(Wg)});static __NG_ELEMENT_ID__=-1},_e=new N(""),tt=(()=>{class t{static __NG_ELEMENT_ID__=wk;static __NG_ENV_ID__=n=>n}return t})(),Pa=class extends tt{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let n=this._lView;return Qi(n)?(e(),()=>{}):(cm(n,e),()=>qD(n,e))}};function wk(){return new Pa(W())}var At=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Nt=new N("",{providedIn:"root",factory:()=>{let t=v(Pe),e;return n=>{e??=t.get(At),e.handleError(n)}}}),gS={provide:cr,useValue:()=>void v(At),multi:!0};function mS(t){return typeof t=="function"&&t[Re]!==void 0}function Mt(t,e){let n=cg(t,e?.equal),r=n[Re];return n.set=i=>Lr(r,i),n.update=i=>Ia(r,i),n.asReadonly=Wa.bind(n),n}function Wa(){let t=this[Re];if(t.readonlyFn===void 0){let e=()=>this();e[Re]=t,t.readonlyFn=e}return t.readonlyFn}var Zi=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=Tk}return t})();function Tk(){return new Zi(W(),et())}var jt=class{},Ka=new N("",{providedIn:"root",factory:()=>!1});var _m=new N(""),Em=new N(""),dr=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Je(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new G(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=b({token:t,providedIn:"root",factory:()=>new t})}return t})(),co=(()=>{class t{internalPendingTasks=v(dr);scheduler=v(jt);errorHandler=v(Nt);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=b({token:t,providedIn:"root",factory:()=>new t})}return t})();function Ji(...t){}var Qa=(()=>{class t{static \u0275prov=b({token:t,providedIn:"root",factory:()=>new Lg})}return t})(),Lg=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function ic(t){return{toString:t}.toString()}function Rk(t){return typeof t=="function"}var hd=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function YS(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var ns=(()=>{let t=()=>ZS;return t.ngInherit=!0,t})();function ZS(t){return t.type.prototype.ngOnChanges&&(t.setInput=Mk),Nk}function Nk(){let t=XS(this),e=t?.current;if(e){let n=t.previous;if(n===Br)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Mk(t,e,n,r,i){let s=this.declaredInputs[r],o=XS(t)||Pk(t,{previous:Br,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new hd(u&&u.currentValue,n,c===Br),YS(t,e,i,n)}var JS="__ngSimpleChanges__";function XS(t){return t[JS]||null}function Pk(t,e){return t[JS]=e}var yS=[];var le=function(t,e=null,n){for(let r=0;r<yS.length;r++){let i=yS[r];i(t,e,n)}};function xk(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=ZS(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function yy(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function cd(t,e,n){eb(t,e,3,n)}function ud(t,e,n,r){(t[V]&3)===n&&eb(t,e,n,r)}function Im(t,e){let n=t[V];(n&3)===e&&(n&=16383,n+=1,t[V]=n)}function eb(t,e,n,r){let i=r!==void 0?t[Gi]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Gi]+=65536),(a<s||s==-1)&&(Ok(t,n,e,c),t[Gi]=(t[Gi]&4294901760)+c+2),c++}function vS(t,e){le(4,t,e);let n=j(null);try{e.call(t)}finally{j(n),le(5,t,e)}}function Ok(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[V]>>14<t[Gi]>>16&&(t[V]&3)===e&&(t[V]+=16384,vS(a,s)):vS(a,s)}var lo=-1,es=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function kk(t){return(t.flags&8)!==0}function Lk(t){return(t.flags&16)!==0}function Fk(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];Vk(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function tb(t){return t===3||t===4||t===6}function Vk(t){return t.charCodeAt(0)===64}function ho(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?_S(t,n,i,null,e[++r]):_S(t,n,i,null,null))}}return t}function _S(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){i!==null&&(t[s+1]=i);return}s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),i!==null&&t.splice(s++,0,i)}function nb(t){return t!==lo}function fd(t){return t&32767}function jk(t){return t>>16}function pd(t,e){let n=jk(t),r=e;for(;n>0;)r=r[qi],n--;return r}var Pm=!0;function ES(t){let e=Pm;return Pm=t,e}var Uk=256,rb=Uk-1,ib=5,Bk=0,Pn={};function $k(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Bi)&&(r=n[Bi]),r==null&&(r=n[Bi]=Bk++);let i=r&rb,s=1<<i;e.data[t+(i>>ib)]|=s}function gd(t,e){let n=sb(t,e);if(n!==-1)return n;let r=e[B];r.firstCreatePass&&(t.injectorIndex=e.length,wm(r.data,t),wm(e,null),wm(r.blueprint,null));let i=vy(t,e),s=t.injectorIndex;if(nb(i)){let o=fd(i),a=pd(i,e),c=a[B].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function wm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function sb(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function vy(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=lb(i),r===null)return lo;if(n++,i=i[qi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return lo}function xm(t,e,n){$k(t,e,n)}function Hk(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(tb(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function ob(t,e,n){if(n&8||t!==void 0)return t;Hl(e,"NodeInjector")}function ab(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[zi],s=Ct(void 0);try{return i?i.get(e,r,n&8):qg(e,r,n&8)}finally{Ct(s)}}return ob(r,e,n)}function cb(t,e,n,r=0,i){if(t!==null){if(e[V]&2048&&!(r&2)){let o=Wk(t,e,n,r,Pn);if(o!==Pn)return o}let s=ub(t,e,n,r,Pn);if(s!==Pn)return s}return ab(e,n,r,i)}function ub(t,e,n,r,i){let s=qk(n);if(typeof s=="function"){if(!mm(e,t,r))return r&1?ob(i,n,r):ab(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&8))Hl(n);else return o}finally{ym()}}else if(typeof s=="number"){let o=null,a=sb(t,e),c=lo,u=r&1?e[gt][pt]:null;for((a===-1||r&4)&&(c=a===-1?vy(t,e):e[a+8],c===lo||!wS(r,!1)?a=-1:(o=e[B],a=fd(c),e=pd(c,e)));a!==-1;){let l=e[B];if(IS(s,a,l.data)){let d=zk(a,e,n,o,r,u);if(d!==Pn)return d}c=e[a+8],c!==lo&&wS(r,e[B].data[a+8]===u)&&IS(s,a,e)?(o=l,a=fd(c),e=pd(c,e)):a=-1}}return i}function zk(t,e,n,r,i,s){let o=e[B],a=o.data[t+8],c=r==null?zr(a)&&Pm:r!=o&&(a.type&3)!==0,u=i&1&&s===a,l=ld(a,o,n,c,u);return l!==null?Ja(e,o,l,a):Pn}function ld(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,f=i?a+l:u;for(let h=d;h<f;h++){let g=o[h];if(h<c&&n===g||h>=c&&g.type===n)return h}if(i){let h=o[c];if(h&&Mn(h)&&h.type===n)return c}return null}function Ja(t,e,n,r){let i=t[n],s=e.data;if(i instanceof es){let o=i;o.resolving&&zg(AD(s[n]));let a=ES(o.canSeeViewProviders);o.resolving=!0;let c=s[n].type||s[n],u,l=o.injectImpl?Ct(o.injectImpl):null,d=mm(t,r,0);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&xk(n,s[n],e)}finally{l!==null&&Ct(l),ES(a),o.resolving=!1,ym()}}return i}function qk(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Bi)?t[Bi]:void 0;return typeof e=="number"?e>=0?e&rb:Gk:e}function IS(t,e,n){let r=1<<t;return!!(n[e+(t>>ib)]&r)}function wS(t,e){return!(t&2)&&!(t&1&&e)}var Xi=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return cb(this._tNode,this._lView,e,Fi(r),n)}};function Gk(){return new Xi(et(),W())}function Nd(t){return ic(()=>{let e=t.prototype.constructor,n=e[Na]||Om(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Na]||Om(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Om(t){return Fg(t)?()=>{let e=Om(Xe(t));return e&&e()}:Vi(t)}function Wk(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[V]&2048&&!oo(o);){let a=ub(s,o,n,r|2,Pn);if(a!==Pn)return a;let c=s.parent;if(!c){let u=o[nm];if(u){let l=u.get(n,Pn,r);if(l!==Pn)return l}c=lb(o),o=o[qi]}s=c}return i}function lb(t){let e=t[B],n=e.type;return n===2?e.declTNode:n===1?t[pt]:null}function sc(t){return Hk(et(),t)}function Kk(){return vo(et(),W())}function vo(t,e){return new gr(nn(t,e))}var gr=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Kk}return t})();function db(t){return t instanceof gr?t.nativeElement:t}function Qk(){return this._results[Symbol.iterator]()}var md=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new we}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=MD(e);(this._changesDetected=!ND(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Qk};function hb(t){return(t.flags&128)===128}var _y=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(_y||{}),fb=new Map,Yk=0;function Zk(){return Yk++}function Jk(t){fb.set(t[Fa],t)}function km(t){fb.delete(t[Fa])}var TS="__ngContext__";function _o(t,e){Nn(e)?(t[TS]=e[Fa],Jk(e)):t[TS]=e}function pb(t){return mb(t[so])}function gb(t){return mb(t[Ut])}function mb(t){for(;t!==null&&!tn(t);)t=t[Ut];return t}var Lm;function Ey(t){Lm=t}function yb(){if(Lm!==void 0)return Lm;if(typeof document<"u")return document;throw new E(210,!1)}var Md=new N("",{providedIn:"root",factory:()=>Xk}),Xk="ng",Pd=new N(""),Eo=new N("",{providedIn:"platform",factory:()=>"unknown"});var xd=new N(""),Od=new N("",{providedIn:"root",factory:()=>yb().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var eL="h",tL="b";var vb="r";var _b="di";var Eb=!1,Ib=new N("",{providedIn:"root",factory:()=>Eb});var kd=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(kd||{}),Yr=new N(""),DS=new Set;function Ht(t){DS.has(t)||(DS.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var wb=!1,Fm=class extends we{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,em()&&(this.destroyRef=v(tt,{optional:!0})??void 0,this.pendingTasks=v(dr,{optional:!0})??void 0)}emit(e){let n=j(null);try{super.next(e)}finally{j(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof De&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},mt=Fm;function Tb(t){let e,n;function r(){t=Ji;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function SS(t){return queueMicrotask(()=>t()),()=>{t=Ji}}var Iy="isAngularZone",yd=Iy+"_ID",nL=0,Ee=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new mt(!1);onMicrotaskEmpty=new mt(!1);onStable=new mt(!1);onError=new mt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=wb}=e;if(typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,sL(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Iy)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new E(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,rL,Ji,Ji);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},rL={};function wy(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function iL(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Tb(()=>{t.callbackScheduled=!1,Vm(t),t.isCheckStableRunning=!0,wy(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Vm(t)}function sL(t){let e=()=>{iL(t)},n=nL++;t._inner=t._inner.fork({name:"angular",properties:{[Iy]:!0,[yd]:n,[yd+n]:!0},onInvokeTask:(r,i,s,o,a,c)=>{if(oL(c))return r.invokeTask(s,o,a,c);try{return bS(t),r.invokeTask(s,o,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),CS(t)}},onInvoke:(r,i,s,o,a,c,u)=>{try{return bS(t),r.invoke(s,o,a,c,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!aL(c)&&e(),CS(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Vm(t),wy(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Vm(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function bS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function CS(t){t._nesting--,wy(t)}var vd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new mt;onMicrotaskEmpty=new mt;onStable=new mt;onError=new mt;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function oL(t){return Db(t,"__ignore_ng_zone__")}function aL(t){return Db(t,"__scheduler_tick__")}function Db(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Ld=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=b({token:t,providedIn:"root",factory:()=>new t})}return t})(),Ty=[0,1,2,3],Dy=(()=>{class t{ngZone=v(Ee);scheduler=v(jt);errorHandler=v(At,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){v(Yr,{optional:!0})}execute(){let n=this.sequences.size>0;n&&le(16),this.executing=!0;for(let r of Ty)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let s=i.hooks[r];return s(i.pipelinedValue)},i.snapshot))}catch(s){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(s)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&le(17)}register(n){let{view:r}=n;r!==void 0?((r[Wi]??=[]).push(n),qr(r),r[V]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(kd.AFTER_NEXT_RENDER,n):n()}static \u0275prov=b({token:t,providedIn:"root",factory:()=>new t})}return t})(),Xa=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,s,o=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=o,this.unregisterOnDestroy=s?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Wi];e&&(this.view[Wi]=e.filter(n=>n!==this))}};function Fd(t,e){!e?.injector&&Xt(Fd);let n=e?.injector??v(xe);return Ht("NgAfterNextRender"),uL(t,n,e,!0)}function cL(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function uL(t,e,n,r){let i=e.get(Ld);i.impl??=e.get(Dy);let s=e.get(Yr,null,{optional:!0}),o=n?.manualCleanup!==!0?e.get(tt):null,a=e.get(Zi,null,{optional:!0}),c=new Xa(i.impl,cL(t),a?.view,r,o,s?.snapshot(null));return i.impl.register(c),c}var lL=(t,e,n,r)=>{};function dL(t,e,n,r){lL(t,e,n,r)}var hL=()=>null;function Sb(t,e,n=!1){return hL(t,e,n)}function bb(t,e){let n=t.contentQueries;if(n!==null){let r=j(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Ha(s),a.contentQueries(2,e[o],o)}}}finally{j(r)}}}function jm(t,e,n){Ha(0);let r=j(null);try{e(t,n)}finally{j(r)}}function Sy(t,e,n){if(Kl(e)){let r=j(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{j(r)}}}var an=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(an||{}),id;function fL(){if(id===void 0&&(id=null,Ur.trustedTypes))try{id=Ur.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return id}function Vd(t){return fL()?.createHTML(t)||t}var sd;function pL(){if(sd===void 0&&(sd=null,Ur.trustedTypes))try{sd=Ur.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return sd}function AS(t){return pL()?.createScriptURL(t)||t}var hr=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${jl})`}},Um=class extends hr{getTypeName(){return"HTML"}},Bm=class extends hr{getTypeName(){return"Style"}},$m=class extends hr{getTypeName(){return"Script"}},Hm=class extends hr{getTypeName(){return"URL"}},zm=class extends hr{getTypeName(){return"ResourceURL"}};function zt(t){return t instanceof hr?t.changingThisBreaksApplicationSecurity:t}function mr(t,e){let n=Cb(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${jl})`)}return n===e}function Cb(t){return t instanceof hr&&t.getTypeName()||null}function by(t){return new Um(t)}function Cy(t){return new Bm(t)}function Ay(t){return new $m(t)}function Ry(t){return new Hm(t)}function Ny(t){return new zm(t)}function gL(t){let e=new Gm(t);return mL()?new qm(e):e}var qm=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Vd(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},Gm=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Vd(e),n}};function mL(){try{return!!new window.DOMParser().parseFromString(Vd(""),"text/html")}catch{return!1}}var yL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function oc(t){return t=String(t),t.match(yL)?t:"unsafe:"+t}function yr(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function ac(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var Ab=yr("area,br,col,hr,img,wbr"),Rb=yr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Nb=yr("rp,rt"),vL=ac(Nb,Rb),_L=ac(Rb,yr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),EL=ac(Nb,yr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),RS=ac(Ab,_L,EL,vL),Mb=yr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),IL=yr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),wL=yr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),TL=ac(Mb,IL,wL),DL=yr("script,style,template"),Wm=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=CL(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=bL(n);if(s){n=s;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=NS(e).toLowerCase();if(!RS.hasOwnProperty(n))return this.sanitizedSomething=!0,!DL.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!TL.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;Mb[a]&&(c=oc(c)),this.buf.push(" ",o,'="',MS(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=NS(e).toLowerCase();RS.hasOwnProperty(n)&&!Ab.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(MS(e))}};function SL(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function bL(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw Pb(e);return e}function CL(t){let e=t.firstChild;if(e&&SL(t,e))throw Pb(e);return e}function NS(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function Pb(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var AL=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,RL=/([^\#-~ |!])/g;function MS(t){return t.replace(/&/g,"&amp;").replace(AL,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(RL,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var od;function My(t,e){let n=null;try{od=od||gL(t);let r=e?String(e):"";n=od.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=od.getInertBodyElement(r)}while(r!==s);let a=new Wm().sanitizeChildren(PS(n)||n);return Vd(a)}finally{if(n){let r=PS(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function PS(t){return"content"in t&&NL(t)?t.content:null}function NL(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var cn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(cn||{});function xb(t){let e=kb();return e?e.sanitize(cn.URL,t)||"":mr(t,"URL")?zt(t):oc(Oa(t))}function Ob(t){let e=kb();if(e)return AS(e.sanitize(cn.RESOURCE_URL,t)||"");if(mr(t,"ResourceURL"))return AS(zt(t));throw new E(904,!1)}function ML(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?Ob:xb}function Py(t,e,n){return ML(e,n)(t)}function kb(){let t=W();return t&&t[An].sanitizer}var PL=/^>|^->|<!--|-->|--!>|<!-$/g,xL=/(<|>)/g,OL="\u200B$1\u200B";function kL(t){return t.replace(PL,e=>e.replace(xL,OL))}function Lb(t){return t instanceof Function?t():t}function LL(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}var Fb="ng-template";function FL(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&LL(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(xy(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function xy(t){return t.type===4&&t.value!==Fb}function VL(t,e,n){let r=t.type===4&&!n?Fb:t.value;return e===r}function jL(t,e,n){let r=4,i=t.attrs,s=i!==null?$L(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!sn(r)&&!sn(c))return!1;if(o&&sn(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!VL(t,c,n)||c===""&&e.length===1){if(sn(r))return!1;o=!0}}else if(r&8){if(i===null||!FL(t,i,c,n)){if(sn(r))return!1;o=!0}}else{let u=e[++a],l=UL(c,i,xy(t),n);if(l===-1){if(sn(r))return!1;o=!0;continue}if(u!==""){let d;if(l>s?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if(sn(r))return!1;o=!0}}}}return sn(r)||o}function sn(t){return(t&1)===0}function UL(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return HL(e,t)}function Vb(t,e,n=!1){for(let r=0;r<e.length;r++)if(jL(t,e[r],n))return!0;return!1}function BL(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if((n&1)===0)return e[n+1]}return null}function $L(t){for(let e=0;e<t.length;e++){let n=t[e];if(tb(n))return e}return t.length}function HL(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function zL(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function xS(t,e){return t?":not("+e.trim()+")":e}function qL(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!sn(o)&&(e+=xS(s,i),i=""),r=o,s=s||!sn(r);n++}return i!==""&&(e+=xS(s,i)),e}function GL(t){return t.map(qL).join(",")}function WL(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!sn(i))break;i=s}r++}return n.length&&e.push(1,...n),e}var un={};function KL(t,e){return t.createText(e)}function QL(t,e,n){t.setValue(e,n)}function YL(t,e){return t.createComment(kL(e))}function jb(t,e,n){return t.createElement(e,n)}function _d(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Ub(t,e,n){t.appendChild(e,n)}function OS(t,e,n,r,i){r!==null?_d(t,e,n,r,i):Ub(t,e,n)}function Bb(t,e,n){t.removeChild(null,e,n)}function ZL(t,e,n){t.setAttribute(e,"style",n)}function JL(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function $b(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Fk(t,e,r),i!==null&&JL(t,e,i),s!==null&&ZL(t,e,s)}function Oy(t,e,n,r,i,s,o,a,c,u,l){let d=He+r,f=d+i,h=XL(d,f),g=typeof u=="function"?u():u;return h[B]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}function XL(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:un);return n}function eF(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Oy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function ky(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[en]=i,d[V]=r|4|128|8|64|1024,(u!==null||t&&t[V]&2048)&&(d[V]|=2048),om(d),d[Ve]=d[qi]=t,d[Me]=n,d[An]=o||t&&t[An],d[ge]=a||t&&t[ge],d[zi]=c||t&&t[zi]||null,d[pt]=s,d[Fa]=Zk(),d[Hi]=l,d[nm]=u,d[gt]=e.type==2?t[gt]:d,d}function tF(t,e,n){let r=nn(e,t),i=eF(n),s=t[An].rendererFactory,o=Ly(t,ky(t,i,null,Hb(n),r,e,null,s.createRenderer(r,n),null,null,null));return t[e.index]=o}function Hb(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function zb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ly(t,e){return t[so]?t[tm][Ut]=e:t[so]=e,t[tm]=e,e}function nF(t=1){qb(ve(),W(),lr()+t,!1)}function qb(t,e,n,r){if(!r)if((e[V]&3)===3){let s=t.preOrderCheckHooks;s!==null&&cd(e,s,n)}else{let s=t.preOrderHooks;s!==null&&ud(e,s,0,n)}Wr(n)}var jd=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(jd||{});function Km(t,e,n,r){let i=j(null);try{let[s,o,a]=t.inputs[n],c=null;(o&jd.SignalBased)!==0&&(c=e[s][Re]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,s):YS(e,c,s,r)}finally{j(i)}}function Gb(t,e,n,r,i){let s=lr(),o=r&2;try{Wr(-1),o&&e.length>He&&qb(t,e,He,!1),le(o?2:0,i,n),n(r,i)}finally{Wr(s),le(o?3:1,i,n)}}function Ud(t,e,n){cF(t,e,n),(n.flags&64)===64&&uF(t,e,n)}function Fy(t,e,n=nn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function rF(t,e,n,r){let s=r.get(Ib,Eb)||n===an.ShadowDom,o=t.selectRootElement(e,s);return iF(o),o}function iF(t){sF(t)}var sF=()=>null;function oF(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Wb(t,e,n,r,i,s){let o=e[B];if(jy(t,o,e,n,r)){zr(t)&&aF(e,t.index);return}Kb(t,e,n,r,i,s)}function Kb(t,e,n,r,i,s){if(t.type&3){let o=nn(t,e);n=oF(n),r=s!=null?s(r,t.value||"",n):r,i.setProperty(o,n,r)}else t.type&12}function aF(t,e){let n=$t(e,t);n[V]&16||(n[V]|=64)}function cF(t,e,n){let r=n.directiveStart,i=n.directiveEnd;zr(n)&&tF(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||gd(n,e);let s=n.initialInputs;for(let o=r;o<i;o++){let a=t.data[o],c=Ja(e,t,o,n);if(_o(c,e),s!==null&&fF(e,o-r,c,a,n,s),Mn(a)){let u=$t(n.index,e);u[Me]=Ja(e,t,o,n)}}}function uF(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=sS();try{Wr(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];ed(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&lF(c,u)}}finally{Wr(-1),ed(o)}}function lF(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Vy(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let s=n[i];Vb(e,s.selectors,!1)&&(r??=[],Mn(s)?r.unshift(s):r.push(s))}return r}function dF(t,e,n,r,i,s){let o=nn(t,e);hF(e[ge],o,s,t.value,n,r,i)}function hF(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Oa(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function fF(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;a+=2){let c=o[a],u=o[a+1];Km(r,n,c,u)}}function pF(t,e){let n=t[zi];if(!n)return;n.get(Nt,null)?.(e)}function jy(t,e,n,r,i){let s=t.inputs?.[r],o=t.hostDirectiveInputs?.[r],a=!1;if(o)for(let c=0;c<o.length;c+=2){let u=o[c],l=o[c+1],d=e.data[u];Km(d,n[u],l,i),a=!0}if(s)for(let c of s){let u=n[c],l=e.data[c];Km(l,u,r,i),a=!0}return a}function gF(t,e){let n=$t(e,t),r=n[B];mF(r,n);let i=n[en];i!==null&&n[Hi]===null&&(n[Hi]=Sb(i,n[zi])),le(18),Uy(r,n,n[Me]),le(19,n[Me])}function mF(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Uy(t,e,n){nd(e);try{let r=t.viewQuery;r!==null&&jm(1,r,n);let i=t.template;i!==null&&Gb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Rn]?.finishViewCreation(t),t.staticContentQueries&&bb(t,e),t.staticViewQueries&&jm(2,t.viewQuery,n);let s=t.components;s!==null&&yF(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[V]&=-5,rd()}}function yF(t,e){for(let n=0;n<e.length;n++)gF(t,e[n])}function cc(t,e,n,r){let i=j(null);try{let s=e.tView,a=t[V]&4096?4096:16,c=ky(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[$r]=u;let l=t[Rn];return l!==null&&(c[Rn]=l.createEmbeddedView(s)),Uy(s,c,n),c}finally{j(i)}}function fo(t,e){return!e||e.firstChild===null||hb(t)}var kS=!1,vF=new N(""),_F;function By(t,e){return _F(t,e)}var fr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(fr||{});function Bd(t){return(t.flags&32)===32}function uo(t,e,n,r,i){if(r!=null){let s,o=!1;tn(r)?s=r:Nn(r)&&(o=!0,r=r[en]);let a=Bt(r);t===0&&n!==null?i==null?Ub(e,n,a):_d(e,n,a,i||null,!0):t===1&&n!==null?_d(e,n,a,i||null,!0):t===2?Bb(e,a,o):t===3&&e.destroyNode(a),s!=null&&RF(e,t,s,n,i)}}function EF(t,e){Qb(t,e),e[en]=null,e[pt]=null}function IF(t,e,n,r,i,s){r[en]=i,r[pt]=e,zd(t,r,n,1,i,s)}function Qb(t,e){e[An].changeDetectionScheduler?.notify(9),zd(t,e,e[ge],2,null,null)}function wF(t){let e=t[so];if(!e)return Tm(t[B],t);for(;e;){let n=null;if(Nn(e))n=e[so];else{let r=e[ze];r&&(n=r)}if(!n){for(;e&&!e[Ut]&&e!==t;)Nn(e)&&Tm(e[B],e),e=e[Ve];e===null&&(e=t),Nn(e)&&Tm(e[B],e),n=e&&e[Ut]}e=n}}function $y(t,e){let n=t[Ki],r=n.indexOf(e);n.splice(r,1)}function $d(t,e){if(Qi(e))return;let n=e[ge];n.destroyNode&&zd(t,e,n,3,null,null),wF(e)}function Tm(t,e){if(Qi(e))return;let n=j(null);try{e[V]&=-129,e[V]|=256,e[Rt]&&Bs(e[Rt]),DF(t,e),TF(t,e),e[B].type===1&&e[ge].destroy();let r=e[$r];if(r!==null&&tn(e[Ve])){r!==e[Ve]&&$y(r,e);let i=e[Rn];i!==null&&i.detachView(t)}km(e)}finally{j(n)}}function TF(t,e){let n=t.cleanup,r=e[io];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let a=n[o+3];a>=0?r[a]():r[-a].unsubscribe(),o+=2}else{let a=r[n[o+1]];n[o].call(a)}r!==null&&(e[io]=null);let i=e[or];if(i!==null){e[or]=null;for(let o=0;o<i.length;o++){let a=i[o];a()}}let s=e[ur];if(s!==null){e[ur]=null;for(let o of s)o.destroy()}}function DF(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof es)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];le(4,a,c);try{c.call(a)}finally{le(5,a,c)}}else{le(4,i,s);try{s.call(i)}finally{le(5,i,s)}}}}}function Yb(t,e,n){return SF(t,e.parent,n)}function SF(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[en];if(zr(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===an.None||i===an.Emulated)return null}return nn(r,n)}function Zb(t,e,n){return CF(t,e,n)}function bF(t,e,n){return t.type&40?nn(t,n):null}var CF=bF,LS;function Hd(t,e,n,r){let i=Yb(t,r,e),s=e[ge],o=r.parent||e[pt],a=Zb(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)OS(s,i,n[c],a,!1);else OS(s,i,n,a,!1);LS!==void 0&&LS(s,r,e,n,i)}function Ya(t,e){if(e!==null){let n=e.type;if(n&3)return nn(e,t);if(n&4)return Qm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ya(t,r);{let i=t[e.index];return tn(i)?Qm(-1,i):Bt(i)}}else{if(n&128)return Ya(t,e.next);if(n&32)return By(e,t)()||Bt(t[e.index]);{let r=Jb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=jr(t[gt]);return Ya(i,r)}else return Ya(t,e.next)}}}return null}function Jb(t,e){if(e!==null){let r=t[gt][pt],i=e.projection;return r.projection[i]}return null}function Qm(t,e){let n=ze+t+1;if(n<e.length){let r=e[n],i=r[B].firstChild;if(i!==null)return Ya(r,i)}return e[Hr]}function Hy(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(o&&e===0&&(a&&_o(Bt(a),r),n.flags|=2),!Bd(n))if(c&8)Hy(t,e,n.child,r,i,s,!1),uo(e,t,i,a,s);else if(c&32){let u=By(n,r),l;for(;l=u();)uo(e,t,i,l,s);uo(e,t,i,a,s)}else c&16?Xb(t,e,r,n,i,s):uo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function zd(t,e,n,r,i,s){Hy(n,r,t.firstChild,e,i,s,!1)}function AF(t,e,n){let r=e[ge],i=Yb(t,n,e),s=n.parent||e[pt],o=Zb(s,n,e);Xb(r,0,e,n,i,o)}function Xb(t,e,n,r,i,s){let o=n[gt],c=o[pt].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];uo(e,t,i,l,s)}else{let u=c,l=o[Ve];hb(r)&&(u.flags|=128),Hy(t,e,u,l,i,s,!0)}}function RF(t,e,n,r,i){let s=n[Hr],o=Bt(n);s!==o&&uo(e,t,r,s,i);for(let a=ze;a<n.length;a++){let c=n[a];zd(c[B],c,t,e,r,s)}}function NF(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:fr.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=fr.Important),t.setStyle(n,r,i,s))}}function ec(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(Bt(s)),tn(s)&&eC(s,r);let o=n.type;if(o&8)ec(t,e,n.child,r);else if(o&32){let a=By(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=Jb(e,n);if(Array.isArray(a))r.push(...a);else{let c=jr(e[gt]);ec(c[B],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function eC(t,e){for(let n=ze;n<t.length;n++){let r=t[n],i=r[B].firstChild;i!==null&&ec(r[B],r,i,e)}t[Hr]!==t[en]&&e.push(t[Hr])}function tC(t){if(t[Wi]!==null){for(let e of t[Wi])e.impl.addSequence(e);t[Wi].length=0}}var nC=[];function MF(t){return t[Rt]??PF(t)}function PF(t){let e=nC.pop()??Object.create(OF);return e.lView=t,e}function xF(t){t.lView[Rt]!==t&&(t.lView=null,nC.push(t))}var OF=ee(w({},Xn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{qr(t.lView)},consumerOnSignalRead(){this.lView[Rt]=this}});function kF(t){let e=t[Rt]??Object.create(LF);return e.lView=t,e}var LF=ee(w({},Xn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=jr(t.lView);for(;e&&!rC(e[B]);)e=jr(e);e&&am(e)},consumerOnSignalRead(){this.lView[Rt]=this}});function rC(t){return t.type!==2}function iC(t){if(t[ur]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[ur])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[V]&8192)}}var FF=100;function zy(t,e=0){let r=t[An].rendererFactory,i=!1;i||r.begin?.();try{VF(t,e)}finally{i||r.end?.()}}function VF(t,e){let n=pm();try{ao(!0),Ym(t,e);let r=0;for(;Ba(t);){if(r===FF)throw new E(103,!1);r++,Ym(t,1)}}finally{ao(n)}}function sC(t,e){fm(e?$a.Exhaustive:$a.OnlyDirtyViews);try{zy(t)}finally{fm($a.Off)}}function jF(t,e,n,r){if(Qi(e))return;let i=e[V],s=!1,o=!1;nd(e);let a=!0,c=null,u=null;s||(rC(t)?(u=MF(e),c=Dn(u)):sl()===null?(a=!1,u=kF(e),c=Dn(u)):e[Rt]&&(Bs(e[Rt]),e[Rt]=null));try{om(e),nS(t.bindingStartIndex),n!==null&&Gb(t,e,n,2,r);let l=(i&3)===3;if(!s)if(l){let h=t.preOrderCheckHooks;h!==null&&cd(e,h,null)}else{let h=t.preOrderHooks;h!==null&&ud(e,h,0,null),Im(e,0)}if(o||UF(e),iC(e),oC(e,0),t.contentQueries!==null&&bb(t,e),!s)if(l){let h=t.contentCheckHooks;h!==null&&cd(e,h)}else{let h=t.contentHooks;h!==null&&ud(e,h,1),Im(e,1)}$F(t,e);let d=t.components;d!==null&&cC(e,d,0);let f=t.viewQuery;if(f!==null&&jm(2,f,r),!s)if(l){let h=t.viewCheckHooks;h!==null&&cd(e,h)}else{let h=t.viewHooks;h!==null&&ud(e,h,2),Im(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Wl]){for(let h of e[Wl])h();e[Wl]=null}s||(tC(e),e[V]&=-73)}catch(l){throw s||qr(e),l}finally{u!==null&&(er(u,c),a&&xF(u)),rd()}}function oC(t,e){for(let n=pb(t);n!==null;n=gb(n))for(let r=ze;r<n.length;r++){let i=n[r];aC(i,e)}}function UF(t){for(let e=pb(t);e!==null;e=gb(e)){if(!(e[V]&2))continue;let n=e[Ki];for(let r=0;r<n.length;r++){let i=n[r];am(i)}}}function BF(t,e,n){le(18);let r=$t(e,t);aC(r,n),le(19,r[Me])}function aC(t,e){Ql(t)&&Ym(t,e)}function Ym(t,e){let r=t[B],i=t[V],s=t[Rt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Ni(s)),o||=!1,s&&(s.dirty=!1),t[V]&=-9217,o)jF(r,t,r.template,t[Me]);else if(i&8192){iC(t),oC(t,1);let a=r.components;a!==null&&cC(t,a,1),tC(t)}}function cC(t,e,n){for(let r=0;r<e.length;r++)BF(t,e[r],n)}function $F(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Wr(~i);else{let s=i,o=n[++r],a=n[++r];iS(o,s);let c=e[s];le(24,c),a(2,c),le(25,c)}}}finally{Wr(-1)}}function qy(t,e){let n=pm()?64:1088;for(t[An].changeDetectionScheduler?.notify(e);t;){t[V]|=n;let r=jr(t);if(oo(t)&&!r)return t;t=r}return null}function uC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function lC(t,e){let n=ze+e;if(n<t.length)return t[n]}function uc(t,e,n,r=!0){let i=e[B];if(HF(i,e,t,n),r){let o=Qm(n,t),a=e[ge],c=a.parentNode(t[Hr]);c!==null&&IF(i,t[pt],a,e,c,o)}let s=e[Hi];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function dC(t,e){let n=tc(t,e);return n!==void 0&&$d(n[B],n),n}function tc(t,e){if(t.length<=ze)return;let n=ze+e,r=t[n];if(r){let i=r[$r];i!==null&&i!==t&&$y(i,r),e>0&&(t[n-1][Ut]=r[Ut]);let s=ka(t,ze+e);EF(r[B],r);let o=s[Rn];o!==null&&o.detachView(s[B]),r[Ve]=null,r[Ut]=null,r[V]&=-129}return r}function HF(t,e,n,r){let i=ze+r,s=n.length;r>0&&(n[i-1][Ut]=e),r<s-ze?(e[Ut]=n[i],Gg(n,ze+r,e)):(n.push(e),e[Ut]=null),e[Ve]=n;let o=e[$r];o!==null&&n!==o&&hC(o,e);let a=e[Rn];a!==null&&a.insertView(t),Yl(e),e[V]|=128}function hC(t,e){let n=t[Ki],r=e[Ve];if(Nn(r))t[V]|=2;else{let i=r[Ve][gt];e[gt]!==i&&(t[V]|=2)}n===null?t[Ki]=[e]:n.push(e)}var Kr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[B];return ec(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[Me]}set context(e){this._lView[Me]=e}get destroyed(){return Qi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ve];if(tn(e)){let n=e[Va],r=n?n.indexOf(this):-1;r>-1&&(tc(e,r),ka(n,r))}this._attachedToViewContainer=!1}$d(this._lView[B],this._lView)}onDestroy(e){cm(this._lView,e)}markForCheck(){qy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[V]&=-129}reattach(){Yl(this._lView),this._lView[V]|=128}detectChanges(){this._lView[V]|=1024,zy(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[zi].get(vF,kS)}catch{this.exhaustive=kS}}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=oo(this._lView),n=this._lView[$r];n!==null&&!e&&$y(n,this._lView),Qb(this._lView[B],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=e;let n=oo(this._lView),r=this._lView[$r];r!==null&&!n&&hC(r,this._lView),Yl(this._lView)}};var po=(()=>{class t{static __NG_ELEMENT_ID__=GF}return t})(),zF=po,qF=class extends zF{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=cc(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Kr(i)}};function GF(){return qd(et(),W())}function qd(t,e){return t.type&4?new qF(e,t,vo(t,e)):null}function lc(t,e,n,r,i){let s=t.data[e];if(s===null)s=WF(t,e,n,r,i),rS()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=eS();s.injectorIndex=o===null?-1:o.injectorIndex}return Gr(s,!0),s}function WF(t,e,n,r,i){let s=hm(),o=Jl(),a=o?s:s&&s.parent,c=t.data[e]=QF(t,a,n,e,r,i);return KF(t,c,s,o),c}function KF(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function QF(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return dm()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var A7=new RegExp(`^(\\d+)*(${tL}|${eL})*(.*)`);function YF(t){let e=t[rm]??[],r=t[Ve][ge],i=[];for(let s of e)s.data[_b]!==void 0?i.push(s):ZF(s,r);t[rm]=i}function ZF(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[vb];for(;n<i;){let s=r.nextSibling;Bb(e,r,!1),r=s,n++}}}var JF=()=>null,XF=()=>null;function Ed(t,e){return JF(t,e)}function fC(t,e,n){return XF(t,e,n)}var pC=class{},Gd=class{},Zm=class{resolveComponentFactory(e){throw new E(917,!1)}},dc=class{static NULL=new Zm},pr=class{},hc=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>e1()}return t})();function e1(){let t=W(),e=et(),n=$t(e.index,t);return(Nn(n)?n:t)[ge]}var gC=(()=>{class t{static \u0275prov=b({token:t,providedIn:"root",factory:()=>null})}return t})();var dd={},Jm=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,dd,r);return i!==dd||n===dd?i:this.parentInjector.get(e,n,r)}};function Xm(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Ul(i,a);else if(s==2){let c=a,u=e[++o];r=Ul(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function qt(t,e=0){let n=W();if(n===null)return M(t,e);let r=et();return cb(r,n,Xe(t),e)}function Gy(){let t="invalid";throw new Error(t)}function Wy(t,e,n,r,i){let s=r===null?null:{"":-1},o=i(t,n);if(o!==null){let a=o,c=null,u=null;for(let l of o)if(l.resolveHostDirectives!==null){[a,c,u]=l.resolveHostDirectives(o);break}r1(t,e,n,a,s,c,u)}s!==null&&r!==null&&t1(n,r,s)}function t1(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new E(-301,!1);r.push(e[i],s)}}function n1(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function r1(t,e,n,r,i,s,o){let a=r.length,c=!1;for(let f=0;f<a;f++){let h=r[f];!c&&Mn(h)&&(c=!0,n1(t,n,f)),xm(gd(n,e),t,h.type)}u1(n,t.data.length,a);for(let f=0;f<a;f++){let h=r[f];h.providersResolver&&h.providersResolver(h)}let u=!1,l=!1,d=zb(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let f=0;f<a;f++){let h=r[f];if(n.mergedAttrs=ho(n.mergedAttrs,h.hostAttrs),s1(t,n,e,d,h),c1(d,h,i),o!==null&&o.has(h)){let[m,y]=o.get(h);n.directiveToIndex.set(h.type,[d,m+n.directiveStart,y+n.directiveStart])}else(s===null||!s.has(h))&&n.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let g=h.type.prototype;!u&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),u=!0),!l&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),l=!0),d++}i1(t,n,s)}function i1(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))FS(0,e,i,r),FS(1,e,i,r),jS(e,r,!1);else{let s=n.get(i);VS(0,e,s,r),VS(1,e,s,r),jS(e,r,!0)}}}function FS(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o;t===0?o=e.inputs??={}:o=e.outputs??={},o[s]??=[],o[s].push(r),mC(e,s)}}function VS(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o=i[s],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[o]??=[],a[o].push(r,s),mC(e,o)}}function mC(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function jS(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:s}=t;if(r===null||!n&&i===null||n&&s===null||xy(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let o=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let u=i[c];for(let l of u)if(l===e){o??=[],o.push(c,r[a+1]);break}}else if(n&&s.hasOwnProperty(c)){let u=s[c];for(let l=0;l<u.length;l+=2)if(u[l]===e){o??=[],o.push(u[l+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(o)}function s1(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Vi(i.type,!0)),o=new es(s,Mn(i),qt);t.blueprint[r]=o,n[r]=o,o1(t,e,r,zb(t,n,i.hostVars,un),i)}function o1(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;a1(o)!=a&&o.push(a),o.push(n,r,s)}}function a1(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function c1(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Mn(e)&&(n[""]=t)}}function u1(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function yC(t,e,n,r,i,s,o,a){let c=e.consts,u=rn(c,o),l=lc(e,t,2,r,u);return s&&Wy(e,n,l,rn(c,a),i),l.mergedAttrs=ho(l.mergedAttrs,l.attrs),l.attrs!==null&&Xm(l,l.attrs,!1),l.mergedAttrs!==null&&Xm(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function vC(t,e){yy(t,e),Kl(e)&&t.queries.elementEnd(e)}function Zr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Dm(t,e,n){return function r(i){let s=zr(t)?$t(t.index,e):e;qy(s,5);let o=e[Me],a=US(e,o,n,i),c=r.__ngNextListenerFn__;for(;c;)a=US(e,o,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function US(t,e,n,r){let i=j(null);try{return le(6,e,n),n(r)!==!1}catch(s){return pF(t,s),!1}finally{le(7,e,n),j(i)}}function l1(t,e,n,r,i,s,o,a){let c=ja(t),u=!1,l=null;if(!r&&c&&(l=d1(e,n,s,t.index)),l!==null){let d=l.__ngLastListenerFn__||l;d.__ngNextListenerFn__=o,l.__ngLastListenerFn__=o,u=!0}else{let d=nn(t,n),f=r?r(d):d;dL(n,f,s,a);let h=i.listen(f,s,a),g=r?m=>r(Bt(m[t.index])):t.index;_C(g,e,n,s,a,h,!1)}return u}function d1(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[io],c=i[s+2];return a&&a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function _C(t,e,n,r,i,s,o){let a=e.firstCreatePass?lm(e):null,c=um(n),u=c.length;c.push(i,s),a&&a.push(r,t,u,(u+1)*(o?-1:1))}function BS(t,e,n,r,i,s){let o=e[n],a=e[B],u=a.data[n].outputs[r],d=o[u].subscribe(s);_C(t.index,a,e,i,s,d,!0)}var ey=Symbol("BINDING");var Id=class extends dc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Cn(e);return new Qr(n,this.ngModule)}};function h1(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],s={propName:n,templateName:e,isSignal:(r&jd.SignalBased)!==0};return i&&(s.transform=i),s})}function f1(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function p1(t,e,n){let r=e instanceof Pe?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Jm(n,r):n}function g1(t){let e=t.get(pr,null);if(e===null)throw new E(407,!1);let n=t.get(gC,null),r=t.get(jt,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function m1(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return jb(e,n,n==="svg"?im:n==="math"?UD:null)}var Qr=class extends Gd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=h1(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=f1(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=GL(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,s,o){le(22);let a=j(null);try{let c=this.componentDef,u=y1(r,c,o,s),l=p1(c,i||this.ngModule,e),d=g1(l),f=d.rendererFactory.createRenderer(null,c),h=r?rF(f,r,c.encapsulation,l):m1(c,f),g=o?.some($S)||s?.some(I=>typeof I!="function"&&I.bindings.some($S)),m=ky(null,u,null,512|Hb(c),null,null,d,f,l,null,Sb(h,l,!0));m[He]=h,nd(m);let y=null;try{let I=yC(He,u,m,"#host",()=>u.directiveRegistry,!0,0);h&&($b(f,h,I),_o(h,m)),Ud(u,m,I),Sy(u,I,m),vC(u,I),n!==void 0&&_1(I,this.ngContentSelectors,n),y=$t(I.index,m),m[Me]=y[Me],Uy(u,m,null)}catch(I){throw y!==null&&km(y),km(m),I}finally{le(23),rd()}return new wd(this.componentType,m,!!g)}finally{j(a)}}};function y1(t,e,n,r){let i=t?["ng-version","20.0.0-rc.1"]:WL(e.selectors[0]),s=null,o=null,a=0;if(n)for(let l of n)a+=l[ey].requiredVars,l.create&&(l.targetIdx=0,(s??=[]).push(l)),l.update&&(l.targetIdx=0,(o??=[]).push(l));if(r)for(let l=0;l<r.length;l++){let d=r[l];if(typeof d!="function")for(let f of d.bindings){a+=f[ey].requiredVars;let h=l+1;f.create&&(f.targetIdx=h,(s??=[]).push(f)),f.update&&(f.targetIdx=h,(o??=[]).push(f))}}let c=[e];if(r)for(let l of r){let d=typeof l=="function"?l:l.type,f=Yg(d);c.push(f)}return Oy(0,null,v1(s,o),1,a,c,null,null,null,[i],null)}function v1(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function $S(t){let e=t[ey].kind;return e==="input"||e==="twoWay"}var wd=class extends pC{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Ua(n[B],He),this.location=vo(this._tNode,n),this.instance=$t(this._tNode.index,n)[Me],this.hostView=this.changeDetectorRef=new Kr(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,s=jy(r,i[B],i,e,n);this.previousInputValues.set(e,n);let o=$t(r.index,i);qy(o,1)}get injector(){return new Xi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function _1(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null&&s.length?Array.from(s):null)}}var Jr=(()=>{class t{static __NG_ELEMENT_ID__=E1}return t})();function E1(){let t=et();return IC(t,W())}var I1=Jr,EC=class extends I1{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return vo(this._hostTNode,this._hostLView)}get injector(){return new Xi(this._hostTNode,this._hostLView)}get parentInjector(){let e=vy(this._hostTNode,this._hostLView);if(nb(e)){let n=pd(e,this._hostLView),r=fd(e),i=n[B].data[r+8];return new Xi(i,n)}else return new Xi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=HS(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ze}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Ed(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,fo(this._hostTNode,o)),a}createComponent(e,n,r,i,s,o,a){let c=e&&!Rk(e),u;if(c)u=n;else{let y=n||{};u=y.index,r=y.injector,i=y.projectableNodes,s=y.environmentInjector||y.ngModuleRef,o=y.directives,a=y.bindings}let l=c?e:new Qr(Cn(e)),d=r||this.parentInjector;if(!s&&l.ngModule==null){let I=(c?d:this.parentInjector).get(Pe,null);I&&(s=I)}let f=Cn(l.componentType??{}),h=Ed(this._lContainer,f?.id??null),g=h?.firstChild??null,m=l.create(d,i,g,s,o,a);return this.insertImpl(m.hostView,u,fo(this._hostTNode,h)),m}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(HD(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Ve],u=new EC(c,c[pt],c[Ve]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return uc(o,i,s,r),e.attachToViewContainerRef(),Gg(Sm(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=HS(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=tc(this._lContainer,n);r&&(ka(Sm(this._lContainer),n),$d(r[B],r))}detach(e){let n=this._adjustIndex(e,-1),r=tc(this._lContainer,n);return r&&ka(Sm(this._lContainer),n)!=null?new Kr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function HS(t){return t[Va]}function Sm(t){return t[Va]||(t[Va]=[])}function IC(t,e){let n,r=e[t.index];return tn(r)?n=r:(n=uC(r,e,null,t),e[t.index]=n,Ly(e,n)),T1(n,e,t,r),new EC(n,t,e)}function w1(t,e){let n=t[ge],r=n.createComment(""),i=nn(e,t),s=n.parentNode(i);return _d(n,s,r,n.nextSibling(i),!1),r}var T1=b1,D1=()=>!1;function S1(t,e,n){return D1(t,e,n)}function b1(t,e,n,r){if(t[Hr])return;let i;n.type&8?i=Bt(r):i=w1(e,n),t[Hr]=i}var ty=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},ny=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Qy(e,n).matches!==null&&this.queries[n].setDirty()}},Td=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=M1(e):this.predicate=e}},ry=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},iy=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,C1(n,s)),this.matchTNodeWithReadOption(e,n,ld(n,e,s,!1,!1))}else r===po?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,ld(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===gr||i===Jr||i===po&&n.type&4)this.addMatch(n.index,-2);else{let s=ld(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function C1(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function A1(t,e){return t.type&11?vo(t,e):t.type&4?qd(t,e):null}function R1(t,e,n,r){return n===-1?A1(e,t):n===-2?N1(t,e,r):Ja(t,t[B],n,e)}function N1(t,e,n){if(n===gr)return vo(e,t);if(n===po)return qd(e,t);if(n===Jr)return IC(e,t)}function wC(t,e,n,r){let i=e[Rn].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let l=s[u];a.push(R1(e,l,o[c+1],n.metadata.read))}}i.matches=a}return i.matches}function sy(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=wC(t,e,i,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let u=s[a+1],l=e[-c];for(let d=ze;d<l.length;d++){let f=l[d];f[$r]===f[Ve]&&sy(f[B],f,u,r)}if(l[Ki]!==null){let d=l[Ki];for(let f=0;f<d.length;f++){let h=d[f];sy(h[B],h,u,r)}}}}}return r}function Ky(t,e){return t[Rn].queries[e].queryList}function TC(t,e,n){let r=new md((n&4)===4);return GD(t,e,r,r.destroy),(e[Rn]??=new ny).queries.push(new ty(r))-1}function DC(t,e,n){let r=ve();return r.firstCreatePass&&(bC(r,new Td(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),TC(r,W(),e)}function SC(t,e,n,r){let i=ve();if(i.firstCreatePass){let s=et();bC(i,new Td(e,n,r),s.index),P1(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return TC(i,W(),n)}function M1(t){return t.split(",").map(e=>e.trim())}function bC(t,e,n){t.queries===null&&(t.queries=new ry),t.queries.track(new iy(e,n))}function P1(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Qy(t,e){return t.queries.getByIndex(e)}function CC(t,e){let n=t[B],r=Qy(n,e);return r.crossesNgTemplate?sy(n,t,e,[]):wC(n,t,r,e)}function AC(t,e,n){let r,i=Ea(()=>{r._dirtyCounter();let s=x1(r,t);if(e&&s===void 0)throw new E(-951,!1);return s});return r=i[Re],r._dirtyCounter=Mt(0),r._flatValue=void 0,i}function Yy(t){return AC(!0,!1,t)}function Zy(t){return AC(!0,!0,t)}function RC(t,e){let n=t[Re];n._lView=W(),n._queryIndex=e,n._queryList=Ky(n._lView,e),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function x1(t,e){let n=t._lView,r=t._queryIndex;if(n===void 0||r===void 0||n[V]&4)return e?void 0:at;let i=Ky(n,r),s=CC(n,r);return i.reset(s,db),e?i.first:i._changesDetected||t._flatValue===void 0?t._flatValue=i.toArray():t._flatValue}var go=class{},Wd=class{};var Dd=class extends go{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Id(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let s=Qg(e);this._bootstrapComponents=Lb(s.bootstrap),this._r3Injector=vm(e,n,[{provide:go,useValue:this},{provide:dc,useValue:this.componentFactoryResolver},...r],wt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Sd=class extends Wd{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Dd(this.moduleType,e,[])}};var nc=class extends go{injector;componentFactoryResolver=new Id(this);instance=null;constructor(e){super();let n=new to([...e.providers,{provide:go,useValue:this},{provide:dc,useValue:this.componentFactoryResolver}],e.parent||ro(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Io(t,e,n=null){return new nc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var O1=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Zg(!1,n.type),i=r.length>0?Io([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=b({token:t,providedIn:"environment",factory:()=>new t(M(Pe))})}return t})();function Jy(t){return ic(()=>{let e=NC(t),n=ee(w({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===_y.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(O1).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||an.Emulated,styles:t.styles||at,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Ht("NgStandalone"),MC(n);let r=t.dependencies;return n.directiveDefs=zS(r,!1),n.pipeDefs=zS(r,!0),n.id=j1(n),n})}function k1(t){return Cn(t)||Yg(t)}function L1(t){return t!==null}function Xr(t){return ic(()=>({type:t.type,bootstrap:t.bootstrap||at,declarations:t.declarations||at,imports:t.imports||at,exports:t.exports||at,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function F1(t,e){if(t==null)return Br;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a,c;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s,c=i[3]||null):(s=i,o=i,a=jd.None,c=null),n[s]=[r,a,c],e[s]=o}return n}function V1(t){if(t==null)return Br;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function rs(t){return ic(()=>{let e=NC(t);return MC(e),e})}function NC(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Br,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||at,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:F1(t.inputs,e),outputs:V1(t.outputs),debugInfo:null}}function MC(t){t.features?.forEach(e=>e(t))}function zS(t,e){if(!t)return null;let n=e?OD:k1;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(L1)}function j1(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let s of r.join("|"))e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function U1(t){return Object.getPrototypeOf(t.prototype).constructor}function PC(t){let e=U1(t.type),n=!0,r=[t];for(;e;){let i;if(Mn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new E(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=bm(t.inputs),o.declaredInputs=bm(t.declaredInputs),o.outputs=bm(t.outputs);let a=i.hostBindings;a&&q1(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&H1(t,c),u&&z1(t,u),B1(t,i),bD(t.outputs,i.outputs),Mn(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===PC&&(n=!1)}}e=Object.getPrototypeOf(e)}$1(r)}function B1(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function $1(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ho(i.hostAttrs,n=ho(n,i.hostAttrs))}}function bm(t){return t===Br?{}:t===at?[]:t}function H1(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function z1(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function q1(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function G1(t,e,n,r,i,s,o,a,c){let u=e.consts,l=lc(e,t,4,o||null,a||null);Zl()&&Wy(e,n,l,rn(u,c),Vy),l.mergedAttrs=ho(l.mergedAttrs,l.attrs),yy(e,l);let d=l.tView=Oy(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function mo(t,e,n,r,i,s,o,a,c,u,l){let d=n+He,f=e.firstCreatePass?G1(d,e,t,r,i,s,o,a,u):e.data[d];c&&(f.flags|=c),Gr(f,!1);let h=W1(e,t,f,n);qa()&&Hd(e,t,h,f),_o(h,t);let g=uC(h,t,h,f);return t[d]=g,Ly(t,g),S1(g,f,t),ja(f)&&Ud(e,t,f),u!=null&&Fy(t,f,l),f}function xC(t,e,n,r,i,s,o,a){let c=W(),u=ve(),l=rn(u.consts,s);return mo(c,u,t,e,n,r,i,l,void 0,o,a),xC}var W1=K1;function K1(t,e,n,r){return Ga(!0),e[ge].createComment("")}var Kd=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Xy=new N("");function fc(t){return!!t&&typeof t.then=="function"}function OC(t){return!!t&&typeof t.subscribe=="function"}var ev=new N("");function Qd(t){return $i([{provide:ev,multi:!0,useValue:t}])}var tv=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=v(ev,{optional:!0})??[];injector=v(xe);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=ft(this.injector,i);if(fc(s))n.push(s);else if(OC(s)){let o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),pc=new N("");function kC(){ag(()=>{let t="";throw new E(600,t)})}function LC(t){return t.isBoundToModule}var Q1=10;var ei=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=v(Nt);afterRenderManager=v(Ld);zonelessEnabled=v(Ka);rootEffectScheduler=v(Qa);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new we;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=v(dr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Z(n=>!n))}constructor(){v(Yr,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=v(Pe);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=xe.NULL){return this._injector.get(Ee).run(()=>{le(10);let o=n instanceof Gd;if(!this._injector.get(tv).done){let g="";throw new E(405,g)}let c;o?c=n:c=this._injector.get(dc).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let u=LC(c)?void 0:this._injector.get(go),l=r||c.selector,d=c.create(i,[],l,u),f=d.location.nativeElement,h=d.injector.get(Xy,null);return h?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),Za(this.components,d),h?.unregisterApplication(f)}),this._loadComponent(d),le(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){le(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(kd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new E(101,!1);let n=j(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,j(n),this.afterTick.next(),le(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(pr,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<Q1;)le(14),this.synchronizeOnce(),le(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Ba(i))continue;let s=r&&!this.zonelessEnabled?0:1;zy(i,s),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ba(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Za(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(pc,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Za(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new E(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Za(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Yd(t,e,n,r){let i=W(),s=Yi();if(Zr(i,s,e)){let o=ve(),a=za();dF(a,i,t,e,n,r)}return Yd}function FC(t,e,n,r=""){return Zr(t,Yi(),n)?e+Oa(n)+r:un}function ad(t,e){return t<<17|e<<2}function ts(t){return t>>17&32767}function Y1(t){return(t&2)==2}function Z1(t,e){return t&131071|e<<17}function oy(t){return t|2}function yo(t){return(t&131068)>>2}function Cm(t,e){return t&-131069|e<<2}function J1(t){return(t&1)===1}function ay(t){return t|1}function X1(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ts(o),c=yo(o);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||no(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let f=ts(t[a+1]);t[r+1]=ad(f,a),f!==0&&(t[f+1]=Cm(t[f+1],r)),t[a+1]=Z1(t[a+1],r)}else t[r+1]=ad(a,0),a!==0&&(t[a+1]=Cm(t[a+1],r)),a=r;else t[r+1]=ad(c,0),a===0?a=r:t[c+1]=Cm(t[c+1],r),c=r;u&&(t[r+1]=oy(t[r+1])),qS(t,l,r,!0),qS(t,l,r,!1),eV(e,l,t,r,s),o=ad(a,c),s?e.classBindings=o:e.styleBindings=o}function eV(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&no(s,e)>=0&&(n[r+1]=ay(n[r+1]))}function qS(t,e,n,r){let i=t[n+1],s=e===null,o=r?ts(i):yo(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];tV(c,e)&&(a=!0,t[o+1]=r?ay(u):oy(u)),o=r?ts(u):yo(u)}a&&(t[n+1]=r?oy(i):ay(i))}function tV(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?no(t,e)>=0:!1}var on={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function nV(t){return t.substring(on.key,on.keyEnd)}function rV(t){return iV(t),VC(t,jC(t,0,on.textEnd))}function VC(t,e){let n=on.textEnd;return n===e?-1:(e=on.keyEnd=sV(t,on.key=e,n),jC(t,e,n))}function iV(t){on.key=0,on.keyEnd=0,on.value=0,on.valueEnd=0,on.textEnd=t.length}function jC(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function sV(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function UC(t,e,n){let r=W(),i=Yi();if(Zr(r,i,e)){let s=ve(),o=za();Wb(o,r,t,e,r[ge],n)}return UC}function cy(t,e,n,r,i){jy(e,t,n,i?"class":"style",r)}function BC(t,e,n){return HC(t,e,n,!1),BC}function $C(t,e){return HC(t,e,null,!0),$C}function oV(t){cV(pV,aV,t,!0)}function aV(t,e){for(let n=rV(e);n>=0;n=VC(e,n))ql(t,nV(e),!0)}function HC(t,e,n,r){let i=W(),s=ve(),o=gm(2);if(s.firstUpdatePass&&qC(s,t,o,r),e!==un&&Zr(i,o,e)){let a=s.data[lr()];GC(s,a,i,i[ge],t,i[o+1]=mV(e,n),r,o)}}function cV(t,e,n,r){let i=ve(),s=gm(2);i.firstUpdatePass&&qC(i,null,s,r);let o=W();if(n!==un&&Zr(o,s,n)){let a=i.data[lr()];if(WC(a,r)&&!zC(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=Ul(c,n||"")),cy(i,a,o,n,r)}else gV(i,a,o,o[ge],o[s+1],o[s+1]=fV(t,e,n),r,s)}}function zC(t,e){return e>=t.expandoStartIndex}function qC(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[lr()],o=zC(t,n);WC(s,r)&&e===null&&!o&&(e=!1),e=uV(i,s,e,r),X1(i,s,e,n,o,r)}}function uV(t,e,n,r){let i=oS(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Am(null,t,e,n,r),n=rc(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Am(i,t,e,n,r),s===null){let c=lV(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Am(null,t,e,c[1],r),c=rc(c,e.attrs,r),dV(t,e,r,c))}else s=hV(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function lV(t,e,n){let r=n?e.classBindings:e.styleBindings;if(yo(r)!==0)return t[ts(r)]}function dV(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ts(i)]=r}function hV(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=rc(r,o,n)}return rc(r,e.attrs,n)}function Am(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=rc(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function rc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),ql(t,o,n?!0:e[++s]))}return t===void 0?null:t}function fV(t,e,n){if(n==null||n==="")return at;let r=[],i=zt(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function pV(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&ql(t,r,n)}function gV(t,e,n,r,i,s,o,a){i===un&&(i=at);let c=0,u=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;l!==null||d!==null;){let f=c<i.length?i[c+1]:void 0,h=u<s.length?s[u+1]:void 0,g=null,m;l===d?(c+=2,u+=2,f!==h&&(g=d,m=h)):d===null||l!==null&&l<d?(c+=2,g=l):(u+=2,g=d,m=h),g!==null&&GC(t,e,n,r,g,m,o,a),l=c<i.length?i[c]:null,d=u<s.length?s[u]:null}}function GC(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=J1(u)?GS(c,e,n,i,yo(u),o):void 0;if(!bd(l)){bd(s)||Y1(u)&&(s=GS(c,null,n,i,a,o));let d=sm(lr(),n);NF(r,o,d,i,s)}}function GS(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,f=n[i+1];f===un&&(f=d?at:void 0);let h=d?Gl(f,r):l===r?f:void 0;if(u&&!bd(h)&&(h=Gl(c,r)),bd(h)&&(a=h,o))return a;let g=t[i+1];i=o?ts(g):yo(g)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Gl(c,r))}return a}function bd(t){return t!==void 0}function mV(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=wt(zt(t)))),t}function WC(t,e){return(t.flags&(e?8:16))!==0}var uy=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function Rm(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function yV(t,e,n){let r,i,s=0,o=t.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;s<=o&&s<=c;){let u=t.at(s),l=e[s],d=Rm(s,u,s,l,n);if(d!==0){d<0&&t.updateValue(s,l),s++;continue}let f=t.at(o),h=e[c],g=Rm(o,f,c,h,n);if(g!==0){g<0&&t.updateValue(o,h),o--,c--;continue}let m=n(s,u),y=n(o,f),I=n(s,l);if(Object.is(I,y)){let R=n(c,h);Object.is(R,m)?(t.swap(s,o),t.updateValue(o,h),c--,o--):t.move(o,s),t.updateValue(s,l),s++;continue}if(r??=new Cd,i??=KS(t,s,o,n),ly(t,r,s,I))t.updateValue(s,l),s++,o++;else if(i.has(I))r.set(m,t.detach(s)),o--;else{let R=t.create(s,e[s]);t.attach(s,R),s++,o++}}for(;s<=c;)WS(t,r,n,s,e[s]),s++}else if(e!=null){let c=e[Symbol.iterator](),u=c.next();for(;!u.done&&s<=o;){let l=t.at(s),d=u.value,f=Rm(s,l,s,d,n);if(f!==0)f<0&&t.updateValue(s,d),s++,u=c.next();else{r??=new Cd,i??=KS(t,s,o,n);let h=n(s,d);if(ly(t,r,s,h))t.updateValue(s,d),s++,o++,u=c.next();else if(!i.has(h))t.attach(s,t.create(s,d)),s++,o++,u=c.next();else{let g=n(s,l);r.set(g,t.detach(s)),o--}}}for(;!u.done;)WS(t,r,n,t.length,u.value),u=c.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(c=>{t.destroy(c)})}function ly(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function WS(t,e,n,r,i){if(ly(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function KS(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var Cd=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function vV(t,e,n,r,i,s,o,a){Ht("NgControlFlow");let c=W(),u=ve(),l=rn(u.consts,s);return mo(c,u,t,e,n,r,i,l,256,o,a),nv}function nv(t,e,n,r,i,s,o,a){Ht("NgControlFlow");let c=W(),u=ve(),l=rn(u.consts,s);return mo(c,u,t,e,n,r,i,l,512,o,a),nv}function _V(t,e){Ht("NgControlFlow");let n=W(),r=Yi(),i=n[r]!==un?n[r]:-1,s=i!==-1?Ad(n,He+i):void 0,o=0;if(Zr(n,r,t)){let a=j(null);try{if(s!==void 0&&dC(s,o),t!==-1){let c=He+t,u=Ad(n,c),l=py(n[B],c),d=fC(u,l,n),f=cc(n,l,e,{dehydratedView:d});uc(u,f,o,fo(l,d))}}finally{j(a)}}else if(s!==void 0){let a=lC(s,o);a!==void 0&&(a[Me]=e)}}var dy=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-ze}};var hy=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function EV(t,e,n,r,i,s,o,a,c,u,l,d,f){Ht("NgControlFlow");let h=W(),g=ve(),m=c!==void 0,y=W(),I=a?o.bind(y[gt][Me]):o,R=new hy(m,I);y[He+t]=R,mo(h,g,t+1,e,n,r,i,rn(g.consts,s),256),m&&mo(h,g,t+2,c,u,l,d,rn(g.consts,f),512)}var fy=class extends uy{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-ze}at(e){return this.getLView(e)[Me].$implicit}attach(e,n){let r=n[Hi];this.needsIndexUpdate||=e!==this.length,uc(this.lContainer,n,e,fo(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,wV(this.lContainer,e)}create(e,n){let r=Ed(this.lContainer,this.templateTNode.tView.ssrId),i=cc(this.hostLView,this.templateTNode,new dy(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){$d(e[B],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Me].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Me].$index=e}getLView(e){return TV(this.lContainer,e)}};function IV(t){let e=j(null),n=lr();try{let r=W(),i=r[B],s=r[n],o=n+1,a=Ad(r,o);if(s.liveCollection===void 0){let u=py(i,o);s.liveCollection=new fy(a,r,u)}else s.liveCollection.reset();let c=s.liveCollection;if(yV(c,t,s.trackByFn),c.updateIndexes(),s.hasEmptyBlock){let u=Yi(),l=c.length===0;if(Zr(r,u,l)){let d=n+2,f=Ad(r,d);if(l){let h=py(i,d),g=fC(f,h,r),m=cc(r,h,void 0,{dehydratedView:g});uc(f,m,0,fo(h,g))}else i.firstUpdatePass&&YF(f),dC(f,0)}}}finally{j(e)}}function Ad(t,e){return t[e]}function wV(t,e){return tc(t,e)}function TV(t,e){return lC(t,e)}function py(t,e){return Ua(t,e)}function rv(t,e,n,r){let i=W(),s=ve(),o=He+t,a=i[ge],c=s.firstCreatePass?yC(o,s,i,e,Vy,Zl(),n,r):s.data[o],u=DV(s,i,c,a,e,t);i[o]=u;let l=ja(c);return Gr(c,!0),$b(a,u,c),!Bd(c)&&qa()&&Hd(s,i,u,c),(WD()===0||l)&&_o(u,i),KD(),l&&(Ud(s,i,c),Sy(s,c,i)),r!==null&&Fy(i,c),rv}function iv(){let t=et();Jl()?Xl():(t=t.parent,Gr(t,!1));let e=t;YD(e)&&ZD(),QD();let n=ve();return n.firstCreatePass&&vC(n,e),e.classesWithoutHost!=null&&kk(e)&&cy(n,e,W(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Lk(e)&&cy(n,e,W(),e.stylesWithoutHost,!1),iv}function Zd(t,e,n,r){return rv(t,e,n,r),iv(),Zd}var DV=(t,e,n,r,i,s)=>(Ga(!0),jb(r,i,fS()));function SV(t,e,n,r,i){let s=e.consts,o=rn(s,r),a=lc(e,t,8,"ng-container",o);o!==null&&Xm(a,o,!0);let c=rn(s,i);return Zl()&&Wy(e,n,a,c,Vy),a.mergedAttrs=ho(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function sv(t,e,n){let r=W(),i=ve(),s=t+He,o=i.firstCreatePass?SV(s,i,r,e,n):i.data[s];Gr(o,!0);let a=bV(i,r,o,t);return r[s]=a,qa()&&Hd(i,r,a,o),_o(a,r),ja(o)&&(Ud(i,r,o),Sy(i,o,r)),n!=null&&Fy(r,o),sv}function ov(){let t=et(),e=ve();return Jl()?Xl():(t=t.parent,Gr(t,!1)),e.firstCreatePass&&(yy(e,t),Kl(t)&&e.queries.elementEnd(t)),ov}function KC(t,e,n){return sv(t,e,n),ov(),KC}var bV=(t,e,n,r)=>(Ga(!0),YL(e[ge],""));function CV(){return W()}function QC(t,e,n){let r=W(),i=Yi();if(Zr(r,i,e)){let s=ve(),o=za();Kb(o,r,t,e,r[ge],n)}return QC}var gc="en-US";var AV=gc;function YC(t){typeof t=="string"&&(AV=t.toLowerCase().replace(/_/g,"-"))}function Jd(t,e,n){let r=W(),i=ve(),s=et();return RV(i,r,r[ge],s,t,e,n),Jd}function RV(t,e,n,r,i,s,o){let a=!0,c=null;if((r.type&3||o)&&(c??=Dm(r,e,s),l1(r,t,e,o,n,i,s,c)&&(a=!1)),a){let u=r.outputs?.[i],l=r.hostDirectiveOutputs?.[i];if(l&&l.length)for(let d=0;d<l.length;d+=2){let f=l[d],h=l[d+1];c??=Dm(r,e,s),BS(r,e,f,h,i,c)}if(u&&u.length)for(let d of u)c??=Dm(r,e,s),BS(r,e,d,i,i,c)}}function NV(t=1){return lS(t)}function MV(t,e){let n=null,r=BL(t);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){n=i;continue}if(r===null?Vb(t,s,!0):zL(r,s))return i}return n}function PV(t){let e=W()[gt][pt];if(!e.projection){let n=t?t.length:1,r=e.projection=PD(n,null),i=r.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=t?MV(s,t):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s)}s=s.next}}}function xV(t,e=0,n,r,i,s){let o=W(),a=ve(),c=r?t+1:null;c!==null&&mo(o,a,c,r,i,s,null,n);let u=lc(a,He+t,16,null,n||null);u.projection===null&&(u.projection=e),Xl();let d=!o[Hi]||dm();o[gt][pt].projection[u.projection]===null&&c!==null?OV(o,a,c):d&&!Bd(u)&&AF(a,o,u)}function OV(t,e,n){let r=He+n,i=e.data[r],s=t[r],o=Ed(s,i.tView.ssrId),a=cc(t,i,void 0,{dehydratedView:o});uc(s,a,0,fo(i,o))}function ZC(t,e,n,r,i){let s=W(),o=FC(s,e,n,r);if(o!==un){let a=ve(),c=za();Wb(c,s,t,o,s[ge],i)}return ZC}function JC(t,e,n,r){SC(t,e,n,r)}function kV(t,e,n){DC(t,e,n)}function XC(t){let e=W(),n=ve(),r=td();Ha(r+1);let i=Qy(n,r);if(t.dirty&&$D(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=CC(e,r);t.reset(s,db),t.notifyOnChanges()}return!0}return!1}function eA(){return Ky(W(),td())}function LV(t,e,n,r,i){RC(e,SC(t,n,r,i))}function FV(t,e,n,r){RC(t,DC(e,n,r))}function VV(t=1){Ha(td()+t)}function jV(t){let e=tS();return BD(e,He+t)}function UV(t,e=""){let n=W(),r=ve(),i=t+He,s=r.firstCreatePass?lc(r,i,1,e,null):r.data[i],o=BV(r,n,s,e,t);n[i]=o,qa()&&Hd(r,n,o,s),Gr(s,!1)}var BV=(t,e,n,r,i)=>(Ga(!0),KL(e[ge],r));function tA(t){return av("",t),tA}function av(t,e,n){let r=W(),i=FC(r,t,e,n);return i!==un&&$V(r,lr(),i),av}function $V(t,e,n){let r=sm(e,t);QL(t[ge],r,n)}function HV(t,e,n){let r=ve();if(r.firstCreatePass){let i=Mn(t);gy(n,r.data,r.blueprint,i,!0),gy(e,r.data,r.blueprint,i,!1)}}function gy(t,e,n,r,i){if(t=Xe(t),Array.isArray(t))for(let s=0;s<t.length;s++)gy(t[s],e,n,r,i);else{let s=ve(),o=W(),a=et(),c=ji(t)?t:Xe(t.provide),u=Xg(t),l=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(ji(t)||!t.multi){let h=new es(u,i,qt),g=Mm(c,e,i?l:l+f,d);g===-1?(xm(gd(a,o),s,c),Nm(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),o.push(h)):(n[g]=h,o[g]=h)}else{let h=Mm(c,e,l+f,d),g=Mm(c,e,l,l+f),m=h>=0&&n[h],y=g>=0&&n[g];if(i&&!y||!i&&!m){xm(gd(a,o),s,c);let I=GV(i?qV:zV,n.length,i,r,u);!i&&y&&(n[g].providerFactory=I),Nm(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(I),o.push(I)}else{let I=nA(n[i?g:h],u,!i&&r);Nm(s,t,h>-1?h:g,I)}!i&&r&&y&&n[g].componentProviders++}}}function Nm(t,e,n,r){let i=ji(e),s=VD(e);if(i||s){let c=(s?Xe(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function nA(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Mm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function zV(t,e,n,r){return my(this.multi,[])}function qV(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Ja(n,n[B],this.providerFactory.index,r);s=a.slice(0,o),my(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],my(i,s);return s}function my(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function GV(t,e,n,r,i){let s=new es(t,n,qt);return s.multi=[],s.index=e,s.componentProviders=0,nA(s,i,r&&!n),s}function WV(t,e=[]){return n=>{n.providersResolver=(r,i)=>HV(r,i?i(t):t,e)}}function KV(t,e){return qd(t,e)}var Rd=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},cv=(()=>{class t{compileModuleSync(n){return new Sd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Qg(n),s=Lb(i.declarations).reduce((o,a)=>{let c=Cn(a);return c&&o.push(new Qr(c)),o},[]);return new Rd(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var QV=(()=>{class t{zone=v(Ee);changeDetectionScheduler=v(jt);applicationRef=v(ei);applicationErrorHandler=v(Nt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rA({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ee(ee(w({},iA()),{scheduleInRootZone:n})),[{provide:Ee,useFactory:t},{provide:cr,multi:!0,useFactory:()=>{let r=v(QV,{optional:!0});return()=>r.initialize()}},{provide:cr,multi:!0,useFactory:()=>{let r=v(YV);return()=>{r.initialize()}}},e===!0?{provide:_m,useValue:!0}:[],{provide:Em,useValue:n??wb},{provide:Nt,useFactory:()=>{let r=v(Ee),i=v(Pe),s;return o=>{s??=i.get(At),r.runOutsideAngular(()=>s.handleError(o))}}}]}function iA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var YV=(()=>{class t{subscription=new De;initialized=!1;zone=v(Ee);pendingTasks=v(dr);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var sA=(()=>{class t{applicationErrorHandler=v(Nt);appRef=v(ei);taskService=v(dr);ngZone=v(Ee);zonelessEnabled=v(Ka);tracing=v(Yr,{optional:!0});disableScheduling=v(_m,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new De;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(yd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(v(Em,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof vd||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?SS:Tb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(yd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,SS(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ZV(){return typeof $localize<"u"&&$localize.locale||gc}var uv=new N("",{providedIn:"root",factory:()=>v(uv,{optional:!0,skipSelf:!0})||ZV()});var Xd=class{destroyed=!1;listeners=null;errorHandler=v(At,{optional:!0});destroyRef=v(tt);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new E(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed){console.warn(Ui(953,!1));return}if(this.listeners===null)return;let n=j(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{j(n)}}};function ct(t){return wD(t)}function is(t,e){return Ea(t,e?.equal)}var lv=class{[Re];constructor(e){this[Re]=e}destroy(){this[Re].destroy()}};function mc(t,e){!e?.injector&&Xt(mc);let n=e?.injector??v(xe),r=e?.manualCleanup!==!0?n.get(tt):null,i,s=n.get(Zi,null,{optional:!0}),o=n.get(jt);return s!==null?(i=ej(s.view,o,t),r instanceof Pa&&r._lView===s.view&&(r=null)):i=tj(t,n.get(Qa),o),i.injector=n,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new lv(i)}var cA=ee(w({},Xn),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Ji,run(){if(this.dirty=!1,this.hasRun&&!Ni(this))return;this.hasRun=!0;let t=r=>(this.cleanupFns??=[]).push(r),e=Dn(this),n=ao(!1);try{this.maybeCleanup(),this.fn(t)}finally{ao(n),er(this,e)}},maybeCleanup(){if(!this.cleanupFns?.length)return;let t=j(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],j(t)}}}),JV=ee(w({},cA),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Bs(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),XV=ee(w({},cA),{consumerMarkedDirty(){this.view[V]|=8192,qr(this.view),this.notifier.notify(13)},destroy(){Bs(this),this.onDestroyFn(),this.maybeCleanup(),this.view[ur]?.delete(this)}});function ej(t,e,n){let r=Object.create(XV);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=n,t[ur]??=new Set,t[ur].add(r),r.consumerMarkedDirty(r),r}function tj(t,e,n){let r=Object.create(JV);return r.fn=t,r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}var nj=t=>t;function dv(t,e){if(typeof t=="function"){let n=bg(t,nj,e?.equal);return oA(n)}else{let n=bg(t.source,t.computation,t.equal);return oA(n)}}function oA(t){let e=t[Re],n=t;return n.set=r=>ED(e,r),n.update=r=>ID(e,r),n.asReadonly=Wa.bind(t),n}function pv(t){t?.injector||Xt(pv);let e=t.request,n=t.params??e??(()=>null);return new eh(n,ij(t),t.defaultValue,t.equal?rj(t.equal):void 0,t.injector??v(xe))}var hv=class{value;constructor(e){this.value=e,this.value.set=this.set.bind(this),this.value.update=this.update.bind(this),this.value.asReadonly=Wa}update(e){this.set(e(ct(this.value)))}isLoading=is(()=>this.status()==="loading"||this.status()==="reloading");hasValue(){return this.value()!==void 0}asReadonly(){return this}},eh=class extends hv{loaderFn;defaultValue;equal;pendingTasks;state;extRequest;effectRef;pendingController;resolvePendingTask=void 0;destroyed=!1;constructor(e,n,r,i,s){super(is(()=>{let o=this.state().stream?.();return o&&fv(o)?o.value:this.defaultValue},{equal:i})),this.loaderFn=n,this.defaultValue=r,this.equal=i,this.extRequest=dv({source:e,computation:o=>({request:o,reload:0})}),this.state=dv({source:this.extRequest,computation:(o,a)=>{let c=o.request===void 0?"idle":"loading";return a?{extRequest:o,status:c,previousStatus:aA(a.value),stream:a.value.extRequest.request===o.request?a.value.stream:void 0}:{extRequest:o,status:c,previousStatus:"idle",stream:void 0}}}),this.effectRef=mc(this.loadEffect.bind(this),{injector:s,manualCleanup:!0}),this.pendingTasks=s.get(co),s.get(tt).onDestroy(()=>this.destroy())}status=is(()=>aA(this.state()));error=is(()=>{let e=this.state().stream?.();return e&&!fv(e)?e.error:void 0});set(e){if(this.destroyed)return;let n=ct(this.value),r=ct(this.state);r.status==="local"&&(this.equal?this.equal(n,e):n===e)||(this.state.set({extRequest:r.extRequest,status:"local",previousStatus:"local",stream:Mt({value:e})}),this.abortInProgressLoad())}reload(){let{status:e}=ct(this.state);return e==="idle"||e==="loading"?!1:(this.extRequest.update(({request:n,reload:r})=>({request:n,reload:r+1})),!0)}destroy(){this.destroyed=!0,this.effectRef.destroy(),this.abortInProgressLoad(),this.state.set({extRequest:{request:void 0,reload:0},status:"idle",previousStatus:"idle",stream:void 0})}loadEffect(){return p(this,null,function*(){let e=this.extRequest(),{status:n,previousStatus:r}=ct(this.state);if(e.request===void 0)return;if(n!=="loading")return;this.abortInProgressLoad();let i=this.resolvePendingTask=this.pendingTasks.add(),{signal:s}=this.pendingController=new AbortController;try{let o=yield ct(()=>this.loaderFn({params:e.request,request:e.request,abortSignal:s,previous:{status:r}}));if(s.aborted||ct(this.extRequest)!==e)return;this.state.set({extRequest:e,status:"resolved",previousStatus:"resolved",stream:o})}catch(o){if(s.aborted||ct(this.extRequest)!==e)return;this.state.set({extRequest:e,status:"resolved",previousStatus:"error",stream:Mt({error:o})})}finally{i?.(),i=void 0}})}abortInProgressLoad(){ct(()=>this.pendingController?.abort()),this.pendingController=void 0,this.resolvePendingTask?.(),this.resolvePendingTask=void 0}};function rj(t){return(e,n)=>e===void 0||n===void 0?e===n:t(e,n)}function ij(t){return sj(t)?t.stream:e=>p(null,null,function*(){try{return Mt({value:yield t.loader(e)})}catch(n){return Mt({error:n})}})}function sj(t){return!!t.stream}function aA(t){switch(t.status){case"loading":return t.extRequest.reload===0?"loading":"reloading";case"resolved":return fv(ct(t.stream))?"resolved":"error";default:return t.status}}function fv(t){return t.error===void 0}var fA=Symbol("InputSignalNode#UNSET"),mj=ee(w({},wa),{transformFn:void 0,applyValueToInputSignal(t,e){Lr(t,e)}});function pA(t,e){let n=Object.create(mj);n.value=t,n.transformFn=e?.transform;function r(){if(kr(n),n.value===fA){let i=null;throw new E(-950,i)}return n.value}return r[Re]=n,r}var nh=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>sc(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},yj=new N("");yj.__NG_ELEMENT_ID__=t=>{let e=et();if(e===null)throw new E(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new E(204,!1)};function ene(t){return new Xd}function uA(t,e){return pA(t,e)}function vj(t){return pA(fA,t)}var gA=(uA.required=vj,uA);function lA(t,e){return Yy(e)}function _j(t,e){return Zy(e)}var tne=(lA.required=_j,lA);function dA(t,e){return Yy(e)}function Ej(t,e){return Zy(e)}var nne=(dA.required=Ej,dA);var mv=new N(""),Ij=new N("");function yc(t){return!t.moduleRef}function wj(t){let e=yc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ee);return n.run(()=>{yc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Nt),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),yc(t)){let s=()=>e.destroy(),o=t.platformInjector.get(mv);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(mv);o.add(s),t.moduleRef.onDestroy(()=>{Za(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return Dj(r,n,()=>{let s=e.get(tv);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(uv,gc);if(YC(o||gc),!e.get(Ij,!0))return yc(t)?e.get(ei):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(yc(t)){let c=e.get(ei);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return Tj?.(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}var Tj;function Dj(t,e,n){try{let r=n();return fc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var th=null;function Sj(t=[],e){return xe.create({name:e,providers:[{provide:La,useValue:"platform"},{provide:mv,useValue:new Set([()=>th=null])},...t]})}function bj(t=[]){if(th)return th;let e=Sj(t);return th=e,kC(),Cj(e),e}function Cj(t){let e=t.get(Pd,null);ft(t,()=>{e?.forEach(n=>n())})}var vc=(()=>{class t{static __NG_ELEMENT_ID__=Aj}return t})();function Aj(t){return Rj(et(),W(),(t&16)===16)}function Rj(t,e,n){if(zr(t)&&!n){let r=$t(t.index,e);return new Kr(r,r)}else if(t.type&175){let r=e[gt];return new Kr(r,e)}return null}function mA(t){le(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=bj(r),s=[rA({}),{provide:jt,useExisting:sA},gS,...n||[]],o=new nc({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return wj({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{le(9)}}function _c(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Nj(t,e=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):e}var gv=Symbol("NOT_SET"),yA=new Set,Mj=ee(w({},wa),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,value:gv,cleanup:null,consumerMarkedDirty(){if(this.sequence.impl.executing){if(this.sequence.lastPhase===null||this.sequence.lastPhase<this.phase)return;this.sequence.erroredOrDestroyed=!0}this.sequence.scheduler.notify(7)},phaseFn(t){if(this.sequence.lastPhase=this.phase,!this.dirty)return this.signal;if(this.dirty=!1,this.value!==gv&&!Ni(this))return this.signal;try{for(let i of this.cleanup??yA)i()}finally{this.cleanup?.clear()}let e=[];t!==void 0&&e.push(t),e.push(this.registerCleanupFn);let n=Dn(this),r;try{r=this.userFn.apply(null,e)}finally{er(this,n)}return(this.value===gv||!this.equal(this.value,r))&&(this.value=r,this.version++),this.signal}}),yv=class extends Xa{scheduler;lastPhase=null;nodes=[void 0,void 0,void 0,void 0];constructor(e,n,r,i,s,o=null){super(e,[void 0,void 0,void 0,void 0],r,!1,s,o),this.scheduler=i;for(let a of Ty){let c=n[a];if(c===void 0)continue;let u=Object.create(Mj);u.sequence=this,u.phase=a,u.userFn=c,u.dirty=!0,u.signal=()=>(kr(u),u.value),u.signal[Re]=u,u.registerCleanupFn=l=>(u.cleanup??=new Set).add(l),this.nodes[a]=u,this.hooks[a]=l=>u.phaseFn(l)}}afterRun(){super.afterRun(),this.lastPhase=null}destroy(){super.destroy();for(let e of this.nodes)for(let n of e?.cleanup??yA)n()}};function Pj(t,e){!e?.injector&&Xt(Pj);let n=e?.injector??v(xe),r=n.get(jt),i=n.get(Ld),s=n.get(Yr,null,{optional:!0});i.impl??=n.get(Dy);let o=t;typeof o=="function"&&(o={mixedReadWrite:t});let a=n.get(Zi,null,{optional:!0}),c=new yv(i.impl,[o.earlyRead,o.write,o.mixedReadWrite,o.read],a?.view,r,n.get(tt),s?.snapshot(null));return i.impl.register(c),c}function rne(t,e){let n=Cn(t),r=e.elementInjector||ro();return new Qr(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector,e.directives,e.bindings)}function vA(t){let e=Cn(t);if(!e)return null;let n=new Qr(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var IA=null;function vr(){return IA}function vv(t){IA??=t}var Ec=class{},Ic=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:()=>v(wA),providedIn:"platform"})}return t})(),_v=new N(""),wA=(()=>{class t extends Ic{_location;_history;_doc=v(_e);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vr().getBaseHref(this._doc)}onPopState(n){let r=vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function rh(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function _A(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function dn(t){return t&&t[0]!=="?"?`?${t}`:t}var hn=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:()=>v(sh),providedIn:"root"})}return t})(),ih=new N(""),sh=(()=>{class t extends hn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??v(_e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return rh(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+dn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+dn(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+dn(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(M(Ic),M(ih,8))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ti=(()=>{class t{_subject=new we;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=kj(_A(EA(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+dn(r))}normalize(n){return t.stripTrailingSlash(Oj(this._basePath,EA(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+dn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+dn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=dn;static joinWithSlash=rh;static stripTrailingSlash=_A;static \u0275fac=function(r){return new(r||t)(M(hn))};static \u0275prov=b({token:t,factory:()=>xj(),providedIn:"root"})}return t})();function xj(){return new ti(M(hn))}function Oj(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function EA(t){return t.replace(/\/index.html$/,"")}function kj(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Ev=(()=>{class t extends hn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=rh(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+dn(s))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+dn(s))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(M(Ic),M(ih,8))};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})();var Lj=(()=>{class t{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(n){this._viewContainerRef=n}ngOnChanges(n){if(this._shouldRecreateView(n)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(n,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||t)(qt(Jr))};static \u0275dir=rs({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[ns]})}return t})();function Iv(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var oh="browser",TA="server";function Fj(t){return t===oh}function ah(t){return t===TA}var wc=class{};var DA=(()=>{class t{static \u0275prov=b({token:t,providedIn:"root",factory:()=>new wv(v(_e),window)})}return t})(),wv=class{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,n){this.window.scrollTo(ee(w({},n),{left:e[0],top:e[1]}))}scrollToAnchor(e,n){let r=Bj(this.document,e);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e,n){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,s=r.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(ee(w({},n),{left:i-o[0],top:s-o[1]}))}};function Bj(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var lh=new N(""),bv=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,s){return this._findPluginFor(r).addEventListener(n,r,i,s)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new E(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(M(lh),M(Ee))};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})(),Tc=class{_doc;constructor(e){this._doc=e}manager},ch="ng-app-id";function SA(t){for(let e of t)e.remove()}function bA(t,e){let n=e.createElement("style");return n.textContent=t,n}function Hj(t,e,n,r){let i=t.head?.querySelectorAll(`style[${ch}="${e}"],link[${ch}="${e}"]`);if(i)for(let s of i)s.removeAttribute(ch),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&n.set(s.textContent,{usage:0,elements:[s]})}function Dv(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Cv=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=ah(s),Hj(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,bA);r?.forEach(i=>this.addUsage(i,this.external,Dv))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let s=r.get(n);s?s.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(SA(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])SA(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,bA(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Dv(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(ch,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(M(_e),M(Md),M(Od,8),M(Eo))};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})(),Tv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Av=/%COMP%/g;var AA="%COMP%",zj=`_nghost-${AA}`,qj=`_ngcontent-${AA}`,Gj=!0,Wj=new N("",{providedIn:"root",factory:()=>Gj});function Kj(t){return qj.replace(Av,t)}function Qj(t){return zj.replace(Av,t)}function RA(t,e){return e.map(n=>n.replace(Av,t))}var bc=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,s,o,a,c,u=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=l,this.platformIsServer=ah(a),this.defaultRenderer=new Dc(n,o,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===an.ShadowDom&&(r=ee(w({},r),{encapsulation:an.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof uh?i.applyToHost(n):i instanceof Sc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case an.Emulated:s=new uh(c,u,r,this.appId,l,o,a,d,f);break;case an.ShadowDom:return new Sv(c,u,n,r,o,a,this.nonce,d,f);default:s=new Sc(c,u,r,l,o,a,d,f);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(M(bv),M(Cv),M(Md),M(Wj),M(_e),M(Eo),M(Ee),M(Od),M(Yr,8))};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})(),Dc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,s){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Tv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(CA(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(CA(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new E(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Tv[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Tv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(fr.DashCase|fr.Important)?e.style.setProperty(n,r,i&fr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&fr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=vr().getGlobalEventTarget(this.doc,e),!e))throw new E(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,n,s)),this.eventManager.addEventListener(e,n,s,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function CA(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Sv=class extends Dc{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,s,o,a,c,u){super(e,s,o,c,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=i.styles;l=RA(i.id,l);for(let f of l){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let f of d){let h=Dv(f,s);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Sc=class extends Dc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,s,o,a,c,u){super(e,s,o,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=u?RA(u,l):l,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},uh=class extends Sc{contentAttr;hostAttr;constructor(e,n,r,i,s,o,a,c,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,c,u,l),this.contentAttr=Kj(l),this.hostAttr=Qj(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var dh=class t extends Ec{supportsDOMEvents=!0;static makeCurrent(){vv(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Yj();return n==null?null:Zj(n)}resetBaseElement(){Cc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Iv(document.cookie,e)}},Cc=null;function Yj(){return Cc=Cc||document.querySelector("base"),Cc?Cc.getAttribute("href"):null}function Zj(t){return new URL(t,document.baseURI).pathname}var Jj=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})(),MA=(()=>{class t extends Tc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,s){return n.addEventListener(r,i,s),()=>this.removeEventListener(n,r,i,s)}removeEventListener(n,r,i,s){return n.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||t)(M(_e))};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})(),NA=["alt","control","meta","shift"],Xj={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},eU={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},PA=(()=>{class t extends Tc{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,s){let o=t.parseEventName(r),a=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vr().onAndCancel(n,o.domEventName,a,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),NA.forEach(u=>{let l=r.indexOf(u);l>-1&&(r.splice(l,1),o+=u+".")}),o+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(n,r){let i=Xj[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),NA.forEach(o=>{if(o!==i){let a=eU[o];a(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(M(_e))};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})();function tU(t,e){return mA(w({rootComponent:t},nU(e)))}function nU(t){return{appProviders:[...aU,...t?.providers??[]],platformProviders:oU}}function rU(){dh.makeCurrent()}function iU(){return new At}function sU(){return Ey(document),document}var oU=[{provide:Eo,useValue:oh},{provide:Pd,useValue:rU,multi:!0},{provide:_e,useFactory:sU}];var aU=[{provide:La,useValue:"root"},{provide:At,useFactory:iU},{provide:lh,useClass:MA,multi:!0,deps:[_e]},{provide:lh,useClass:PA,multi:!0,deps:[_e]},bc,Cv,bv,{provide:pr,useExisting:bc},{provide:wc,useClass:Jj},[]];var Nv=class{};var ss=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=n.slice(r+1).trim();this.addHeaderEntry(i,s)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Mv=class{encodeKey(e){return xA(e)}encodeValue(e){return xA(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function cU(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}var uU=/%(\d[a-f0-9])/gi,lU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xA(t){return encodeURIComponent(t).replace(uU,(e,n)=>lU[n]??e)}function hh(t){return`${t}`}var _r=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Mv,e.fromString){if(e.fromObject)throw new E(2805,!1);this.map=cU(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(hh):[hh(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(hh(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(hh(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Pv=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function dU(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function OA(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function kA(t){return typeof Blob<"u"&&t instanceof Blob}function LA(t){return typeof FormData<"u"&&t instanceof FormData}function hU(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var fU="X-Request-URL",FA="text/plain",VA="application/json",die=`${VA}, ${FA}, */*`,wo=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;keepalive=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,n,r,i){this.url=n,this.method=e.toUpperCase();let s;if(dU(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,this.keepalive=!!s.keepalive,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new ss,this.context??=new Pv,!this.params)this.params=new _r,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||OA(this.body)||kA(this.body)||LA(this.body)||hU(this.body)?this.body:this.body instanceof _r?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||LA(this.body)?null:kA(this.body)?this.body.type||null:OA(this.body)?null:typeof this.body=="string"?FA:this.body instanceof _r?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?VA:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.keepalive??this.keepalive,o=e.transferCache??this.transferCache,a=e.body!==void 0?e.body:this.body,c=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,d=e.params||this.params,f=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((h,g)=>h.set(g,e.setHeaders[g]),l)),e.setParams&&(d=Object.keys(e.setParams).reduce((h,g)=>h.set(g,e.setParams[g]),d)),new t(n,r,a,{params:d,headers:l,context:f,reportProgress:u,responseType:i,withCredentials:c,transferCache:o,keepalive:s})}},Ov=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Ov||{}),xv=class{headers;status;statusText;url;ok;type;constructor(e,n=200,r="OK"){this.headers=e.headers||new ss,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var fh=class t extends xv{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Ov.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};function Rv(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache,keepalive:t.keepalive}}var pU=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof wo)s=n;else{let c;i.headers instanceof ss?c=i.headers:c=new ss(i.headers);let u;i.params&&(i.params instanceof _r?u=i.params:u=new _r({fromObject:i.params})),s=new wo(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive})}let o=k(s).pipe(bn(c=>this.handler.handle(c)));if(n instanceof wo||i.observe==="events")return o;let a=o.pipe(Be(c=>c instanceof fh));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Z(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new E(2806,!1);return c.body}));case"blob":return a.pipe(Z(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new E(2807,!1);return c.body}));case"text":return a.pipe(Z(c=>{if(c.body!==null&&typeof c.body!="string")throw new E(2808,!1);return c.body}));case"json":default:return a.pipe(Z(c=>c.body))}case"response":return a;default:throw new E(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new _r().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Rv(i,r))}post(n,r,i={}){return this.request("POST",n,Rv(i,r))}put(n,r,i={}){return this.request("PUT",n,Rv(i,r))}static \u0275fac=function(r){return new(r||t)(M(Nv))};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})();var hie=RegExp(`^${fU}:`,"m");var jA=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(M(_e))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var gU=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=M(mU),i},providedIn:"root"})}return t})(),mU=(()=>{class t extends gU{_doc;constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case cn.NONE:return r;case cn.HTML:return mr(r,"HTML")?zt(r):My(this._doc,String(r)).toString();case cn.STYLE:return mr(r,"Style")?zt(r):r;case cn.SCRIPT:if(mr(r,"Script"))return zt(r);throw new E(5200,!1);case cn.URL:return mr(r,"URL")?zt(r):oc(String(r));case cn.RESOURCE_URL:if(mr(r,"ResourceURL"))return zt(r);throw new E(5201,!1);default:throw new E(5202,!1)}}bypassSecurityTrustHtml(n){return by(n)}bypassSecurityTrustStyle(n){return Cy(n)}bypassSecurityTrustScript(n){return Ay(n)}bypassSecurityTrustUrl(n){return Ry(n)}bypassSecurityTrustResourceUrl(n){return Ny(n)}static \u0275fac=function(r){return new(r||t)(M(_e))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var K="primary",Uc=Symbol("RouteTitle"),jv=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function cs(t){return new jv(t)}function WA(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function vU(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!xn(t[n],e[n]))return!1;return!0}function xn(t,e){let n=t?Uv(t):void 0,r=e?Uv(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!KA(t[i],e[i]))return!1;return!0}function Uv(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function KA(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function QA(t){return t.length>0?t[t.length-1]:null}function Er(t){return Eg(t)?t:fc(t)?he(Promise.resolve(t)):k(t)}var _U={exact:ZA,subset:JA},YA={exact:EU,subset:IU,ignored:()=>!0};function UA(t,e,n){return _U[n.paths](t.root,e.root,n.matrixParams)&&YA[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function EU(t,e){return xn(t,e)}function ZA(t,e,n){if(!os(t.segments,e.segments)||!mh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!ZA(t.children[r],e.children[r],n))return!1;return!0}function IU(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>KA(t[n],e[n]))}function JA(t,e,n){return XA(t,e,e.segments,n)}function XA(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!os(i,n)||e.hasChildren()||!mh(i,n,r))}else if(t.segments.length===n.length){if(!os(t.segments,n)||!mh(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!JA(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!os(t.segments,i)||!mh(t.segments,i,r)||!t.children[K]?!1:XA(t.children[K],e,s,r)}}function mh(t,e,n){return e.every((r,i)=>YA[n](t[i].parameters,r.parameters))}var kn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ae([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=cs(this.queryParams),this._queryParamMap}toString(){return DU.serialize(this)}},ae=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yh(this)}},ni=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=cs(this.parameters),this._parameterMap}toString(){return t0(this)}};function wU(t,e){return os(t,e)&&t.every((n,r)=>xn(n.parameters,e[r].parameters))}function os(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function TU(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===K&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==K&&(n=n.concat(e(i,r)))}),n}var us=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:()=>new ri,providedIn:"root"})}return t})(),ri=class{parse(e){let n=new $v(e);return new kn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ac(e.root,!0)}`,r=CU(e.queryParams),i=typeof e.fragment=="string"?`#${SU(e.fragment)}`:"";return`${n}${r}${i}`}},DU=new ri;function yh(t){return t.segments.map(e=>t0(e)).join("/")}function Ac(t,e){if(!t.hasChildren())return yh(t);if(e){let n=t.children[K]?Ac(t.children[K],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==K&&r.push(`${i}:${Ac(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=TU(t,(r,i)=>i===K?[Ac(t.children[K],!1)]:[`${i}:${Ac(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[K]!=null?`${yh(t)}/${n[0]}`:`${yh(t)}/(${n.join("//")})`}}function e0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ph(t){return e0(t).replace(/%3B/gi,";")}function SU(t){return encodeURI(t)}function Bv(t){return e0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vh(t){return decodeURIComponent(t)}function BA(t){return vh(t.replace(/\+/g,"%20"))}function t0(t){return`${Bv(t.path)}${bU(t.parameters)}`}function bU(t){return Object.entries(t).map(([e,n])=>`;${Bv(e)}=${Bv(n)}`).join("")}function CU(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${ph(n)}=${ph(i)}`).join("&"):`${ph(n)}=${ph(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var AU=/^[^\/()?;#]+/;function kv(t){let e=t.match(AU);return e?e[0]:""}var RU=/^[^\/()?;=#]+/;function NU(t){let e=t.match(RU);return e?e[0]:""}var MU=/^[^=?&#]+/;function PU(t){let e=t.match(MU);return e?e[0]:""}var xU=/^[^&#]+/;function OU(t){let e=t.match(xU);return e?e[0]:""}var $v=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ae([],{}):new ae([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[K]=new ae(e,n)),r}parseSegment(){let e=kv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new E(4009,!1);return this.capture(e),new ni(vh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=NU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=kv(this.remaining);i&&(r=i,this.capture(r))}e[vh(n)]=vh(r)}parseQueryParam(e){let n=PU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=OU(this.remaining);o&&(r=o,this.capture(r))}let i=BA(n),s=BA(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=kv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new E(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=K);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[K]:new ae([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new E(4011,!1)}};function n0(t){return t.segments.length>0?new ae([],{[K]:t}):t}function r0(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=r0(i);if(r===K&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ae(t.segments,e);return kU(n)}function kU(t){if(t.numberOfChildren===1&&t.children[K]){let e=t.children[K];return new ae(t.segments.concat(e.segments),e.children)}return t}function ii(t){return t instanceof kn}function i0(t,e,n=null,r=null){let i=s0(t);return o0(i,e,n,r)}function s0(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new ae(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=n0(r);return e??i}function o0(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Lv(i,i,i,n,r);let s=LU(e);if(s.toRoot())return Lv(i,i,new ae([],{}),n,r);let o=FU(s,i,t),a=o.processChildren?Nc(o.segmentGroup,o.index,s.commands):c0(o.segmentGroup,o.index,s.commands);return Lv(i,o.segmentGroup,a,n,r)}function _h(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Pc(t){return typeof t=="object"&&t!=null&&t.outlets}function Lv(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=a0(t,e,n);let a=n0(r0(o));return new kn(a,s,i)}function a0(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=a0(s,e,n)}),new ae(t.segments,r)}var Eh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&_h(r[0]))throw new E(4003,!1);let i=r.find(Pc);if(i&&i!==QA(r))throw new E(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function LU(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Eh(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Eh(n,e,r)}var So=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function FU(t,e,n){if(t.isAbsolute)return new So(e,!0,0);if(!n)return new So(e,!1,NaN);if(n.parent===null)return new So(n,!0,0);let r=_h(t.commands[0])?0:1,i=n.segments.length-1+r;return VU(n,i,t.numberOfDoubleDots)}function VU(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new E(4005,!1);i=r.segments.length}return new So(r,!1,i-s)}function jU(t){return Pc(t[0])?t[0].outlets:{[K]:t}}function c0(t,e,n){if(t??=new ae([],{}),t.segments.length===0&&t.hasChildren())return Nc(t,e,n);let r=UU(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ae(t.segments.slice(0,r.pathIndex),{});return s.children[K]=new ae(t.segments.slice(r.pathIndex),t.children),Nc(s,0,i)}else return r.match&&i.length===0?new ae(t.segments,{}):r.match&&!t.hasChildren()?Hv(t,e,n):r.match?Nc(t,0,i):Hv(t,e,n)}function Nc(t,e,n){if(n.length===0)return new ae(t.segments,{});{let r=jU(n),i={};if(Object.keys(r).some(s=>s!==K)&&t.children[K]&&t.numberOfChildren===1&&t.children[K].segments.length===0){let s=Nc(t.children[K],e,n);return new ae(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=c0(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ae(t.segments,i)}}function UU(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Pc(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!HA(c,u,o))return s;r+=2}else{if(!HA(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Hv(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Pc(s)){let c=BU(s.outlets);return new ae(r,c)}if(i===0&&_h(n[0])){let c=t.segments[e];r.push(new ni(c.path,$A(n[0]))),i++;continue}let o=Pc(s)?s.outlets[K]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&_h(a)?(r.push(new ni(o,$A(a))),i+=2):(r.push(new ni(o,{})),i++)}return new ae(r,{})}function BU(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Hv(new ae([],{}),0,r))}),e}function $A(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function HA(t,e,n){return t==n.path&&xn(e,n.parameters)}var bo="imperative",je=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(je||{}),xt=class{id;url;constructor(e,n){this.id=e,this.url=n}},si=class extends xt{type=je.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Gt=class extends xt{urlAfterRedirects;type=je.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},yt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t}(yt||{}),Ao=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Ao||{}),On=class extends xt{reason;code;type=je.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ln=class extends xt{reason;code;type=je.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Ro=class extends xt{error;target;type=je.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},xc=class extends xt{urlAfterRedirects;state;type=je.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ih=class extends xt{urlAfterRedirects;state;type=je.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wh=class extends xt{urlAfterRedirects;state;shouldActivate;type=je.GuardsCheckEnd;constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Th=class extends xt{urlAfterRedirects;state;type=je.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dh=class extends xt{urlAfterRedirects;state;type=je.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sh=class{route;type=je.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},bh=class{route;type=je.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ch=class{snapshot;type=je.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ah=class{snapshot;type=je.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rh=class{snapshot;type=je.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nh=class{snapshot;type=je.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},No=class{routerEvent;position;anchor;type=je.Scroll;constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Oc=class{},Mo=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function $U(t){return!(t instanceof Oc)&&!(t instanceof Mo)}function HU(t,e){return t.providers&&!t._injector&&(t._injector=Io(t.providers,e,`Route: ${t.path}`)),t._injector??e}function fn(t){return t.outlet||K}function zU(t,e){let n=t.filter(r=>fn(r)===e);return n.push(...t.filter(r=>fn(r)!==e)),n}function Bc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Mh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Bc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ls(this.rootInjector)}},ls=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Mh(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(M(Pe))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ph=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=zv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=zv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=qv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return qv(e,this._root).map(n=>n.value)}};function zv(t,e){if(t===e.value)return e;for(let n of e.children){let r=zv(t,n);if(r)return r}return null}function qv(t,e){if(t===e.value)return[e];for(let n of e.children){let r=qv(t,n);if(r.length)return r.unshift(e),r}return[]}var Pt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Do(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var kc=class extends Ph{snapshot;constructor(e,n){super(e),this.snapshot=n,Xv(this,e)}toString(){return this.snapshot.toString()}};function u0(t){let e=qU(t),n=new Je([new ni("",{})]),r=new Je({}),i=new Je({}),s=new Je({}),o=new Je(""),a=new Fn(n,r,s,o,i,K,t,e.root);return a.snapshot=e.root,new kc(new Pt(a,[]),e)}function qU(t){let e={},n={},r={},i="",s=new as([],e,r,i,n,K,t,null,{});return new Lc("",new Pt(s,[]))}var Fn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Z(u=>u[Uc]))??k(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Z(e=>cs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Z(e=>cs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function xh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:w(w({},e.params),t.params),data:w(w({},e.data),t.data),resolve:w(w(w(w({},t.data),e.data),i?.data),t._resolvedData)}:r={params:w({},t.params),data:w({},t.data),resolve:w(w({},t.data),t._resolvedData??{})},i&&d0(i)&&(r.resolve[Uc]=i.title),r}var as=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Uc]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=cs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=cs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Lc=class extends Ph{url;constructor(e,n){super(n),this.url=e,Xv(this,n)}toString(){return l0(this._root)}};function Xv(t,e){e.value._routerState=t,e.children.forEach(n=>Xv(t,n))}function l0(t){let e=t.children.length>0?` { ${t.children.map(l0).join(", ")} } `:"";return`${t.value}${e}`}function Fv(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,xn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),xn(e.params,n.params)||t.paramsSubject.next(n.params),vU(e.url,n.url)||t.urlSubject.next(n.url),xn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Gv(t,e){let n=xn(t.params,e.params)&&wU(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Gv(t.parent,e.parent))}function d0(t){return typeof t.title=="string"||t.title===null}var h0=new N(""),e_=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=K;activateEvents=new mt;deactivateEvents=new mt;attachEvents=new mt;detachEvents=new mt;routerOutletData=gA(void 0);parentContexts=v(ls);location=v(Jr);changeDetector=v(vc);inputBinder=v($c,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new E(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Wv(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=rs({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ns]})}return t})(),Wv=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Fn?this.route:e===ls?this.childContexts:e===h0?this.outletData:this.parent.get(e,n)}},$c=new N(""),t_=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Ca([r.queryParams,r.params,r.data]).pipe(It(([s,o,a],c)=>(a=w(w(w({},s),o),a),c===0?k(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let o=vA(r.component);if(!o){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})(),n_=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Jy({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Zd(0,"router-outlet")},dependencies:[e_],encapsulation:2})}return t})();function r_(t){let e=t.children&&t.children.map(r_),n=e?ee(w({},t),{children:e}):w({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==K&&(n.component=n_),n}function GU(t,e,n){let r=Fc(t,e._root,n?n._root:void 0);return new kc(r,e)}function Fc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=WU(t,e,n);return new Pt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Fc(t,a)),o}}let r=KU(e.value),i=e.children.map(s=>Fc(t,s));return new Pt(r,i)}}function WU(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Fc(t,r,i);return Fc(t,r)})}function KU(t){return new Fn(new Je(t.url),new Je(t.params),new Je(t.queryParams),new Je(t.fragment),new Je(t.data),t.outlet,t.component,t)}var Po=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},f0="ngNavigationCancelingError";function Oh(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ii(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=p0(!1,yt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function p0(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[f0]=!0,n.cancellationCode=e,n}function QU(t){return g0(t)&&ii(t.url)}function g0(t){return!!t&&t[f0]}var YU=(t,e,n,r)=>Z(i=>(new Kv(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Kv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Fv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Do(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Do(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Do(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Do(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Nh(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Ah(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Fv(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Fv(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},kh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Co=class{component;route;constructor(e,n){this.component=e,this.route=n}};function ZU(t,e,n){let r=t._root,i=e?e._root:null;return Rc(r,i,n,[r.value])}function JU(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Oo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Vg(t)?t:e.get(t):r}function Rc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Do(e);return t.children.forEach(o=>{XU(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Mc(a,n.getContext(o),i)),i}function XU(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=eB(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new kh(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Rc(t,e,a?a.children:null,r,i):Rc(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Co(a.outlet.component,o))}else o&&Mc(e,a,i),i.canActivateChecks.push(new kh(r)),s.component?Rc(t,null,a?a.children:null,r,i):Rc(t,null,n,r,i);return i}function eB(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!os(t.url,e.url);case"pathParamsOrQueryParamsChange":return!os(t.url,e.url)||!xn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gv(t,e)||!xn(t.queryParams,e.queryParams);case"paramsChange":default:return!Gv(t,e)}}function Mc(t,e,n){let r=Do(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Mc(o,e.children.getContext(s),n):Mc(o,null,n):Mc(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Co(e.outlet.component,i)):n.canDeactivateChecks.push(new Co(null,i)):n.canDeactivateChecks.push(new Co(null,i))}function Hc(t){return typeof t=="function"}function tB(t){return typeof t=="boolean"}function nB(t){return t&&Hc(t.canLoad)}function rB(t){return t&&Hc(t.canActivate)}function iB(t){return t&&Hc(t.canActivateChild)}function sB(t){return t&&Hc(t.canDeactivate)}function oB(t){return t&&Hc(t.canMatch)}function m0(t){return t instanceof nr||t?.name==="EmptyError"}var gh=Symbol("INITIAL_VALUE");function xo(){return It(t=>Ca(t.map(e=>e.pipe(ir(1),Sg(gh)))).pipe(Z(e=>{for(let n of e)if(n!==!0){if(n===gh)return gh;if(n===!1||aB(n))return n}return!0}),Be(e=>e!==gh),ir(1)))}function aB(t){return ii(t)||t instanceof Po}function cB(t,e){return Ne(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?k(ee(w({},n),{guardsResult:!0})):uB(o,r,i,t).pipe(Ne(a=>a&&tB(a)?lB(r,s,t,e):k(a)),Z(a=>ee(w({},n),{guardsResult:a})))})}function uB(t,e,n,r){return he(t).pipe(Ne(i=>gB(i.component,i.route,n,e,r)),sr(i=>i!==!0,!0))}function lB(t,e,n,r){return he(e).pipe(bn(i=>Ys(hB(i.route.parent,r),dB(i.route,r),pB(t,i.path,n),fB(t,i.route,n))),sr(i=>i!==!0,!0))}function dB(t,e){return t!==null&&e&&e(new Rh(t)),k(!0)}function hB(t,e){return t!==null&&e&&e(new Ch(t)),k(!0)}function fB(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return k(!0);let i=r.map(s=>Aa(()=>{let o=Bc(e)??n,a=Oo(s,o),c=rB(a)?a.canActivate(e,t):ft(o,()=>a(e,t));return Er(c).pipe(sr())}));return k(i).pipe(xo())}function pB(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>JU(o)).filter(o=>o!==null).map(o=>Aa(()=>{let a=o.guards.map(c=>{let u=Bc(o.node)??n,l=Oo(c,u),d=iB(l)?l.canActivateChild(r,t):ft(u,()=>l(r,t));return Er(d).pipe(sr())});return k(a).pipe(xo())}));return k(s).pipe(xo())}function gB(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return k(!0);let o=s.map(a=>{let c=Bc(e)??i,u=Oo(a,c),l=sB(u)?u.canDeactivate(t,e,n,r):ft(c,()=>u(t,e,n,r));return Er(l).pipe(sr())});return k(o).pipe(xo())}function mB(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return k(!0);let s=i.map(o=>{let a=Oo(o,t),c=nB(a)?a.canLoad(e,n):ft(t,()=>a(e,n));return Er(c)});return k(s).pipe(xo(),y0(r))}function y0(t){return pg($e(e=>{if(typeof e!="boolean")throw Oh(t,e)}),Z(e=>e===!0))}function yB(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return k(!0);let s=i.map(o=>{let a=Oo(o,t),c=oB(a)?a.canMatch(e,n):ft(t,()=>a(e,n));return Er(c)});return k(s).pipe(xo(),y0(r))}var Vc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},jc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function To(t){return Qs(new Vc(t))}function vB(t){return Qs(new E(4e3,!1))}function _B(t){return Qs(p0(!1,yt.GuardRejected))}var Qv=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return k(r);if(i.numberOfChildren>1||!i.children[K])return vB(`${e.redirectTo}`);i=i.children[K]}}applyRedirectCommands(e,n,r,i,s){return EB(n,i,s).pipe(Z(o=>{if(o instanceof kn)throw new jc(o);let a=this.applyRedirectCreateUrlTree(o,this.urlSerializer.parse(o),e,r);if(o[0]==="/")throw new jc(a);return a}))}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new kn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new ae(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new E(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function EB(t,e,n){if(typeof t=="string")return k(t);let r=t,{queryParams:i,fragment:s,routeConfig:o,url:a,outlet:c,params:u,data:l,title:d}=e;return Er(ft(n,()=>r({params:u,data:l,queryParams:i,fragment:s,routeConfig:o,url:a,outlet:c,title:d})))}var Yv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function IB(t,e,n,r,i){let s=v0(t,e,n);return s.matched?(r=HU(e,r),yB(r,e,n,i).pipe(Z(o=>o===!0?s:w({},Yv)))):k(s)}function v0(t,e,n){if(e.path==="**")return wB(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?w({},Yv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||WA)(n,t,e);if(!i)return w({},Yv);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?w(w({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function wB(t){return{matched:!0,parameters:t.length>0?QA(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function zA(t,e,n,r){return n.length>0&&SB(t,n,r)?{segmentGroup:new ae(e,DB(r,new ae(n,t.children))),slicedSegments:[]}:n.length===0&&bB(t,n,r)?{segmentGroup:new ae(t.segments,TB(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ae(t.segments,t.children),slicedSegments:n}}function TB(t,e,n,r){let i={};for(let s of n)if(Fh(t,e,s)&&!r[fn(s)]){let o=new ae([],{});i[fn(s)]=o}return w(w({},r),i)}function DB(t,e){let n={};n[K]=e;for(let r of t)if(r.path===""&&fn(r)!==K){let i=new ae([],{});n[fn(r)]=i}return n}function SB(t,e,n){return n.some(r=>Fh(t,e,r)&&fn(r)!==K)}function bB(t,e,n){return n.some(r=>Fh(t,e,r))}function Fh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function CB(t,e,n){return e.length===0&&!t.children[n]}var Zv=class{};function AB(t,e,n,r,i,s,o="emptyOnly"){return new Jv(t,e,n,r,i,o,s).recognize()}var RB=31,Jv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Qv(this.urlSerializer,this.urlTree)}noMatchError(e){return new E(4002,`'${e.segmentGroup}'`)}recognize(){let e=zA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Z(({children:n,rootSnapshot:r})=>{let i=new Pt(r,n),s=new Lc("",i),o=i0(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new as([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),K,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,K,n).pipe(Z(r=>({children:r,rootSnapshot:n})),rr(r=>{if(r instanceof jc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Vc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(Z(o=>o instanceof Pt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return he(s).pipe(bn(o=>{let a=r.children[o],c=zU(n,o);return this.processSegmentGroup(e,c,a,o,i)}),wg((o,a)=>(o.push(...a),o)),Vr(null),Ig(),Ne(o=>{if(o===null)return To(r);let a=_0(o);return NB(a),k(a)}))}processSegment(e,n,r,i,s,o,a){return he(n).pipe(bn(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,s,o,a).pipe(rr(u=>{if(u instanceof Vc)return k(null);throw u}))),sr(c=>!!c),rr(c=>{if(m0(c))return CB(r,i,s)?k(new Zv):To(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,c){return fn(r)!==o&&(o===K||!Fh(i,s,r))?To(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,c):To(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:c,parameters:u,consumedSegments:l,positionalParamSegments:d,remainingSegments:f}=v0(n,i,s);if(!c)return To(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>RB&&(this.allowRedirects=!1));let h=new as(s,u,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,qA(i),fn(i),i.component??i._loadedComponent??null,i,GA(i)),g=xh(h,a,this.paramsInheritanceStrategy);return h.params=Object.freeze(g.params),h.data=Object.freeze(g.data),this.applyRedirects.applyRedirectCommands(l,i.redirectTo,d,h,e).pipe(It(y=>this.applyRedirects.lineralizeSegments(i,y)),Ne(y=>this.processSegment(e,r,n,y.concat(f),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=IB(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(It(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(It(({routes:u})=>{let l=r._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:h}=c,g=new as(f,d,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,qA(r),fn(r),r.component??r._loadedComponent??null,r,GA(r)),m=xh(g,o,this.paramsInheritanceStrategy);g.params=Object.freeze(m.params),g.data=Object.freeze(m.data);let{segmentGroup:y,slicedSegments:I}=zA(n,f,h,u);if(I.length===0&&y.hasChildren())return this.processChildren(l,u,y,g).pipe(Z(q=>new Pt(g,q)));if(u.length===0&&I.length===0)return k(new Pt(g,[]));let R=fn(r)===s;return this.processSegment(l,u,y,I,R?K:s,!0,g).pipe(Z(q=>new Pt(g,q instanceof Pt?[q]:[])))}))):To(n)))}getChildConfig(e,n,r){return n.children?k({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?k({routes:n._loadedRoutes,injector:n._loadedInjector}):mB(e,n,r,this.urlSerializer).pipe(Ne(i=>i?this.configLoader.loadChildren(e,n).pipe($e(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):_B(n))):k({routes:[],injector:e})}};function NB(t){t.sort((e,n)=>e.value.outlet===K?-1:n.value.outlet===K?1:e.value.outlet.localeCompare(n.value.outlet))}function MB(t){let e=t.value.routeConfig;return e&&e.path===""}function _0(t){let e=[],n=new Set;for(let r of t){if(!MB(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=_0(r.children);e.push(new Pt(r.value,i))}return e.filter(r=>!n.has(r))}function qA(t){return t.data||{}}function GA(t){return t.resolve||{}}function PB(t,e,n,r,i,s){return Ne(o=>AB(t,e,n,r,o.extractedUrl,i,s).pipe(Z(({state:a,tree:c})=>ee(w({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function xB(t,e){return Ne(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return k(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of E0(c))o.add(u);let a=0;return he(o).pipe(bn(c=>s.has(c)?OB(c,r,t,e):(c.data=xh(c,c.parent,t).resolve,k(void 0))),$e(()=>a++),Js(1),Ne(c=>a===o.size?k(n):ot))})}function E0(t){let e=t.children.map(n=>E0(n)).flat();return[t,...e]}function OB(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!d0(i)&&(s[Uc]=i.title),Aa(()=>(t.data=xh(t,t.parent,n).resolve,kB(s,t,e,r).pipe(Z(o=>(t._resolvedData=o,t.data=w(w({},t.data),o),null)))))}function kB(t,e,n,r){let i=Uv(t);if(i.length===0)return k({});let s={};return he(i).pipe(Ne(o=>LB(t[o],e,n,r).pipe(sr(),$e(a=>{if(a instanceof Po)throw Oh(new ri,a);s[o]=a}))),Js(1),Z(()=>s),rr(o=>m0(o)?ot:Qs(o)))}function LB(t,e,n,r){let i=Bc(e)??r,s=Oo(t,i),o=s.resolve?s.resolve(e,n):ft(i,()=>s(e,n));return Er(o)}function Vv(t){return It(e=>{let n=t(e);return n?he(n).pipe(Z(()=>e)):k(e)})}var i_=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===K);return r}getResolvedTitleForRoute(n){return n.data[Uc]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:()=>v(I0),providedIn:"root"})}return t})(),I0=(()=>{class t extends i_{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(M(jA))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),oi=new N("",{providedIn:"root",factory:()=>({})}),ds=new N(""),Vh=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=v(cv);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return k(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Er(n.loadComponent()).pipe(Z(T0),$e(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Zs(()=>{this.componentLoaders.delete(n)})),i=new Ws(r,()=>new we).pipe(Gs());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return k({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=w0(r,this.compiler,n,this.onLoadEndListener).pipe(Zs(()=>{this.childrenLoaders.delete(r)})),o=new Ws(s,()=>new we).pipe(Gs());return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function w0(t,e,n,r){return Er(t.loadChildren()).pipe(Z(T0),Ne(i=>i instanceof Wd||Array.isArray(i)?k(i):he(e.compileModuleAsync(i))),Z(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(ds,[],{optional:!0,self:!0}).flat()),{routes:o.map(r_),injector:s}}))}function FB(t){return t&&typeof t=="object"&&"default"in t}function T0(t){return FB(t)?t.default:t}var jh=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:()=>v(VB),providedIn:"root"})}return t})(),VB=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),s_=new N(""),o_=new N("");function D0(t,e,n){let r=t.get(o_),i=t.get(_e);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let s,o=new Promise(u=>{s=u}),a=i.startViewTransition(()=>(s(),jB(t))),{onViewTransitionCreated:c}=r;return c&&ft(t,()=>c({transition:a,from:e,to:n})),o}function jB(t){return new Promise(e=>{Fd({read:()=>setTimeout(e)},{injector:t})})}var a_=new N(""),Uh=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new we;transitionAbortWithErrorSubject=new we;configLoader=v(Vh);environmentInjector=v(Pe);destroyRef=v(tt);urlSerializer=v(us);rootContexts=v(ls);location=v(ti);inputBindingEnabled=v($c,{optional:!0})!==null;titleStrategy=v(i_);options=v(oi,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=v(jh);createViewTransition=v(s_,{optional:!0});navigationErrorHandler=v(a_,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>k(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Sh(i)),r=i=>this.events.next(new bh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ee(w({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(n){return this.transitions=new Je(null),this.transitions.pipe(Be(r=>r!==null),It(r=>{let i=!1;return k(r).pipe(It(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",yt.SupersededByNewNavigation),ot;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?ee(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>s.abortController.abort()};let o=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!o&&a!=="reload"){let c="";return this.events.next(new Ln(s.id,this.urlSerializer.serialize(s.rawUrl),c,Ao.IgnoredSameUrlNavigation)),s.resolve(!1),ot}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return k(s).pipe(It(c=>(this.events.next(new si(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?ot:Promise.resolve(c))),PB(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),$e(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=ee(w({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let u=new xc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(o&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:u,source:l,restoredState:d,extras:f}=s,h=new si(c,this.urlSerializer.serialize(u),l,d);this.events.next(h);let g=u0(this.rootComponentType).snapshot;return this.currentTransition=r=ee(w({},s),{targetSnapshot:g,urlAfterRedirects:u,extras:ee(w({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,k(r)}else{let c="";return this.events.next(new Ln(s.id,this.urlSerializer.serialize(s.extractedUrl),c,Ao.IgnoredByUrlHandlingStrategy)),s.resolve(!1),ot}}),$e(s=>{let o=new Ih(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(o)}),Z(s=>(this.currentTransition=r=ee(w({},s),{guards:ZU(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),cB(this.environmentInjector,s=>this.events.next(s)),$e(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Oh(this.urlSerializer,s.guardsResult);let o=new wh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(o)}),Be(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",yt.GuardRejected),!1)),Vv(s=>{if(s.guards.canActivateChecks.length!==0)return k(s).pipe($e(o=>{let a=new Th(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),It(o=>{let a=!1;return k(o).pipe(xB(this.paramsInheritanceStrategy,this.environmentInjector),$e({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(o,"",yt.NoDataFromResolver)}}))}),$e(o=>{let a=new Dh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}))}),Vv(s=>{let o=a=>{let c=[];a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(a.routeConfig).pipe($e(u=>{a.component=u}),Z(()=>{})));for(let u of a.children)c.push(...o(u));return c};return Ca(o(s.targetSnapshot.root)).pipe(Vr(null),ir(1))}),Vv(()=>this.afterPreactivation()),It(()=>{let{currentSnapshot:s,targetSnapshot:o}=r,a=this.createViewTransition?.(this.environmentInjector,s.root,o.root);return a?he(a).pipe(Z(()=>r)):k(r)}),Z(s=>{let o=GU(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ee(w({},s),{targetRouterState:o}),this.currentNavigation.targetRouterState=o,r}),$e(()=>{this.events.next(new Oc)}),YU(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),ir(1),Xs(new G(s=>{let o=r.abortController.signal,a=()=>s.next();return o.addEventListener("abort",a),()=>o.removeEventListener("abort",a)}).pipe(Be(()=>!i&&!r.targetRouterState),$e(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",yt.Aborted)}))),$e({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Gt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Xs(this.transitionAbortWithErrorSubject.pipe($e(s=>{throw s}))),Zs(()=>{i||this.cancelNavigationTransition(r,"",yt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),rr(s=>{if(this.destroyed)return r.resolve(!1),ot;if(i=!0,g0(s))this.events.next(new On(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),QU(s)?this.events.next(new Mo(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let o=new Ro(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let a=ft(this.environmentInjector,()=>this.navigationErrorHandler?.(o));if(a instanceof Po){let{message:c,cancellationCode:u}=Oh(this.urlSerializer,a);this.events.next(new On(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new Mo(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(o),s}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return ot}))}))}cancelNavigationTransition(n,r,i){let s=new On(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function UB(t){return t!==bo}var S0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:()=>v(BB),providedIn:"root"})}return t})(),Lh=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},BB=(()=>{class t extends Lh{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Nd(t)))(i||t)}})();static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),b0=(()=>{class t{urlSerializer=v(us);options=v(oi,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=v(ti);urlHandlingStrategy=v(jh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new kn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let s=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,o=i??s;return o instanceof kn?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=u0(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:()=>v($B),providedIn:"root"})}return t})(),$B=(()=>{class t extends b0{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof si?this.updateStateMemento():n instanceof Ln?this.commitTransition(r):n instanceof xc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Oc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof On&&n.code!==yt.SupersededByNewNavigation&&n.code!==yt.Redirect?this.restoreHistory(r):n instanceof Ro?this.restoreHistory(r,!0):n instanceof Gt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:s,state:o}=r;if(this.location.isCurrentPathEqualTo(n)||s){let a=this.browserPageId,c=w(w({},o),this.generateNgRouterState(i,a));this.location.replaceState(n,"",c)}else{let a=w(w({},o),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===n.finalUrl&&s===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Nd(t)))(i||t)}})();static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Bh(t,e){t.events.pipe(Be(n=>n instanceof Gt||n instanceof On||n instanceof Ro||n instanceof Ln),Z(n=>n instanceof Gt||n instanceof Ln?0:(n instanceof On?n.code===yt.Redirect||n.code===yt.SupersededByNewNavigation:!1)?2:1),Be(n=>n!==2),ir(1)).subscribe(()=>{e()})}var HB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Wt=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=v(Kd);stateManager=v(b0);options=v(oi,{optional:!0})||{};pendingTasks=v(dr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=v(Uh);urlSerializer=v(us);location=v(ti);urlHandlingStrategy=v(jh);injector=v(Pe);_events=new we;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=v(S0);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=v(ds,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!v($c,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new De;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof On&&r.code!==yt.Redirect&&r.code!==yt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Gt)this.navigated=!0;else if(r instanceof Mo){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=w({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||UB(i.source)},o);this.scheduleNavigation(a,bo,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}$U(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),bo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let c=w({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s).catch(c=>{this.injector.get(Nt)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(r_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:o,l=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":l=w(w({},this.currentUrlTree.queryParams),s);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}l!==null&&(l=this.removeEmptyProps(l));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=s0(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return o0(d,n,l,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=ii(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,bo,null,r)}navigate(n,r={skipLocationChange:!1}){return qB(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=w({},HB):r===!1?i=w({},zB):i=r,ii(n))return UA(this.currentUrlTree,n,i);let s=this.parseUrl(n);return UA(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,u;o?(a=o.resolve,c=o.reject,u=o.promise):u=new Promise((d,f)=>{a=d,c=f});let l=this.pendingTasks.add();return Bh(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qB(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new E(4008,!1)}var C0=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Mt(null);get href(){return ct(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new we;applicationErrorHandler=v(Nt);options=v(oi,{optional:!0});constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.reactiveHref.set(v(new nh("href"),{optional:!0}));let c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Gt&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ii(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return this.routerLinkInput===null?null:ii(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(qt(Wt),qt(Fn),sc("tabindex"),qt(hc),qt(gr),qt(hn))};static \u0275dir=rs({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&Jd("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&Yd("href",i.reactiveHref(),Py)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",_c],skipLocationChange:[2,"skipLocationChange","skipLocationChange",_c],replaceUrl:[2,"replaceUrl","replaceUrl",_c],routerLink:"routerLink"},features:[ns]})}return t})();var zc=class{};var A0=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,i,s){this.router=n,this.injector=r,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Be(n=>n instanceof Gt),bn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Io(s.providers,n,`Route: ${s.path}`));let o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return he(i).pipe(Fr())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=k(null);let s=i.pipe(Ne(o=>o===null?k(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return he([s,o]).pipe(Fr())}else return s})}static \u0275fac=function(r){return new(r||t)(M(Wt),M(Pe),M(zc),M(Vh))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),R0=new N(""),GB=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=bo;restoredId=0;store={};constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof si?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Gt?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Ln&&n.code===Ao.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof No&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>p(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new No(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Gy()};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})();function u_(t,...e){return $i([{provide:ds,multi:!0,useValue:t},[],{provide:Fn,useFactory:N0,deps:[Wt]},{provide:pc,multi:!0,useFactory:M0},e.map(n=>n.\u0275providers)])}function N0(t){return t.routerState.root}function qc(t,e){return{\u0275kind:t,\u0275providers:e}}function M0(){let t=v(xe);return e=>{let n=t.get(ei);if(e!==n.components[0])return;let r=t.get(Wt),i=t.get(P0);t.get(l_)===1&&r.initialNavigation(),t.get(k0,null,{optional:!0})?.setUpPreloading(),t.get(R0,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var P0=new N("",{factory:()=>new we}),l_=new N("",{providedIn:"root",factory:()=>1});function x0(){let t=[{provide:l_,useValue:0},Qd(()=>{let e=v(xe);return e.get(_v,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(Wt),s=e.get(P0);Bh(i,()=>{r(!0)}),e.get(Uh).afterPreactivation=()=>(r(!0),s.closed?k(void 0):s),i.initialNavigation()}))})];return qc(2,t)}function O0(){let t=[Qd(()=>{v(Wt).setUpLocationChangeListener()}),{provide:l_,useValue:2}];return qc(3,t)}var k0=new N("");function L0(t){return qc(0,[{provide:k0,useExisting:A0},{provide:zc,useExisting:t}])}function F0(){return qc(8,[t_,{provide:$c,useExisting:t_}])}function V0(t){Ht("NgRouterViewTransitions");let e=[{provide:s_,useValue:D0},{provide:o_,useValue:w({skipNextTransition:!!t?.skipInitialTransition},t)}];return qc(9,e)}var j0=[ti,{provide:us,useClass:ri},Wt,ls,{provide:Fn,useFactory:N0,deps:[Wt]},Vh,[]],WB=(()=>{class t{constructor(){}static forRoot(n,r){return{ngModule:t,providers:[j0,[],{provide:ds,multi:!0,useValue:n},[],r?.errorHandler?{provide:a_,useValue:r.errorHandler}:[],{provide:oi,useValue:r||{}},r?.useHash?QB():YB(),KB(),r?.preloadingStrategy?L0(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?ZB(r):[],r?.bindToComponentInputs?F0().\u0275providers:[],r?.enableViewTransitions?V0().\u0275providers:[],JB()]}}static forChild(n){return{ngModule:t,providers:[{provide:ds,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Xr({type:t});static \u0275inj=ar({})}return t})();function KB(){return{provide:R0,useFactory:()=>{let t=v(DA),e=v(Ee),n=v(oi),r=v(Uh),i=v(us);return n.scrollOffset&&t.setOffset(n.scrollOffset),new GB(i,r,t,e,n)}}}function QB(){return{provide:hn,useClass:Ev}}function YB(){return{provide:hn,useClass:sh}}function ZB(t){return[t.initialNavigation==="disabled"?O0().\u0275providers:[],t.initialNavigation==="enabledBlocking"?x0().\u0275providers:[]]}var c_=new N("");function JB(){return[{provide:c_,useFactory:M0},{provide:pc,multi:!0,useExisting:c_}]}var B0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},XB=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},$0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,f=(a&15)<<2|u>>6,h=u&63;c||(h=64,o||(f=64)),r.push(n[l],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(B0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):XB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new h_;let f=s<<2|a>>4;if(r.push(f),u!==64){let h=a<<4&240|u>>2;if(r.push(h),d!==64){let g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},h_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},e2=function(t){let e=B0(t);return $0.encodeByteArray(e,!0)},Gc=function(t){return e2(t).replace(/\./g,"")},p_=function(t){try{return $0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function t2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var n2=()=>t2().__FIREBASE_DEFAULTS__,r2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},i2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&p_(t[1]);return e&&JSON.parse(e)},g_=()=>{try{return n2()||r2()||i2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},m_=t=>{var e,n;return(n=(e=g_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},H0=t=>{let e=m_(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},y_=()=>{var t;return(t=g_())===null||t===void 0?void 0:t.config},v_=t=>{var e;return(e=g_())===null||e===void 0?void 0:e[`_${t}`]};var $h=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function z0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Gc(JSON.stringify(n)),Gc(JSON.stringify(o)),""].join(".")}function qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function q0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qe())}function G0(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function W0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function K0(){let t=qe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function __(){try{return typeof indexedDB=="object"}catch{return!1}}function Q0(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var s2="FirebaseError",Ot=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=s2,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ir.prototype.create)}},Ir=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?o2(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ot(i,a,r)}};function o2(t,e){return t.replace(a2,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var a2=/\{\$([^}]+)}/g;function Y0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ai(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(U0(s)&&U0(o)){if(!ai(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function U0(t){return t!==null&&typeof t=="object"}function Wc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ko(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Lo(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Z0(t,e){let n=new f_(t,e);return n.subscribe.bind(n)}var f_=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");c2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=d_),i.error===void 0&&(i.error=d_),i.complete===void 0&&(i.complete=d_);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function c2(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function d_(){}var Sse=4*60*60*1e3;function Ge(t){return t&&t._delegate?t._delegate:t}var Kt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var hs="[DEFAULT]";var E_=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new $h;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l2(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:u2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function u2(t){return t===hs?void 0:t}function l2(t){return t.instantiationMode==="EAGER"}var Hh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new E_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var d2=[],te=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(te||{}),h2={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},f2=te.INFO,p2={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},g2=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=p2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ci=class{constructor(e){this.name=e,this._logLevel=f2,this._logHandler=g2,this._userLogHandler=null,d2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?h2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...e),this._logHandler(this,te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...e),this._logHandler(this,te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,te.INFO,...e),this._logHandler(this,te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,te.WARN,...e),this._logHandler(this,te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...e),this._logHandler(this,te.ERROR,...e)}};var m2=(t,e)=>e.some(n=>t instanceof n),J0,X0;function y2(){return J0||(J0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function v2(){return X0||(X0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var eR=new WeakMap,w_=new WeakMap,tR=new WeakMap,I_=new WeakMap,D_=new WeakMap;function _2(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Vn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&eR.set(n,t)}).catch(()=>{}),D_.set(e,t),e}function E2(t){if(w_.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});w_.set(t,e)}var T_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return w_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function nR(t){T_=t(T_)}function I2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(zh(this),e,...n);return tR.set(r,e.sort?e.sort():[e]),Vn(r)}:v2().includes(t)?function(...e){return t.apply(zh(this),e),Vn(eR.get(this))}:function(...e){return Vn(t.apply(zh(this),e))}}function w2(t){return typeof t=="function"?I2(t):(t instanceof IDBTransaction&&E2(t),m2(t,y2())?new Proxy(t,T_):t)}function Vn(t){if(t instanceof IDBRequest)return _2(t);if(I_.has(t))return I_.get(t);let e=w2(t);return e!==t&&(I_.set(t,e),D_.set(e,t)),e}var zh=t=>D_.get(t);function iR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Vn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Vn(o.result),c.oldVersion,c.newVersion,Vn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var T2=["get","getKey","getAll","getAllKeys","count"],D2=["put","add","delete","clear"],S_=new Map;function rR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(S_.get(e))return S_.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=D2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||T2.includes(n)))return;let s=function(o,...a){return p(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return S_.set(e,s),s}nR(t=>ee(w({},t),{get:(e,n,r)=>rR(e,n)||t.get(e,n,r),has:(e,n)=>!!rR(e,n)||t.has(e,n)}));var C_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(S2(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function S2(t){let e=t.getComponent();return e?.type==="VERSION"}var A_="@firebase/app",sR="0.9.25";var fs=new ci("@firebase/app"),b2="@firebase/app-compat",C2="@firebase/analytics-compat",A2="@firebase/analytics",R2="@firebase/app-check-compat",N2="@firebase/app-check",M2="@firebase/auth",P2="@firebase/auth-compat",x2="@firebase/database",O2="@firebase/database-compat",k2="@firebase/functions",L2="@firebase/functions-compat",F2="@firebase/installations",V2="@firebase/installations-compat",j2="@firebase/messaging",U2="@firebase/messaging-compat",B2="@firebase/performance",$2="@firebase/performance-compat",H2="@firebase/remote-config",z2="@firebase/remote-config-compat",q2="@firebase/storage",G2="@firebase/storage-compat",W2="@firebase/firestore",K2="@firebase/firestore-compat",Q2="firebase",Y2="10.7.1";var R_="[DEFAULT]",Z2={[A_]:"fire-core",[b2]:"fire-core-compat",[A2]:"fire-analytics",[C2]:"fire-analytics-compat",[N2]:"fire-app-check",[R2]:"fire-app-check-compat",[M2]:"fire-auth",[P2]:"fire-auth-compat",[x2]:"fire-rtdb",[O2]:"fire-rtdb-compat",[k2]:"fire-fn",[L2]:"fire-fn-compat",[F2]:"fire-iid",[V2]:"fire-iid-compat",[j2]:"fire-fcm",[U2]:"fire-fcm-compat",[B2]:"fire-perf",[$2]:"fire-perf-compat",[H2]:"fire-rc",[z2]:"fire-rc-compat",[q2]:"fire-gcs",[G2]:"fire-gcs-compat",[W2]:"fire-fst",[K2]:"fire-fst-compat","fire-js":"fire-js",[Q2]:"fire-js-all"};var qh=new Map,N_=new Map;function J2(t,e){try{t.container.addComponent(e)}catch(n){fs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function li(t){let e=t.name;if(N_.has(e))return fs.debug(`There were multiple attempts to register component ${e}.`),!1;N_.set(e,t);for(let n of qh.values())J2(n,t);return!0}function Fo(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var X2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ui=new Ir("app","Firebase",X2);var M_=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ui.create("app-deleted",{appName:this._name})}};var di=Y2;function O_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:R_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ui.create("bad-app-name",{appName:String(i)});if(n||(n=y_()),!n)throw ui.create("no-options");let s=qh.get(i);if(s){if(ai(n,s.options)&&ai(r,s.config))return s;throw ui.create("duplicate-app",{appName:i})}let o=new Hh(i);for(let c of N_.values())o.addComponent(c);let a=new M_(n,r,o);return qh.set(i,a),a}function Gh(t=R_){let e=qh.get(t);if(!e&&t===R_&&y_())return O_();if(!e)throw ui.create("no-app",{appName:t});return e}function pn(t,e,n){var r;let i=(r=Z2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fs.warn(a.join(" "));return}li(new Kt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var e$="firebase-heartbeat-database",t$=1,Kc="firebase-heartbeat-store",b_=null;function uR(){return b_||(b_=iR(e$,t$,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Kc)}}}).catch(t=>{throw ui.create("idb-open",{originalErrorMessage:t.message})})),b_}function n$(t){return p(this,null,function*(){try{return yield(yield uR()).transaction(Kc).objectStore(Kc).get(lR(t))}catch(e){if(e instanceof Ot)fs.warn(e.message);else{let n=ui.create("idb-get",{originalErrorMessage:e?.message});fs.warn(n.message)}}})}function oR(t,e){return p(this,null,function*(){try{let r=(yield uR()).transaction(Kc,"readwrite");yield r.objectStore(Kc).put(e,lR(t)),yield r.done}catch(n){if(n instanceof Ot)fs.warn(n.message);else{let r=ui.create("idb-set",{originalErrorMessage:n?.message});fs.warn(r.message)}}})}function lR(t){return`${t.name}!${t.options.appId}`}var r$=1024,i$=30*24*60*60*1e3,P_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new x_(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return p(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=aR();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=i$}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return p(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=aR(),{heartbeatsToSend:r,unsentEntries:i}=s$(this._heartbeatsCache.heartbeats),s=Gc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function aR(){return new Date().toISOString().substring(0,10)}function s$(t,e=r$){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),cR(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),cR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var x_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return __()?Q0().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield n$(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return oR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return oR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function cR(t){return Gc(JSON.stringify({version:2,heartbeats:t})).length}function o$(t){li(new Kt("platform-logger",e=>new C_(e),"PRIVATE")),li(new Kt("heartbeat",e=>new P_(e),"PRIVATE")),pn(A_,sR,t),pn(A_,sR,"esm2017"),pn("fire-js","")}o$("");function bR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var CR=bR,AR=new Ir("auth","Firebase",bR());var Jh=new ci("@firebase/auth");function a$(t,...e){Jh.logLevel<=te.WARN&&Jh.warn(`Auth (${di}): ${t}`,...e)}function Kh(t,...e){Jh.logLevel<=te.ERROR&&Jh.error(`Auth (${di}): ${t}`,...e)}function Un(t,...e){throw rE(t,...e)}function ps(t,...e){return rE(t,...e)}function c$(t,e,n){let r=Object.assign(Object.assign({},CR()),{[e]:n});return new Ir("auth","Firebase",r).create(e,{appName:t.name})}function rE(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return AR.create(t,...e)}function $(t,e,...n){if(!t)throw rE(e,...n)}function wr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Kh(e),new Error(e)}function fi(t,e){t||wr(e)}function V_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function u$(){return dR()==="http:"||dR()==="https:"}function dR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function l$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(u$()||G0()||"connection"in navigator)?navigator.onLine:!0}function d$(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var gs=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,fi(n>e,"Short delay should be less than long delay!"),this.isMobile=q0()||W0()}get(){return l$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function iE(t,e){fi(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Xh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var h$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var f$=new gs(3e4,6e4);function pi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function gi(s,o,a,c){return p(this,arguments,function*(t,e,n,r,i={}){return RR(t,i,()=>p(null,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=Wc(Object.assign({key:t.config.apiKey},l)).slice(1),f=yield t._getAdditionalHeaders();return f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode),Xh.fetch()(NR(t,t.config.apiHost,n,d),Object.assign({method:e,headers:f,referrerPolicy:"no-referrer"},u))}))})}function RR(t,e,n){return p(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},h$),e);try{let i=new j_(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Wh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wh(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Wh(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Wh(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw c$(t,l,u);Un(t,l)}}catch(i){if(i instanceof Ot)throw i;Un(t,"network-request-failed",{message:String(i)})}})}function tu(s,o,a,c){return p(this,arguments,function*(t,e,n,r,i={}){let u=yield gi(t,e,n,r,i);return"mfaPendingCredential"in u&&Un(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function NR(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?iE(t.config,i):`${t.config.apiScheme}://${i}`}function p$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var j_=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ps(this.auth,"network-request-failed")),f$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Wh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ps(t,e,r);return i.customData._tokenResponse=n,i}function hR(t){return t!==void 0&&t.enterprise!==void 0}var U_=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return p$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function g$(t,e){return p(this,null,function*(){return gi(t,"GET","/v2/recaptchaConfig",pi(t,e))})}function m$(t,e){return p(this,null,function*(){return gi(t,"POST","/v1/accounts:delete",e)})}function y$(t,e){return p(this,null,function*(){return gi(t,"POST","/v1/accounts:lookup",e)})}function Qc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function MR(t,e=!1){return p(this,null,function*(){let n=Ge(t),r=yield n.getIdToken(e),i=sE(r);$(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Qc(k_(i.auth_time)),issuedAtTime:Qc(k_(i.iat)),expirationTime:Qc(k_(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function k_(t){return Number(t)*1e3}function sE(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Kh("JWT malformed, contained fewer than 3 sections"),null;try{let i=p_(n);return i?JSON.parse(i):(Kh("Failed to decode base64 JWT payload"),null)}catch(i){return Kh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function v$(t){let e=sE(t);return $(e,"internal-error"),$(typeof e.exp<"u","internal-error"),$(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Yc(t,e,n=!1){return p(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Ot&&_$(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function _$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var B_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ef=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qc(this.lastLoginAt),this.creationTime=Qc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function tf(t){return p(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Yc(t,y$(n,{idToken:r}));$(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?I$(s.providerUserInfo):[],a=E$(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ef(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function PR(t){return p(this,null,function*(){let e=Ge(t);yield tf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function E$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function I$(t){return t.map(e=>{var{providerId:n}=e,r=_g(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function w$(t,e){return p(this,null,function*(){let n=yield RR(t,{},()=>p(null,null,function*(){let r=Wc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=NR(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Xh.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function T$(t,e){return p(this,null,function*(){return gi(t,"POST","/v2/accounts:revokeToken",pi(t,e))})}var nf=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$(e.idToken,"internal-error"),$(typeof e.idToken<"u","internal-error"),$(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):v$(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return p(this,null,function*(){return $(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return p(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield w$(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&($(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&($(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&($(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return wr("not implemented")}};function hi(t,e){$(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Zc=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=_g(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new B_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ef(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let n=yield Yc(this,this.stsTokenManager.getToken(this.auth,e));return $(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return MR(this,e)}reload(){return PR(this)}_assign(e){this!==e&&($(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return p(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield tf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){let e=yield this.getIdToken();return yield Yc(this,m$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,I=(u=n.createdAt)!==null&&u!==void 0?u:void 0,R=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:q,emailVerified:re,isAnonymous:Ye,providerData:ue,stsTokenManager:pe}=n;$(q&&pe,e,"internal-error");let Ae=nf.fromJSON(this.name,pe);$(typeof q=="string",e,"internal-error"),hi(d,e.name),hi(f,e.name),$(typeof re=="boolean",e,"internal-error"),$(typeof Ye=="boolean",e,"internal-error"),hi(h,e.name),hi(g,e.name),hi(m,e.name),hi(y,e.name),hi(I,e.name),hi(R,e.name);let St=new t({uid:q,auth:e,email:f,emailVerified:re,displayName:d,isAnonymous:Ye,photoURL:g,phoneNumber:h,tenantId:m,stsTokenManager:Ae,createdAt:I,lastLoginAt:R});return ue&&Array.isArray(ue)&&(St.providerData=ue.map(Zt=>Object.assign({},Zt))),y&&(St._redirectEventId=y),St}static _fromIdTokenResponse(e,n,r=!1){return p(this,null,function*(){let i=new nf;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield tf(s),s})}};var fR=new Map;function Tr(t){fi(t instanceof Function,"Expected a class definition");let e=fR.get(t);return e?(fi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fR.set(t,e),e)}var D$=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,r){return p(this,null,function*(){this.storage[n]=r})}_get(n){return p(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),$_=D$;function Qh(t,e,n){return`firebase:${t}:${e}:${n}`}var rf=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Qh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Qh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Zc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(this,null,function*(){if(!n.length)return new t(Tr($_),e,r);let i=(yield Promise.all(n.map(u=>p(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||Tr($_),o=Qh(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=Zc._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>p(null,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function pR(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FR(e))return"Blackberry";if(VR(e))return"Webos";if(oE(e))return"Safari";if((e.includes("chrome/")||OR(e))&&!e.includes("edge/"))return"Chrome";if(LR(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function xR(t=qe()){return/firefox\//i.test(t)}function oE(t=qe()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OR(t=qe()){return/crios\//i.test(t)}function kR(t=qe()){return/iemobile/i.test(t)}function LR(t=qe()){return/android/i.test(t)}function FR(t=qe()){return/blackberry/i.test(t)}function VR(t=qe()){return/webos/i.test(t)}function hf(t=qe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function S$(t=qe()){var e;return hf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function b$(){return K0()&&document.documentMode===10}function jR(t=qe()){return hf(t)||LR(t)||VR(t)||FR(t)||/windows phone/i.test(t)||kR(t)}function C$(){try{return!!(window&&window!==window.top)}catch{return!1}}function UR(t,e=[]){let n;switch(t){case"Browser":n=pR(qe());break;case"Worker":n=`${pR(qe())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${di}/${r}`}var H_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function A$(n){return p(this,arguments,function*(t,e={}){return gi(t,"GET","/v2/passwordPolicy",pi(t,e))})}var R$=6,z_=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:R$,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var q_=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sf(this),this.idTokenSubscription=new sf(this),this.beforeStateQueue=new H_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Tr(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield rf.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return p(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield tf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=d$()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){let n=e?Ge(e):null;return n&&$(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return p(this,null,function*(){if(!this._deleted)return e&&$(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(Tr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield A$(this),n=new z_(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ir("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield T$(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return p(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Tr(e)||this._popupRedirectResolver;$(n,this,"argument-error"),this.redirectPersistenceManager=yield rf.create(this,[Tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if($(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return p(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&a$(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ys(t){return Ge(t)}var sf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Z0(n=>this.observer=n)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function N$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function BR(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=ps("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",N$().appendChild(r)})}function $R(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var M$="https://www.google.com/recaptcha/enterprise.js?render=",P$="recaptcha-enterprise",x$="NO_RECAPTCHA",G_=class{constructor(e){this.type=P$,this.auth=ys(e)}verify(e="verify",n=!1){return p(this,null,function*(){function r(s){return p(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>p(null,null,function*(){g$(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new U_(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;hR(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(x$)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&hR(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}BR(M$+a).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})})}};function gR(t,e,n,r=!1){return p(this,null,function*(){let i=new G_(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function W_(t,e,n,r){return p(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield gR(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>p(null,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield gR(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function HR(t,e){let n=Fo(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(ai(s,e??{}))return i;Un(i,"already-initialized")}return n.initialize({options:e})}function O$(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Tr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function ff(t,e,n){let r=ys(t);$(r._canInitEmulator,r,"emulator-config-failed"),$(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=zR(e),{host:o,port:a}=k$(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||L$()}function zR(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function k$(t){let e=zR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:mR(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:mR(o)}}}function mR(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function L$(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Jc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wr("not implemented")}_getIdTokenResponse(e){return wr("not implemented")}_linkToIdToken(e,n){return wr("not implemented")}_getReauthenticationResolver(e){return wr("not implemented")}};function F$(t,e){return p(this,null,function*(){return gi(t,"POST","/v1/accounts:signUp",e)})}function V$(t,e){return p(this,null,function*(){return tu(t,"POST","/v1/accounts:signInWithPassword",pi(t,e))})}function j$(t,e){return p(this,null,function*(){return tu(t,"POST","/v1/accounts:signInWithEmailLink",pi(t,e))})}function U$(t,e){return p(this,null,function*(){return tu(t,"POST","/v1/accounts:signInWithEmailLink",pi(t,e))})}var Xc=class t extends Jc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return p(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return W_(e,n,"signInWithPassword",V$);case"emailLink":return j$(e,{email:this._email,oobCode:this._password});default:Un(e,"internal-error")}})}_linkToIdToken(e,n){return p(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return W_(e,r,"signUpPassword",F$);case"emailLink":return U$(e,{idToken:n,email:this._email,oobCode:this._password});default:Un(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function L_(t,e){return p(this,null,function*(){return tu(t,"POST","/v1/accounts:signInWithIdp",pi(t,e))})}function B$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $$(t){let e=ko(Lo(t)).link,n=e?ko(Lo(e)).deep_link_id:null,r=ko(Lo(t)).deep_link_id;return(r?ko(Lo(r)).link:null)||r||n||e||t}var of=class t{constructor(e){var n,r,i,s,o,a;let c=ko(Lo(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,l=(r=c.oobCode)!==null&&r!==void 0?r:null,d=B$((i=c.mode)!==null&&i!==void 0?i:null);$(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=$$(e);try{return new t(n)}catch{return null}}};var qR=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Xc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=of.parseLink(r);return $(i,"argument-error"),Xc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),af=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var K_=class extends af{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function H$(t,e){return p(this,null,function*(){return tu(t,"POST","/v1/accounts:signUp",pi(t,e))})}var Vo=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return p(this,null,function*(){let s=yield Zc._fromIdTokenResponse(e,r,i),o=yR(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return p(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=yR(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function yR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Q_=class t extends Ot{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function GR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Q_._fromErrorAndOperation(t,s,e,r):s})}function z$(t,e,n=!1){return p(this,null,function*(){let r=yield Yc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Vo._forOperation(t,"link",r)})}function q$(t,e,n=!1){return p(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let s=yield Yc(t,GR(r,i,e,t),n);$(s.idToken,r,"internal-error");let o=sE(s.idToken);$(o,r,"internal-error");let{sub:a}=o;return $(t.uid===a,r,"user-mismatch"),Vo._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Un(r,"user-mismatch"),s}})}function WR(t,e,n=!1){return p(this,null,function*(){let r="signIn",i=yield GR(t,r,e),s=yield Vo._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function KR(t,e){return p(this,null,function*(){return WR(ys(t),e)})}function QR(t){return p(this,null,function*(){let e=ys(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function aE(t,e,n){return p(this,null,function*(){let r=ys(t),o=yield W_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",H$).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&QR(t),c}),a=yield Vo._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function cE(t,e,n){return KR(Ge(t),qR.credential(e,n)).catch(r=>p(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&QR(t),r}))}function uE(t,e,n,r){return Ge(t).onIdTokenChanged(e,n,r)}function YR(t,e,n){return Ge(t).beforeAuthStateChanged(e,n)}function lE(t,e,n,r){return Ge(t).onAuthStateChanged(e,n,r)}function dE(t){return Ge(t).signOut()}var cf="__sak";var uf=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(cf,"1"),this.storage.removeItem(cf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function G$(){let t=qe();return oE(t)||hf(t)}var W$=1e3,K$=10,Q$=(()=>{class t extends uf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=G$()&&C$(),this.fallbackToPolling=jR(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);b$()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,K$):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},W$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return p(this,null,function*(){yield xr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return p(this,null,function*(){let r=yield xr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return p(this,null,function*(){yield xr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),ZR=Q$;var Y$=(()=>{class t extends uf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),hE=Y$;function Z$(t){return Promise.all(t.map(e=>p(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var J$=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return p(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(l=>p(this,null,function*(){return l(r.origin,o)})),u=yield Z$(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function JR(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Y_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return p(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=JR("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(l),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function jn(){return window}function X$(t){jn().location.href=t}function XR(){return typeof jn().WorkerGlobalScope<"u"&&typeof jn().importScripts=="function"}function eH(){return p(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function tH(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function nH(){return XR()?self:null}var eN="firebaseLocalStorageDb",rH=1,lf="firebaseLocalStorage",tN="fbase_key",ms=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function pf(t,e){return t.transaction([lf],e?"readwrite":"readonly").objectStore(lf)}function iH(){let t=indexedDB.deleteDatabase(eN);return new ms(t).toPromise()}function Z_(){let t=indexedDB.open(eN,rH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(lf,{keyPath:tN})}catch(i){n(i)}}),t.addEventListener("success",()=>p(null,null,function*(){let r=t.result;r.objectStoreNames.contains(lf)?e(r):(r.close(),yield iH(),e(yield Z_()))}))})}function vR(t,e,n){return p(this,null,function*(){let r=pf(t,!0).put({[tN]:e,value:n});return new ms(r).toPromise()})}function sH(t,e){return p(this,null,function*(){let n=pf(t,!1).get(e),r=yield new ms(n).toPromise();return r===void 0?null:r.value})}function _R(t,e){let n=pf(t,!0).delete(e);return new ms(n).toPromise()}var oH=800,aH=3,cH=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return p(this,null,function*(){return this.db?this.db:(this.db=yield Z_(),this.db)})}_withRetries(n){return p(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>aH)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return p(this,null,function*(){return XR()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return p(this,null,function*(){this.receiver=J$._getInstance(nH()),this.receiver._subscribe("keyChanged",(n,r)=>p(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>p(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return p(this,null,function*(){var n,r;if(this.activeServiceWorker=yield eH(),!this.activeServiceWorker)return;this.sender=new Y_(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return p(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||tH()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return p(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Z_();return yield vR(n,cf,"1"),yield _R(n,cf),!0}catch{}return!1})}_withPendingWrite(n){return p(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(i=>vR(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return p(this,null,function*(){let r=yield this._withRetries(i=>sH(i,n));return this.localCache[n]=r,r})}_remove(n){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(r=>_R(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return p(this,null,function*(){let n=yield this._withRetries(s=>{let o=pf(s,!1).getAll();return new ms(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>p(this,null,function*(){return this._poll()}),oH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),nN=cH;var Yse=$R("rcb"),Zse=new gs(3e4,6e4);function uH(t,e){return e?Tr(e):($(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var eu=class extends Jc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return L_(e,this._buildIdpRequest())}_linkToIdToken(e,n){return L_(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return L_(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function lH(t){return WR(t.auth,new eu(t),t.bypassAuthState)}function dH(t){let{auth:e,user:n}=t;return $(n,e,"internal-error"),q$(n,new eu(t),t.bypassAuthState)}function hH(t){return p(this,null,function*(){let{auth:e,user:n}=t;return $(n,e,"internal-error"),z$(n,new eu(t),t.bypassAuthState)})}var J_=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>p(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return p(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lH;case"linkViaPopup":case"linkViaRedirect":return hH;case"reauthViaPopup":case"reauthViaRedirect":return dH;default:Un(this.auth,"internal-error")}}resolve(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Jse=new gs(2e3,1e4);var fH="pendingRedirect",Yh=new Map,X_=class t extends J_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return p(this,null,function*(){let e=Yh.get(this.auth._key());if(!e){try{let r=(yield pH(this.resolver,this.auth))?yield xr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Yh.set(this.auth._key(),e)}return this.bypassAuthState||Yh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return p(this,null,function*(){if(e.type==="signInViaRedirect")return xr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,xr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return p(this,null,function*(){})}cleanUp(){}};function pH(t,e){return p(this,null,function*(){let n=yH(e),r=mH(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function gH(t,e){Yh.set(t._key(),e)}function mH(t){return Tr(t._redirectPersistence)}function yH(t){return Qh(fH,t.config.apiKey,t.name)}function vH(t,e,n=!1){return p(this,null,function*(){let r=ys(t),i=uH(r,e),o=yield new X_(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var _H=10*60*1e3,eE=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!rN(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ps(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_H&&this.cachedEventUids.clear(),this.cachedEventUids.has(ER(e))}saveEventToCache(e){this.cachedEventUids.add(ER(e)),this.lastProcessedEventTime=Date.now()}};function ER(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rN({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function EH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rN(t);default:return!1}}function IH(n){return p(this,arguments,function*(t,e={}){return gi(t,"GET","/v1/projects",e)})}var wH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TH=/^https?/;function DH(t){return p(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield IH(t);for(let n of e)try{if(SH(n))return}catch{}Un(t,"unauthorized-domain")})}function SH(t){let e=V_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!TH.test(n))return!1;if(wH.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var bH=new gs(3e4,6e4);function IR(){let t=jn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function CH(t){return new Promise((e,n)=>{var r,i,s;function o(){IR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{IR(),n(ps(t,"network-request-failed"))},timeout:bH.get()})}if(!((i=(r=jn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=jn().gapi)===null||s===void 0)&&s.load)o();else{let a=$R("iframefcb");return jn()[a]=()=>{gapi.load?o():n(ps(t,"network-request-failed"))},BR(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Zh=null,e})}var Zh=null;function AH(t){return Zh=Zh||CH(t),Zh}var RH=new gs(5e3,15e3),NH="__/auth/iframe",MH="emulator/auth/iframe",PH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OH(t){let e=t.config;$(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?iE(e,MH):`https://${t.config.authDomain}/${NH}`,r={apiKey:e.apiKey,appName:t.name,v:di},i=xH.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Wc(r).slice(1)}`}function kH(t){return p(this,null,function*(){let e=yield AH(t),n=jn().gapi;return $(n,t,"internal-error"),e.open({where:document.body,url:OH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PH,dontclear:!0},r=>new Promise((i,s)=>p(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=ps(t,"network-request-failed"),a=jn().setTimeout(()=>{s(o)},RH.get());function c(){jn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var LH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FH=500,VH=600,jH="_blank",UH="http://localhost",df=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function BH(t,e,n,r=FH,i=VH){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},LH),{width:r.toString(),height:i.toString(),top:s,left:o}),u=qe().toLowerCase();n&&(a=OR(u)?jH:n),xR(u)&&(e=e||UH,c.scrollbars="yes");let l=Object.entries(c).reduce((f,[h,g])=>`${f}${h}=${g},`,"");if(S$(u)&&a!=="_self")return $H(e||"",a),new df(null);let d=window.open(e||"",a,l);$(d,t,"popup-blocked");try{d.focus()}catch{}return new df(d)}function $H(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var HH="__/auth/handler",zH="emulator/auth/handler",qH=encodeURIComponent("fac");function wR(t,e,n,r,i,s){return p(this,null,function*(){$(t.config.authDomain,t,"auth-domain-config-required"),$(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:di,eventId:i};if(e instanceof af){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Y0(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof K_){let l=e.getScopes().filter(d=>d!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let l of Object.keys(a))a[l]===void 0&&delete a[l];let c=yield t._getAppCheckToken(),u=c?`#${qH}=${encodeURIComponent(c)}`:"";return`${GH(t)}?${Wc(a).slice(1)}${u}`})}function GH({config:t}){return t.emulator?iE(t,zH):`https://${t.authDomain}/${HH}`}var F_="webStorageSupport",tE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hE,this._completeRedirectFn=vH,this._overrideRedirectResult=gH}_openPopup(e,n,r,i){return p(this,null,function*(){var s;fi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield wR(e,n,r,V_(),i);return BH(e,o,JR())})}_openRedirect(e,n,r,i){return p(this,null,function*(){yield this._originValidation(e);let s=yield wR(e,n,r,V_(),i);return X$(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(fi(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return p(this,null,function*(){let n=yield kH(e),r=new eE(e);return n.register("authEvent",i=>($(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(F_,{type:F_},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[F_];o!==void 0&&n(!!o),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jR()||oE()||hf()}},iN=tE;var TR="@firebase/auth",DR="1.5.1";var nE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function WH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function KH(t){li(new Kt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;$(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UR(t)},u=new q_(r,i,s,c);return O$(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),li(new Kt("auth-internal",e=>{let n=ys(e.getProvider("auth").getImmediate());return(r=>new nE(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pn(TR,DR,WH(t)),pn(TR,DR,"esm2017")}var QH=5*60,YH=v_("authIdTokenMaxAge")||QH,SR=null,ZH=t=>e=>p(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>YH)return;let i=n?.token;SR!==i&&(SR=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function fE(t=Gh()){let e=Fo(t,"auth");if(e.isInitialized())return e.getImmediate();let n=HR(t,{popupRedirectResolver:iN,persistence:[nN,ZR,hE]}),r=v_("authTokenSyncURL");if(r){let s=ZH(r);YR(n,s,()=>s(n.currentUser)),uE(n,o=>s(o))}let i=m_("auth");return i&&ff(n,`http://${i}`),n}KH("Browser");function sN(t){return new G(function(e){var n=lE(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var XH="firebase",ez="10.7.1";pn(XH,ez,"app");var tz=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mn={},D,kE=kE||{},H=tz||self;function Af(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function gu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function nz(t){return Object.prototype.hasOwnProperty.call(t,pE)&&t[pE]||(t[pE]=++rz)}var pE="closure_uid_"+(1e9*Math.random()>>>0),rz=0;function iz(t,e,n){return t.call.apply(t.bind,arguments)}function sz(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ut(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ut=iz:ut=sz,ut.apply(null,arguments)}function gf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ke(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function mi(){this.s=this.s,this.o=this.o}var oz=0;mi.prototype.s=!1;mi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),oz!=0)&&nz(this)};mi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var vN=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function LE(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function oN(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Af(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function lt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var az=function(){if(!H.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};H.addEventListener("test",n,e),H.removeEventListener("test",n,e)}catch{}return t}();function au(t){return/^[\s\xa0]*$/.test(t)}function Rf(){var t=H.navigator;return t&&(t=t.userAgent)?t:""}function Bn(t){return Rf().indexOf(t)!=-1}function FE(t){return FE[" "](t),t}FE[" "]=function(){};function cz(t,e){var n=Yz;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var uz=Bn("Opera"),$o=Bn("Trident")||Bn("MSIE"),_N=Bn("Edge"),_E=_N||$o,EN=Bn("Gecko")&&!(Rf().toLowerCase().indexOf("webkit")!=-1&&!Bn("Edge"))&&!(Bn("Trident")||Bn("MSIE"))&&!Bn("Edge"),lz=Rf().toLowerCase().indexOf("webkit")!=-1&&!Bn("Edge");function IN(){var t=H.document;return t?t.documentMode:void 0}var EE;e:{if(mf="",yf=function(){var t=Rf();if(EN)return/rv:([^\);]+)(\)|;)/.exec(t);if(_N)return/Edge\/([\d\.]+)/.exec(t);if($o)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(lz)return/WebKit\/(\S+)/.exec(t);if(uz)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),yf&&(mf=yf?yf[1]:""),$o&&(vf=IN(),vf!=null&&vf>parseFloat(mf))){EE=String(vf);break e}EE=mf}var mf,yf,vf,IE;H.document&&$o?(gE=IN(),IE=gE||parseInt(EE,10)||void 0):IE=void 0;var gE,dz=IE;function cu(t,e){if(lt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(EN){e:{try{FE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:hz[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&cu.$.h.call(this)}}Ke(cu,lt);var hz={2:"touch",3:"pen",4:"mouse"};cu.prototype.h=function(){cu.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var mu="closure_listenable_"+(1e6*Math.random()|0),fz=0;function pz(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++fz,this.fa=this.ia=!1}function Nf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function VE(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function gz(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function wN(t){let e={};for(let n in t)e[n]=t[n];return e}var aN="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function TN(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<aN.length;s++)n=aN[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Mf(t){this.src=t,this.g={},this.h=0}Mf.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=TE(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new pz(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function wE(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=vN(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Nf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function TE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var jE="closure_lm_"+(1e6*Math.random()|0),mE={};function DN(t,e,n,r,i){if(r&&r.once)return bN(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)DN(t,e[s],n,r,i);return null}return n=$E(n),t&&t[mu]?t.O(e,n,gu(r)?!!r.capture:!!r,i):SN(t,e,n,!1,r,i)}function SN(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=gu(i)?!!i.capture:!!i,a=BE(t);if(a||(t[jE]=a=new Mf(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=mz(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)az||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(AN(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function mz(){function t(n){return e.call(t.src,t.listener,n)}let e=yz;return t}function bN(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)bN(t,e[s],n,r,i);return null}return n=$E(n),t&&t[mu]?t.P(e,n,gu(r)?!!r.capture:!!r,i):SN(t,e,n,!0,r,i)}function CN(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)CN(t,e[s],n,r,i);else r=gu(r)?!!r.capture:!!r,n=$E(n),t&&t[mu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=TE(s,n,r,i),-1<n&&(Nf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=BE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=TE(e,n,r,i)),(n=-1<t?e[t]:null)&&UE(n))}function UE(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[mu])wE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(AN(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=BE(e))?(wE(n,t),n.h==0&&(n.src=null,e[jE]=null)):Nf(t)}}}function AN(t){return t in mE?mE[t]:mE[t]="on"+t}function yz(t,e){if(t.fa)t=!0;else{e=new cu(e,this);var n=t.listener,r=t.la||t.src;t.ia&&UE(t),t=n.call(r,e)}return t}function BE(t){return t=t[jE],t instanceof Mf?t:null}var yE="__closure_events_fn_"+(1e9*Math.random()>>>0);function $E(t){return typeof t=="function"?t:(t[yE]||(t[yE]=function(e){return t.handleEvent(e)}),t[yE])}function We(){mi.call(this),this.i=new Mf(this),this.S=this,this.J=null}Ke(We,mi);We.prototype[mu]=!0;We.prototype.removeEventListener=function(t,e,n,r){CN(this,t,e,n,r)};function rt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new lt(e,t);else if(e instanceof lt)e.target=e.target||t;else{var i=e;e=new lt(r,t),TN(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=_f(o,r,!0,e)&&i}if(o=e.g=t,i=_f(o,r,!0,e)&&i,i=_f(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=_f(o,r,!1,e)&&i}We.prototype.N=function(){if(We.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Nf(n[r]);delete t.g[e],t.h--}}this.J=null};We.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};We.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function _f(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&wE(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var HE=H.JSON.stringify,DE=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function vz(){var t=zE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var SE=class{constructor(){this.h=this.g=null}add(e,n){let r=RN.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},RN=new DE(()=>new bE,t=>t.reset()),bE=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function _z(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Ez(t){H.setTimeout(()=>{throw t},0)}var uu,lu=!1,zE=new SE,NN=()=>{let t=H.Promise.resolve(void 0);uu=()=>{t.then(Iz)}},Iz=()=>{for(var t;t=vz();){try{t.h.call(t.g)}catch(n){Ez(n)}var e=RN;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}lu=!1};function Pf(t,e){We.call(this),this.h=t||1,this.g=e||H,this.j=ut(this.qb,this),this.l=Date.now()}Ke(Pf,We);D=Pf.prototype;D.ga=!1;D.T=null;D.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),rt(this,"tick"),this.ga&&(qE(this),this.start()))}};D.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function qE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}D.N=function(){Pf.$.N.call(this),qE(this),delete this.g};function GE(t,e,n){if(typeof t=="function")n&&(t=ut(t,n));else if(t&&typeof t.handleEvent=="function")t=ut(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:H.setTimeout(t,e||0)}function MN(t){t.g=GE(()=>{t.g=null,t.i&&(t.i=!1,MN(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var CE=class extends mi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:MN(this)}N(){super.N(),this.g&&(H.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function du(t){mi.call(this),this.h=t,this.g={}}Ke(du,mi);var cN=[];function PN(t,e,n,r){Array.isArray(n)||(n&&(cN[0]=n.toString()),n=cN);for(var i=0;i<n.length;i++){var s=DN(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function xN(t){VE(t.g,function(e,n){this.g.hasOwnProperty(n)&&UE(e)},t),t.g={}}du.prototype.N=function(){du.$.N.call(this),xN(this)};du.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function xf(){this.g=!0}xf.prototype.Ea=function(){this.g=!1};function wz(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function Tz(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Uo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Sz(t,n)+(r?" "+r:"")})}function Dz(t,e){t.info(function(){return"TIMEOUT: "+e})}xf.prototype.info=function(){};function Sz(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return HE(n)}catch{return e}}var Is={},uN=null;function Of(){return uN=uN||new We}Is.Ta="serverreachability";function ON(t){lt.call(this,Is.Ta,t)}Ke(ON,lt);function hu(t){let e=Of();rt(e,new ON(e))}Is.STAT_EVENT="statevent";function kN(t,e){lt.call(this,Is.STAT_EVENT,t),this.stat=e}Ke(kN,lt);function vt(t){let e=Of();rt(e,new kN(e,t))}Is.Ua="timingevent";function LN(t,e){lt.call(this,Is.Ua,t),this.size=e}Ke(LN,lt);function yu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return H.setTimeout(function(){t()},e)}var kf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},FN={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function WE(){}WE.prototype.h=null;function lN(t){return t.h||(t.h=t.i())}function VN(){}var vu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function KE(){lt.call(this,"d")}Ke(KE,lt);function QE(){lt.call(this,"c")}Ke(QE,lt);var AE;function Lf(){}Ke(Lf,WE);Lf.prototype.g=function(){return new XMLHttpRequest};Lf.prototype.i=function(){return{}};AE=new Lf;function _u(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new du(this),this.P=bz,t=_E?125:void 0,this.V=new Pf(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new jN}function jN(){this.i=null,this.g="",this.h=!1}var bz=45e3,UN={},RE={};D=_u.prototype;D.setTimeout=function(t){this.P=t};function NE(t,e,n){t.L=1,t.A=Vf(Sr(e)),t.u=n,t.S=!0,BN(t,null)}function BN(t,e){t.G=Date.now(),Eu(t),t.B=Sr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),QN(n.i,"t",r),t.o=0,n=t.l.J,t.h=new jN,t.g=mM(t.l,n?e:null,!t.u),0<t.O&&(t.M=new CE(ut(t.Pa,t,t.g),t.O)),PN(t.U,t.g,"readystatechange",t.nb),e=t.I?wN(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),hu(),wz(t.j,t.v,t.B,t.m,t.W,t.u)}D.nb=function(t){t=t.target;let e=this.M;e&&$n(t)==3?e.l():this.Pa(t)};D.Pa=function(t){try{if(t==this.g)e:{let l=$n(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||_E||this.g&&(this.h.h||this.g.ja()||pN(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?hu(3):hu(2)),Ff(this);var n=this.g.da();this.ca=n;t:if($N(this)){var r=pN(this.g);t="";var i=r.length,s=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vs(this),ou(this);var o="";break t}this.h.i=new H.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Tz(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!au(a)){var u=a;break t}}u=null}if(n=u)Uo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ME(this,n);else{this.i=!1,this.s=3,vt(12),vs(this),ou(this);break e}}this.S?(HN(this,l,o),_E&&this.i&&l==3&&(PN(this.U,this.V,"tick",this.mb),this.V.start())):(Uo(this.j,this.m,o,null),ME(this,o)),l==4&&vs(this),this.i&&!this.J&&(l==4?hM(this.l,this):(this.i=!1,Eu(this)))}else Wz(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),vs(this),ou(this)}}}catch{}finally{}};function $N(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function HN(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=Cz(t,n),i==RE){e==4&&(t.s=4,vt(14),r=!1),Uo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==UN){t.s=4,vt(15),Uo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Uo(t.j,t.m,i,null),ME(t,i);$N(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,vt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),tI(e),e.M=!0,vt(11))):(Uo(t.j,t.m,n,"[Invalid Chunked Response]"),vs(t),ou(t))}D.mb=function(){if(this.g){var t=$n(this.g),e=this.g.ja();this.o<e.length&&(Ff(this),HN(this,t,e),this.i&&t!=4&&Eu(this))}};function Cz(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?RE:(n=Number(e.substring(n,r)),isNaN(n)?UN:(r+=1,r+n>e.length?RE:(e=e.slice(r,r+n),t.o=r+n,e)))}D.cancel=function(){this.J=!0,vs(this)};function Eu(t){t.Y=Date.now()+t.P,zN(t,t.P)}function zN(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=yu(ut(t.lb,t),e)}function Ff(t){t.C&&(H.clearTimeout(t.C),t.C=null)}D.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(Dz(this.j,this.B),this.L!=2&&(hu(),vt(17)),vs(this),this.s=2,ou(this)):zN(this,this.Y-t)};function ou(t){t.l.H==0||t.J||hM(t.l,t)}function vs(t){Ff(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,qE(t.V),xN(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function ME(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||PE(n.i,t))){if(!t.K&&PE(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Df(n),Bf(n);else break e;eI(n),vt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=yu(ut(n.ib,n),6e3));if(1>=JN(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else _s(n,11)}else if((t.K||n.g==t)&&Df(n),!au(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let h=t.g;if(h){let g=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(YE(s,s.h),s.h=null))}if(r.F){let m=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,me(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=gM(r,r.J?r.pa:null,r.Y),o.K){XN(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(Ff(a),Eu(a)),r.g=o}else lM(r);0<n.j.length&&$f(n)}else u[0]!="stop"&&u[0]!="close"||_s(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?_s(n,7):XE(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}hu(4)}catch{}}function Az(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Af(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Rz(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Af(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function qN(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Af(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Rz(t),r=Az(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var GN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nz(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Es(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Es){this.h=t.h,wf(this,t.j),this.s=t.s,this.g=t.g,Tf(this,t.m),this.l=t.l;var e=t.i,n=new fu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),dN(this,n),this.o=t.o}else t&&(e=String(t).match(GN))?(this.h=!1,wf(this,e[1]||"",!0),this.s=iu(e[2]||""),this.g=iu(e[3]||"",!0),Tf(this,e[4]),this.l=iu(e[5]||"",!0),dN(this,e[6]||"",!0),this.o=iu(e[7]||"")):(this.h=!1,this.i=new fu(null,this.h))}Es.prototype.toString=function(){var t=[],e=this.j;e&&t.push(su(e,hN,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(su(e,hN,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(su(n,n.charAt(0)=="/"?xz:Pz,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",su(n,kz)),t.join("")};function Sr(t){return new Es(t)}function wf(t,e,n){t.j=n?iu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Tf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function dN(t,e,n){e instanceof fu?(t.i=e,Lz(t.i,t.h)):(n||(e=su(e,Oz)),t.i=new fu(e,t.h))}function me(t,e,n){t.i.set(e,n)}function Vf(t){return me(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function iu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function su(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Mz),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Mz(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var hN=/[#\/\?@]/g,Pz=/[#\?:]/g,xz=/[#\?]/g,Oz=/[#\?@]/g,kz=/#/g;function fu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function yi(t){t.g||(t.g=new Map,t.h=0,t.i&&Nz(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}D=fu.prototype;D.add=function(t,e){yi(this),this.i=null,t=Ho(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function WN(t,e){yi(t),e=Ho(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function KN(t,e){return yi(t),e=Ho(t,e),t.g.has(e)}D.forEach=function(t,e){yi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};D.ta=function(){yi(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};D.Z=function(t){yi(this);let e=[];if(typeof t=="string")KN(this,t)&&(e=e.concat(this.g.get(Ho(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};D.set=function(t,e){return yi(this),this.i=null,t=Ho(this,t),KN(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};D.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function QN(t,e,n){WN(t,e),0<n.length&&(t.i=null,t.g.set(Ho(t,e),LE(n)),t.h+=n.length)}D.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Ho(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Lz(t,e){e&&!t.j&&(yi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(WN(this,r),QN(this,i,n))},t)),t.j=e}var Fz=class{constructor(t,e){this.g=t,this.map=e}};function YN(t){this.l=t||Vz,H.PerformanceNavigationTiming?(t=H.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(H.g&&H.g.Ka&&H.g.Ka()&&H.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Vz=10;function ZN(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function JN(t){return t.h?1:t.g?t.g.size:0}function PE(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function YE(t,e){t.g?t.g.add(e):t.h=e}function XN(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}YN.prototype.cancel=function(){if(this.i=eM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function eM(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return LE(t.i)}var jz=class{stringify(t){return H.JSON.stringify(t,void 0)}parse(t){return H.JSON.parse(t,void 0)}};function Uz(){this.g=new jz}function Bz(t,e,n){let r=n||"";try{qN(t,function(i,s){let o=i;gu(i)&&(o=HE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function $z(t,e){let n=new xf;if(H.Image){let r=new Image;r.onload=gf(Ef,n,r,"TestLoadImage: loaded",!0,e),r.onerror=gf(Ef,n,r,"TestLoadImage: error",!1,e),r.onabort=gf(Ef,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=gf(Ef,n,r,"TestLoadImage: timeout",!1,e),H.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ef(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Iu(t){this.l=t.ec||null,this.j=t.ob||!1}Ke(Iu,WE);Iu.prototype.g=function(){return new jf(this.l,this.j)};Iu.prototype.i=function(t){return function(){return t}}({});function jf(t,e){We.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=ZE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ke(jf,We);var ZE=0;D=jf.prototype;D.open=function(t,e){if(this.readyState!=ZE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,pu(this)};D.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||H).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};D.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wu(this)),this.readyState=ZE};D.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,pu(this)),this.g&&(this.readyState=3,pu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof H.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;tM(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function tM(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}D.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?wu(this):pu(this),this.readyState==3&&tM(this)}};D.Za=function(t){this.g&&(this.response=this.responseText=t,wu(this))};D.Ya=function(t){this.g&&(this.response=t,wu(this))};D.ka=function(){this.g&&wu(this)};function wu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,pu(t)}D.setRequestHeader=function(t,e){this.v.append(t,e)};D.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};D.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function pu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(jf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Hz=H.JSON.parse;function Se(t){We.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=nM,this.L=this.M=!1}Ke(Se,We);var nM="",zz=/^https?$/i,qz=["POST","PUT"];D=Se.prototype;D.Oa=function(t){this.M=t};D.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():AE.g(),this.C=this.u?lN(this.u):lN(AE),this.g.onreadystatechange=ut(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){fN(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=H.FormData&&t instanceof H.FormData,!(0<=vN(qz,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{sM(this),0<this.B&&((this.L=Gz(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ut(this.ua,this)):this.A=GE(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){fN(this,s)}};function Gz(t){return $o&&typeof t.timeout=="number"&&t.ontimeout!==void 0}D.ua=function(){typeof kE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rt(this,"timeout"),this.abort(8))};function fN(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,rM(t),Uf(t)}function rM(t){t.F||(t.F=!0,rt(t,"complete"),rt(t,"error"))}D.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,rt(this,"complete"),rt(this,"abort"),Uf(this))};D.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Uf(this,!0)),Se.$.N.call(this)};D.La=function(){this.s||(this.G||this.v||this.l?iM(this):this.kb())};D.kb=function(){iM(this)};function iM(t){if(t.h&&typeof kE<"u"&&(!t.C[1]||$n(t)!=4||t.da()!=2)){if(t.v&&$n(t)==4)GE(t.La,0,t);else if(rt(t,"readystatechange"),$n(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(GN)[1]||null;!i&&H.self&&H.self.location&&(i=H.self.location.protocol.slice(0,-1)),r=!zz.test(i?i.toLowerCase():"")}n=r}if(n)rt(t,"complete"),rt(t,"success");else{t.m=6;try{var s=2<$n(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",rM(t)}}finally{Uf(t)}}}}function Uf(t,e){if(t.g){sM(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||rt(t,"ready");try{n.onreadystatechange=r}catch{}}}function sM(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(H.clearTimeout(t.A),t.A=null)}D.isActive=function(){return!!this.g};function $n(t){return t.g?t.g.readyState:0}D.da=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}};D.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};D.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Hz(e)}};function pN(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case nM:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Wz(t){let e={};t=(t.g&&2<=$n(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(au(t[r]))continue;var n=_z(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}gz(e,function(r){return r.join(", ")})}D.Ia=function(){return this.m};D.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function oM(t){let e="";return VE(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function JE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=oM(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):me(t,e,n))}function nu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function aM(t){this.Ga=0,this.j=[],this.l=new xf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=nu("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=nu("baseRetryDelayMs",5e3,t),this.hb=nu("retryDelaySeedMs",1e4,t),this.eb=nu("forwardChannelMaxRetries",2,t),this.xa=nu("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new YN(t&&t.concurrentRequestLimit),this.Ja=new Uz,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}D=aM.prototype;D.ra=8;D.H=1;function XE(t){if(cM(t),t.H==3){var e=t.W++,n=Sr(t.I);if(me(n,"SID",t.K),me(n,"RID",e),me(n,"TYPE","terminate"),Tu(t,n),e=new _u(t,t.l,e),e.L=2,e.A=Vf(Sr(n)),n=!1,H.navigator&&H.navigator.sendBeacon)try{n=H.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&H.Image&&(new Image().src=e.A,n=!0),n||(e.g=mM(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Eu(e)}pM(t)}function Bf(t){t.g&&(tI(t),t.g.cancel(),t.g=null)}function cM(t){Bf(t),t.u&&(H.clearTimeout(t.u),t.u=null),Df(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&H.clearTimeout(t.m),t.m=null)}function $f(t){if(!ZN(t.i)&&!t.m){t.m=!0;var e=t.Na;uu||NN(),lu||(uu(),lu=!0),zE.add(e,t),t.C=0}}function Kz(t,e){return JN(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=yu(ut(t.Na,t,e),fM(t,t.C)),t.C++,!0)}D.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new _u(this,this.l,t),s=this.s;if(this.U&&(s?(s=wN(s),TN(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=uM(this,i,e),n=Sr(this.I),me(n,"RID",t),me(n,"CVER",22),this.F&&me(n,"X-HTTP-Session-Id",this.F),Tu(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(oM(s)))+"&"+e:this.o&&JE(n,this.o,s)),YE(this.i,i),this.bb&&me(n,"TYPE","init"),this.P?(me(n,"$req",e),me(n,"SID","null"),i.aa=!0,NE(i,n,null)):NE(i,n,e),this.H=2}}else this.H==3&&(t?gN(this,t):this.j.length==0||ZN(this.i)||gN(this))};function gN(t,e){var n;e?n=e.m:n=t.W++;let r=Sr(t.I);me(r,"SID",t.K),me(r,"RID",n),me(r,"AID",t.V),Tu(t,r),t.o&&t.s&&JE(r,t.o,t.s),n=new _u(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=uM(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),YE(t.i,n),NE(n,r,e)}function Tu(t,e){t.na&&VE(t.na,function(n,r){me(e,r,n)}),t.h&&qN({},function(n,r){me(e,r,n)})}function uM(t,e,n){n=Math.min(t.j.length,n);var r=t.h?ut(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{Bz(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function lM(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;uu||NN(),lu||(uu(),lu=!0),zE.add(e,t),t.A=0}}function eI(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=yu(ut(t.Ma,t),fM(t,t.A)),t.A++,!0)}D.Ma=function(){if(this.u=null,dM(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=yu(ut(this.jb,this),t)}};D.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,vt(10),Bf(this),dM(this))};function tI(t){t.B!=null&&(H.clearTimeout(t.B),t.B=null)}function dM(t){t.g=new _u(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Sr(t.wa);me(e,"RID","rpc"),me(e,"SID",t.K),me(e,"AID",t.V),me(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&me(e,"TO",t.qa),me(e,"TYPE","xmlhttp"),Tu(t,e),t.o&&t.s&&JE(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Vf(Sr(e)),n.u=null,n.S=!0,BN(n,t)}D.ib=function(){this.v!=null&&(this.v=null,Bf(this),eI(this),vt(19))};function Df(t){t.v!=null&&(H.clearTimeout(t.v),t.v=null)}function hM(t,e){var n=null;if(t.g==e){Df(t),tI(t),t.g=null;var r=2}else if(PE(t.i,e))n=e.F,XN(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Of(),rt(r,new LN(r,n)),$f(t)}else lM(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&Kz(t,e)||r==2&&eI(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:_s(t,5);break;case 4:_s(t,10);break;case 3:_s(t,6);break;default:_s(t,2)}}}function fM(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function _s(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=ut(t.pb,t);n||(n=new Es("//www.google.com/images/cleardot.gif"),H.location&&H.location.protocol=="http"||wf(n,"https"),Vf(n)),$z(n.toString(),r)}else vt(2);t.H=0,t.h&&t.h.za(e),pM(t),cM(t)}D.pb=function(t){t?(this.l.info("Successfully pinged google.com"),vt(2)):(this.l.info("Failed to ping google.com"),vt(1))};function pM(t){if(t.H=0,t.ma=[],t.h){let e=eM(t.i);(e.length!=0||t.j.length!=0)&&(oN(t.ma,e),oN(t.ma,t.j),t.i.i.length=0,LE(t.j),t.j.length=0),t.h.ya()}}function gM(t,e,n){var r=n instanceof Es?Sr(n):new Es(n);if(r.g!="")e&&(r.g=e+"."+r.g),Tf(r,r.m);else{var i=H.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Es(null);r&&wf(s,r),e&&(s.g=e),i&&Tf(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&me(r,n,e),me(r,"VER",t.ra),Tu(t,r),r}function mM(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Se(new Iu({ob:n})):new Se(t.va),e.Oa(t.J),e}D.isActive=function(){return!!this.h&&this.h.isActive(this)};function yM(){}D=yM.prototype;D.Ba=function(){};D.Aa=function(){};D.za=function(){};D.ya=function(){};D.isActive=function(){return!0};D.Va=function(){};function Sf(){if($o&&!(10<=Number(dz)))throw Error("Environmental error: no available transport.")}Sf.prototype.g=function(t,e){return new kt(t,e)};function kt(t,e){We.call(this),this.g=new aM(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!au(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!au(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new zo(this)}Ke(kt,We);kt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;vt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=gM(t,null,t.Y),$f(t)};kt.prototype.close=function(){XE(this.g)};kt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=HE(t),t=n);e.j.push(new Fz(e.fb++,t)),e.H==3&&$f(e)};kt.prototype.N=function(){this.g.h=null,delete this.j,XE(this.g),delete this.g,kt.$.N.call(this)};function vM(t){KE.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ke(vM,KE);function _M(){QE.call(this),this.status=1}Ke(_M,QE);function zo(t){this.g=t}Ke(zo,yM);zo.prototype.Ba=function(){rt(this.g,"a")};zo.prototype.Aa=function(t){rt(this.g,new vM(t))};zo.prototype.za=function(t){rt(this.g,new _M)};zo.prototype.ya=function(){rt(this.g,"b")};function Qz(){this.blockSize=-1}function gn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ke(gn,Qz);gn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function vE(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}gn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)vE(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){vE(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){vE(this,r),i=0;break}}this.h=i,this.i+=e};gn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function de(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var Yz={};function nI(t){return-128<=t&&128>t?cz(t,function(e){return new de([e|0],0>e?-1:0)}):new de([t|0],0>t?-1:0)}function Hn(t){if(isNaN(t)||!isFinite(t))return Bo;if(0>t)return nt(Hn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=xE;return new de(e,0)}function EM(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return nt(EM(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Hn(Math.pow(e,8)),r=Bo,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Hn(Math.pow(e,s)),r=r.R(s).add(Hn(o))):(r=r.R(n),r=r.add(Hn(o)))}return r}var xE=4294967296,Bo=nI(0),OE=nI(1),mN=nI(16777216);D=de.prototype;D.ea=function(){if(Qt(this))return-nt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:xE+r)*e,e*=xE}return t};D.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Dr(this))return"0";if(Qt(this))return"-"+nt(this).toString(t);for(var e=Hn(Math.pow(t,6)),n=this,r="";;){var i=Cf(n,e).g;n=bf(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Dr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};D.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Dr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Qt(t){return t.h==-1}D.X=function(t){return t=bf(this,t),Qt(t)?-1:Dr(t)?0:1};function nt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new de(n,~t.h).add(OE)}D.abs=function(){return Qt(this)?nt(this):this};D.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new de(n,n[n.length-1]&-2147483648?-1:0)};function bf(t,e){return t.add(nt(e))}D.R=function(t){if(Dr(this)||Dr(t))return Bo;if(Qt(this))return Qt(t)?nt(this).R(nt(t)):nt(nt(this).R(t));if(Qt(t))return nt(this.R(nt(t)));if(0>this.X(mN)&&0>t.X(mN))return Hn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,If(n,2*r+2*i),n[2*r+2*i+1]+=s*c,If(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,If(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,If(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new de(n,0)};function If(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ru(t,e){this.g=t,this.h=e}function Cf(t,e){if(Dr(e))throw Error("division by zero");if(Dr(t))return new ru(Bo,Bo);if(Qt(t))return e=Cf(nt(t),e),new ru(nt(e.g),nt(e.h));if(Qt(e))return e=Cf(t,nt(e)),new ru(nt(e.g),e.h);if(30<t.g.length){if(Qt(t)||Qt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=OE,r=e;0>=r.X(t);)n=yN(n),r=yN(r);var i=jo(n,1),s=jo(r,1);for(r=jo(r,2),n=jo(n,2);!Dr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=jo(r,1),n=jo(n,1)}return e=bf(t,i.R(e)),new ru(i,e)}for(i=Bo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Hn(n),o=s.R(e);Qt(o)||0<o.X(t);)n-=r,s=Hn(n),o=s.R(e);Dr(s)&&(s=OE),i=i.add(s),t=bf(t,o)}return new ru(i,t)}D.gb=function(t){return Cf(this,t).h};D.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new de(n,this.h&t.h)};D.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new de(n,this.h|t.h)};D.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new de(n,this.h^t.h)};function yN(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new de(n,t.h)}function jo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new de(i,t.h)}Sf.prototype.createWebChannel=Sf.prototype.g;kt.prototype.send=kt.prototype.u;kt.prototype.open=kt.prototype.m;kt.prototype.close=kt.prototype.close;kf.NO_ERROR=0;kf.TIMEOUT=8;kf.HTTP_ERROR=6;FN.COMPLETE="complete";VN.EventType=vu;vu.OPEN="a";vu.CLOSE="b";vu.ERROR="c";vu.MESSAGE="d";We.prototype.listen=We.prototype.O;Se.prototype.listenOnce=Se.prototype.P;Se.prototype.getLastError=Se.prototype.Sa;Se.prototype.getLastErrorCode=Se.prototype.Ia;Se.prototype.getStatus=Se.prototype.da;Se.prototype.getResponseJson=Se.prototype.Wa;Se.prototype.getResponseText=Se.prototype.ja;Se.prototype.send=Se.prototype.ha;Se.prototype.setWithCredentials=Se.prototype.Oa;gn.prototype.digest=gn.prototype.l;gn.prototype.reset=gn.prototype.reset;gn.prototype.update=gn.prototype.j;de.prototype.add=de.prototype.add;de.prototype.multiply=de.prototype.R;de.prototype.modulo=de.prototype.gb;de.prototype.compare=de.prototype.X;de.prototype.toNumber=de.prototype.ea;de.prototype.toString=de.prototype.toString;de.prototype.getBits=de.prototype.D;de.fromNumber=Hn;de.fromString=EM;var IM=mn.createWebChannelTransport=function(){return new Sf},wM=mn.getStatEventTarget=function(){return Of()},Hf=mn.ErrorCode=kf,TM=mn.EventType=FN,DM=mn.Event=Is,rI=mn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},wae=mn.FetchXmlHttpFactory=Iu,Du=mn.WebChannel=VN,SM=mn.XhrIo=Se,bM=mn.Md5=gn,ws=mn.Integer=de;var CM="@firebase/firestore";var Qe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");var ua="10.7.0";var Cs=new ci("@firebase/firestore");function Su(){return Cs.logLevel}function A(t,...e){if(Cs.logLevel<=te.DEBUG){let n=e.map($w);Cs.debug(`Firestore (${ua}): ${t}`,...n)}}function Cr(t,...e){if(Cs.logLevel<=te.ERROR){let n=e.map($w);Cs.error(`Firestore (${ua}): ${t}`,...n)}}function Zo(t,...e){if(Cs.logLevel<=te.WARN){let n=e.map($w);Cs.warn(`Firestore (${ua}): ${t}`,...n)}}function $w(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function U(t="Unexpected state"){let e=`FIRESTORE (${ua}) INTERNAL ASSERTION FAILED: `+t;throw Cr(e),new Error(e)}function fe(t,e){t||U()}function Y(t,e){return t}var _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},S=class extends Ot{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var br=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Kf=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},cI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qe.UNAUTHENTICATED))}shutdown(){}},uI=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},lI=class{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new br;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new br,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>p(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{A("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(A("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new br)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(A("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(fe(typeof r.accessToken=="string"),new Kf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return fe(e===null||typeof e=="string"),new Qe(e)}},dI=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},hI=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new dI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},fI=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},pI=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&A("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,A("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{A("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):A("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(fe(typeof n.token=="string"),this.R=n.token,new fI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function Zz(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Qf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=Zz(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ce(t,e){return t<e?-1:t>e?1:0}function Jo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var it=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new S(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new S(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new S(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new S(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Q=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new it(0,0))}static max(){return new t(new it(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Yf=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&U(),r===void 0?r=e.length-n:r>e.length-n&&U(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Te=class t extends Yf{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new S(_.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Jz=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Lt=class t extends Yf{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Jz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new S(_.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new S(_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new S(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new S(_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var x=class t{constructor(e){this.path=e}static fromPath(e){return new t(Te.fromString(e))}static fromName(e){return new t(Te.fromString(e).popFirst(5))}static empty(){return new t(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Te.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Te(e.slice()))}};var gI=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};gI.UNKNOWN_ID=-1;function Xz(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Q.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new As(i,x.empty(),e)}function eq(t){return new As(t.readTime,t.key,-1)}var As=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Q.min(),x.empty(),-1)}static max(){return new t(Q.max(),x.empty(),-1)}};function tq(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=x.comparator(t.documentKey,e.documentKey),n!==0?n:ce(t.largestBatchId,e.largestBatchId))}var nq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",mI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function zu(t){return p(this,null,function*(){if(t.code!==_.FAILED_PRECONDITION||t.message!==nq)throw t;A("LocalStore","Unexpectedly lost primary lease")})}var T=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&U(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function qu(t){return t.name==="IndexedDbTransactionError"}var sP=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Sp(t){return t==null}function Pu(t){return t===0&&1/t==-1/0}function rq(t){return typeof t=="number"&&Number.isInteger(t)&&!Pu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var iq=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],xae=[...iq,"documentOverlays"],sq=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],oq=sq,Oae=[...oq,"indexConfiguration","indexState","indexEntries"];function AM(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function la(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oP(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ce=class t{constructor(e,n){this.comparator=e,this.root=n||Gn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ko(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ko(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ko(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ko(this.root,e,this.comparator,!0)}},Ko=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Gn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw U();let e=this.left.check();if(e!==this.right.check())throw U();return e+(this.isRed()?0:1)}};Gn.EMPTY=null,Gn.RED=!0,Gn.BLACK=!1;Gn.EMPTY=new class{constructor(){this.size=0}get key(){throw U()}get value(){throw U()}get color(){throw U()}get left(){throw U()}get right(){throw U()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ht=class t{constructor(e){this.comparator=e,this.data=new Ce(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zf(this.data.getIterator())}getIteratorFrom(e){return new Zf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Zf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var qn=class t{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new t([])}unionWith(e){let n=new ht(Lt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Jf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var _t=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Jf("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};_t.EMPTY_BYTE_STRING=new _t("");var aq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _i(t){if(fe(!!t),typeof t=="string"){let e=0,n=aq.exec(t);if(fe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:be(t.seconds),nanos:be(t.nanos)}}function be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ei(t){return typeof t=="string"?_t.fromBase64String(t):_t.fromUint8Array(t)}function Hw(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function zw(t){let e=t.mapValue.fields.__previous_value__;return Hw(e)?zw(e):e}function xu(t){let e=_i(t.mapValue.fields.__local_write_time__.timestampValue);return new it(e.seconds,e.nanos)}var yI=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},Xf=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var zf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Rs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hw(t)?4:aP(t)?9007199254740991:10:U()}function Qn(t,e){if(t===e)return!0;let n=Rs(t);if(n!==Rs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xu(t).isEqual(xu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=_i(i.timestampValue),a=_i(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ei(i.bytesValue).isEqual(Ei(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return be(i.geoPointValue.latitude)===be(s.geoPointValue.latitude)&&be(i.geoPointValue.longitude)===be(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return be(i.integerValue)===be(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=be(i.doubleValue),a=be(s.doubleValue);return o===a?Pu(o)===Pu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Jo(t.arrayValue.values||[],e.arrayValue.values||[],Qn);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(AM(o)!==AM(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Qn(o[c],a[c])))return!1;return!0}(t,e);default:return U()}}function Ou(t,e){return(t.values||[]).find(n=>Qn(n,e))!==void 0}function Xo(t,e){if(t===e)return 0;let n=Rs(t),r=Rs(e);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=be(s.integerValue||s.doubleValue),c=be(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return RM(t.timestampValue,e.timestampValue);case 4:return RM(xu(t),xu(e));case 5:return ce(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Ei(s),c=Ei(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=ce(a[u],c[u]);if(l!==0)return l}return ce(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ce(be(s.latitude),be(o.latitude));return a!==0?a:ce(be(s.longitude),be(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=Xo(a[u],c[u]);if(l)return l}return ce(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===zf.mapValue&&o===zf.mapValue)return 0;if(s===zf.mapValue)return 1;if(o===zf.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let f=ce(c[d],l[d]);if(f!==0)return f;let h=Xo(a[c[d]],u[l[d]]);if(h!==0)return h}return ce(c.length,l.length)}(t.mapValue,e.mapValue);default:throw U()}}function RM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);let n=_i(t),r=_i(e),i=ce(n.seconds,r.seconds);return i!==0?i:ce(n.nanos,r.nanos)}function ea(t){return vI(t)}function vI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=_i(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ei(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return x.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=vI(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${vI(n.fields[o])}`;return i+"}"}(t.mapValue):U()}function NM(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _I(t){return!!t&&"integerValue"in t}function qw(t){return!!t&&"arrayValue"in t}function MM(t){return!!t&&"nullValue"in t}function PM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gf(t){return!!t&&"mapValue"in t}function Cu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return la(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Cu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function aP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var yn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cu(n)}setAll(e){let n=Lt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Cu(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Gf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Gf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){la(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Cu(this.value))}};function cP(t){let e=[];return la(t.fields,(n,r)=>{let i=new Lt([n]);if(Gf(r)){let s=cP(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new qn(e)}var vn=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,Q.min(),Q.min(),Q.min(),yn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Q.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Q.min(),Q.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Q.min(),Q.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Q.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ta=class{constructor(e,n){this.position=e,this.inclusive=n}};function xM(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=x.comparator(x.fromName(o.referenceValue),n.key):r=Xo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function OM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qn(t.position[n],e.position[n]))return!1;return!0}var Ns=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function cq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var ep=class{},Le=class t extends ep{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new II(e,n,r):n==="array-contains"?new DI(e,r):n==="in"?new SI(e,r):n==="not-in"?new bI(e,r):n==="array-contains-any"?new CI(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new wI(e,r):new TI(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Xo(n,this.value)):n!==null&&Rs(this.value)===Rs(n)&&this.matchesComparison(Xo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return U()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},_n=class t extends ep{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return uP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function uP(t){return t.op==="and"}function lP(t){return uq(t)&&uP(t)}function uq(t){for(let e of t.filters)if(e instanceof _n)return!1;return!0}function EI(t){if(t instanceof Le)return t.field.canonicalString()+t.op.toString()+ea(t.value);if(lP(t))return t.filters.map(e=>EI(e)).join(",");{let e=t.filters.map(n=>EI(n)).join(",");return`${t.op}(${e})`}}function dP(t,e){return t instanceof Le?function(r,i){return i instanceof Le&&r.op===i.op&&r.field.isEqual(i.field)&&Qn(r.value,i.value)}(t,e):t instanceof _n?function(r,i){return i instanceof _n&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&dP(o,i.filters[a]),!0):!1}(t,e):void U()}function hP(t){return t instanceof Le?function(n){return`${n.field.canonicalString()} ${n.op} ${ea(n.value)}`}(t):t instanceof _n?function(n){return n.op.toString()+" {"+n.getFilters().map(hP).join(" ,")+"}"}(t):"Filter"}var II=class extends Le{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){let n=x.comparator(e.key,this.key);return this.matchesComparison(n)}},wI=class extends Le{constructor(e,n){super(e,"in",n),this.keys=fP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},TI=class extends Le{constructor(e,n){super(e,"not-in",n),this.keys=fP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function fP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}var DI=class extends Le{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return qw(n)&&Ou(n.arrayValue,this.value)}},SI=class extends Le{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Ou(this.value.arrayValue,n)}},bI=class extends Le{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Ou(this.value.arrayValue,n)}},CI=class extends Le{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!qw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ou(this.value.arrayValue,r))}};var AI=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function kM(t,e=null,n=[],r=[],i=null,s=null,o=null){return new AI(t,e,n,r,i,s,o)}function Gw(t){let e=Y(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>EI(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Sp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ea(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ea(r)).join(",")),e.ce=n}return e.ce}function Ww(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!cq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!dP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!OM(t.startAt,e.startAt)&&OM(t.endAt,e.endAt)}function RI(t){return x.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ii=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function lq(t,e,n,r,i,s,o,a){return new Ii(t,e,n,r,i,s,o,a)}function Kw(t){return new Ii(t)}function LM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function pP(t){return t.collectionGroup!==null}function Au(t){let e=Y(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ht(Lt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Ns(s,r))}),n.has(Lt.keyField().canonicalString())||e.le.push(new Ns(Lt.keyField(),r))}return e.le}function Wn(t){let e=Y(t);return e.he||(e.he=dq(e,Au(t))),e.he}function dq(t,e){if(t.limitType==="F")return kM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Ns(i.field,s)});let n=t.endAt?new ta(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ta(t.startAt.position,t.startAt.inclusive):null;return kM(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function NI(t,e){let n=t.filters.concat([e]);return new Ii(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function tp(t,e,n){return new Ii(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bp(t,e){return Ww(Wn(t),Wn(e))&&t.limitType===e.limitType}function gP(t){return`${Gw(Wn(t))}|lt:${t.limitType}`}function qo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>hP(i)).join(", ")}]`),Sp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ea(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ea(i)).join(",")),`Target(${r})`}(Wn(t))}; limitType=${t.limitType})`}function Cp(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):x.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Au(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=xM(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Au(r),i)||r.endAt&&!function(o,a,c){let u=xM(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Au(r),i))}(t,e)}function hq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function mP(t){return(e,n)=>{let r=!1;for(let i of Au(t)){let s=fq(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function fq(t,e,n){let r=t.field.isKeyField()?x.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Xo(c,u):U()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return U()}}var wi=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){la(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return oP(this.inner)}size(){return this.innerSize}};var pq=new Ce(x.comparator);function Ar(){return pq}var yP=new Ce(x.comparator);function bu(...t){let e=yP;for(let n of t)e=e.insert(n.key,n);return e}function vP(t){let e=yP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ts(){return Ru()}function _P(){return Ru()}function Ru(){return new wi(t=>t.toString(),(t,e)=>t.isEqual(e))}var gq=new Ce(x.comparator),mq=new ht(x.comparator);function ne(...t){let e=mq;for(let n of t)e=e.add(n);return e}var yq=new ht(ce);function vq(){return yq}function EP(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pu(e)?"-0":e}}function IP(t){return{integerValue:""+t}}function _q(t,e){return rq(e)?IP(e):EP(t,e)}var na=class{constructor(){this._=void 0}};function Eq(t,e,n){return t instanceof ra?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Hw(s)&&(s=zw(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ms?TP(t,e):t instanceof Ps?DP(t,e):function(i,s){let o=wP(i,s),a=FM(o)+FM(i.Ie);return _I(o)&&_I(i.Ie)?IP(a):EP(i.serializer,a)}(t,e)}function Iq(t,e,n){return t instanceof Ms?TP(t,e):t instanceof Ps?DP(t,e):n}function wP(t,e){return t instanceof ia?function(r){return _I(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var ra=class extends na{},Ms=class extends na{constructor(e){super(),this.elements=e}};function TP(t,e){let n=SP(e);for(let r of t.elements)n.some(i=>Qn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ps=class extends na{constructor(e){super(),this.elements=e}};function DP(t,e){let n=SP(e);for(let r of t.elements)n=n.filter(i=>!Qn(i,r));return{arrayValue:{values:n}}}var ia=class extends na{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function FM(t){return be(t.integerValue||t.doubleValue)}function SP(t){return qw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function wq(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ms&&i instanceof Ms||r instanceof Ps&&i instanceof Ps?Jo(r.elements,i.elements,Qn):r instanceof ia&&i instanceof ia?Qn(r.Ie,i.Ie):r instanceof ra&&i instanceof ra}(t.transform,e.transform)}var MI=class{constructor(e,n){this.version=e,this.transformResults=n}},bs=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Wf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var sa=class{};function bP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new np(t.key,bs.none()):new xs(t.key,t.data,bs.none());{let n=t.data,r=yn.empty(),i=new ht(Lt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Rr(t.key,r,new qn(i.toArray()),bs.none())}}function Tq(t,e,n){t instanceof xs?function(i,s,o){let a=i.value.clone(),c=jM(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Rr?function(i,s,o){if(!Wf(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=jM(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(CP(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Nu(t,e,n,r){return t instanceof xs?function(s,o,a,c){if(!Wf(s.precondition,o))return a;let u=s.value.clone(),l=UM(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Rr?function(s,o,a,c){if(!Wf(s.precondition,o))return a;let u=UM(s.fieldTransforms,c,o),l=o.data;return l.setAll(CP(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Wf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Dq(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=wP(r.transform,i||null);s!=null&&(n===null&&(n=yn.empty()),n.set(r.field,s))}return n||null}function VM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Jo(r,i,(s,o)=>wq(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var xs=class extends sa{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Rr=class extends sa{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function CP(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function jM(t,e,n){let r=new Map;fe(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Iq(o,a,n[i]))}return r}function UM(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,Eq(s,o,e))}return r}var np=class extends sa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},PI=class extends sa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var xI=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&Tq(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Nu(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Nu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=_P();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=bP(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Q.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ne())}isEqual(e){return this.batchId===e.batchId&&Jo(this.mutations,e.mutations,(n,r)=>VM(n,r))&&Jo(this.baseMutations,e.baseMutations,(n,r)=>VM(n,r))}},OI=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){fe(e.mutations.length===r.length);let i=function(){return gq}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var kI=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var LI=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Oe,ie;function Sq(t){switch(t){default:return U();case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0}}function AP(t){if(t===void 0)return Cr("GRPC error has no .code"),_.UNKNOWN;switch(t){case Oe.OK:return _.OK;case Oe.CANCELLED:return _.CANCELLED;case Oe.UNKNOWN:return _.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return _.INTERNAL;case Oe.UNAVAILABLE:return _.UNAVAILABLE;case Oe.UNAUTHENTICATED:return _.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case Oe.NOT_FOUND:return _.NOT_FOUND;case Oe.ALREADY_EXISTS:return _.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return _.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case Oe.ABORTED:return _.ABORTED;case Oe.OUT_OF_RANGE:return _.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return _.UNIMPLEMENTED;case Oe.DATA_LOSS:return _.DATA_LOSS;default:return U()}}(ie=Oe||(Oe={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";var BM=null;function bq(){return new TextEncoder}var Cq=new ws([4294967295,4294967295],0);function $M(t){let e=bq().encode(t),n=new bM;return n.update(e),new Uint8Array(n.digest())}function HM(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ws([n,r],0),new ws([i,s],0)]}var FI=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ds(`Invalid padding: ${n}`);if(r<0)throw new Ds(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ds(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ds(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=ws.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(ws.fromNumber(r)));return i.compare(Cq)===1&&(i=new ws([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=$M(e),[r,i]=HM(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=$M(e),[r,i]=HM(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ds=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var rp=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ku.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(Q.min(),i,new Ce(ce),Ar(),ne())}},ku=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ne(),ne(),ne())}};var Qo=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},ip=class{constructor(e,n){this.targetId=e,this.fe=n}},sp=class{constructor(e,n,r=_t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},op=class{constructor(){this.ge=0,this.pe=qM(),this.ye=_t.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ne(),n=ne(),r=ne();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:U()}}),new ku(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=qM()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,fe(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},VI=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=Ar(),this.Qe=zM(),this.Ke=new Ce(ce)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:U()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let s=i.target;if(RI(s))if(r===0){let o=new x(s.path);this.We(n,o,vn.newNoDocument(o,Q.min()))}else fe(r===1);else{let o=this.Ze(n);if(o!==r){let a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}BM?.tt(function(l,d,f,h,g){var m,y,I,R,q,re;let Ye={localCacheCount:l,existenceFilterCount:d.count,databaseId:f.database,projectId:f.projectId},ue=d.unchangedNames;return ue&&(Ye.bloomFilter={applied:g===0,hashCount:(m=ue?.hashCount)!==null&&m!==void 0?m:0,bitmapLength:(R=(I=(y=ue?.bits)===null||y===void 0?void 0:y.bitmap)===null||I===void 0?void 0:I.length)!==null&&R!==void 0?R:0,padding:(re=(q=ue?.bits)===null||q===void 0?void 0:q.padding)!==null&&re!==void 0?re:0,mightContain:pe=>{var Ae;return(Ae=h?.mightContain(pe))!==null&&Ae!==void 0&&Ae}}),Ye}(o,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Ei(r).toUint8Array()}catch(c){if(c instanceof Jf)return Zo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new FI(o,i,s)}catch(c){return Zo(c instanceof Ds?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&RI(a.target)){let c=new x(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,vn.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ne();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let i=new rp(e,n,this.Ke,this.qe,r);return this.qe=Ar(),this.Qe=zM(),this.Ke=new Ce(ce),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new op,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new ht(ce),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||A("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new op),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function zM(){return new Ce(x.comparator)}function qM(){return new Ce(x.comparator)}var Aq={asc:"ASCENDING",desc:"DESCENDING"},Rq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nq={and:"AND",or:"OR"},jI=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function UI(t,e){return t.useProto3Json||Sp(e)?e:{value:e}}function ap(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Mq(t,e){return ap(t,e.toTimestamp())}function Kn(t){return fe(!!t),Q.fromTimestamp(function(n){let r=_i(n);return new it(r.seconds,r.nanos)}(t))}function Qw(t,e){return function(r){return new Te(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function NP(t){let e=Te.fromString(t);return fe(OP(e)),e}function BI(t,e){return Qw(t.databaseId,e.path)}function iI(t,e){let n=NP(e);if(n.get(1)!==t.databaseId.projectId)throw new S(_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new S(_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(MP(n))}function $I(t,e){return Qw(t.databaseId,e)}function Pq(t){let e=NP(t);return e.length===4?Te.emptyPath():MP(e)}function HI(t){return new Te(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function MP(t){return fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function GM(t,e,n){return{name:BI(t,e),fields:n.value.mapValue.fields}}function xq(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:U()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(fe(l===void 0||typeof l=="string"),_t.fromBase64String(l||"")):(fe(l===void 0||l instanceof Uint8Array),_t.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let l=u.code===void 0?_.UNKNOWN:AP(u.code);return new S(l,u.message||"")}(o);n=new sp(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=iI(t,r.document.name),s=Kn(r.document.updateTime),o=r.document.createTime?Kn(r.document.createTime):Q.min(),a=new yn({mapValue:{fields:r.document.fields}}),c=vn.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Qo(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=iI(t,r.document),s=r.readTime?Kn(r.readTime):Q.min(),o=vn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Qo([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=iI(t,r.document),s=r.removedTargetIds||[];n=new Qo([],s,i,null)}else{if(!("filter"in e))return U();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new LI(i,s),a=r.targetId;n=new ip(a,o)}}return n}function Oq(t,e){let n;if(e instanceof xs)n={update:GM(t,e.key,e.value)};else if(e instanceof np)n={delete:BI(t,e.key)};else if(e instanceof Rr)n={update:GM(t,e.key,e.data),updateMask:Hq(e.fieldMask)};else{if(!(e instanceof PI))return U();n={verify:BI(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof ra)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ms)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ps)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ia)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw U()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Mq(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:U()}(t,e.precondition)),n}function kq(t,e){return t&&t.length>0?(fe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Kn(i.updateTime):Kn(s);return o.isEqual(Q.min())&&(o=Kn(s)),new MI(o,i.transformResults||[])}(n,e))):[]}function Lq(t,e){return{documents:[$I(t,e.path)]}}function Fq(t,e){let n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=$I(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=$I(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);let i=function(c){if(c.length!==0)return xP(_n.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);let s=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:Go(d.field),direction:Uq(d.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let o=UI(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function Vq(t){let e=Pq(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){fe(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let f=PP(d);return f instanceof _n&&lP(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(g){return new Ns(Wo(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Sp(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(d){let f=!!d.before,h=d.values||[];return new ta(h,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let f=!d.before,h=d.values||[];return new ta(h,f)}(n.endAt)),lq(e,i,o,s,a,"F",c,u)}function jq(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return U()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function PP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Wo(n.unaryFilter.field);return Le.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Wo(n.unaryFilter.field);return Le.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Wo(n.unaryFilter.field);return Le.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Wo(n.unaryFilter.field);return Le.create(o,"!=",{nullValue:"NULL_VALUE"});default:return U()}}(t):t.fieldFilter!==void 0?function(n){return Le.create(Wo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return U()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return _n.create(n.compositeFilter.filters.map(r=>PP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return U()}}(n.compositeFilter.op))}(t):U()}function Uq(t){return Aq[t]}function Bq(t){return Rq[t]}function $q(t){return Nq[t]}function Go(t){return{fieldPath:t.canonicalString()}}function Wo(t){return Lt.fromServerFormat(t.fieldPath)}function xP(t){return t instanceof Le?function(n){if(n.op==="=="){if(PM(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NAN"}};if(MM(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PM(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NOT_NAN"}};if(MM(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Go(n.field),op:Bq(n.op),value:n.value}}}(t):t instanceof _n?function(n){let r=n.getFilters().map(i=>xP(i));return r.length===1?r[0]:{compositeFilter:{op:$q(n.op),filters:r}}}(t):U()}function Hq(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function OP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Lu=class t{constructor(e,n,r,i,s=Q.min(),o=Q.min(),a=_t.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var zI=class{constructor(e){this.ut=e}};function zq(t){let e=Vq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tp(e,e.limit,"L"):e}var cp=class{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(be(e.integerValue));else if("doubleValue"in e){let r=be(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),Pu(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Tt(n,20),typeof r=="string"?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Ei(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?aP(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):U()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){let r=e.fields||{};this.Tt(n,55);for(let i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){let r=e.values||[];this.Tt(n,50);for(let i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),x.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}};cp.St=new cp;var qI=class{constructor(){this.on=new GI}addToCollectionParentIndex(e,n){return this.on.add(n),T.resolve()}getCollectionParents(e,n){return T.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return T.resolve()}deleteFieldIndex(e,n){return T.resolve()}deleteAllFieldIndexes(e){return T.resolve()}createTargetIndexes(e,n){return T.resolve()}getDocumentsMatchingTarget(e,n){return T.resolve(null)}getIndexType(e,n){return T.resolve(0)}getFieldIndexes(e,n){return T.resolve([])}getNextCollectionGroupToUpdate(e){return T.resolve(null)}getMinOffset(e,n){return T.resolve(As.min())}getMinOffsetFromCollectionGroup(e,n){return T.resolve(As.min())}updateCollectionGroup(e,n,r){return T.resolve()}updateIndexEntries(e,n){return T.resolve()}},GI=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ht(Te.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ht(Te.comparator)).toArray()}};var Lae=new Uint8Array(0);var zn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(41943040,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);var Fu=class t{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new t(0)}static Nn(){return new t(-1)}};var WI=class{constructor(){this.changes=new wi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?T.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var KI=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var QI=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Nu(r.mutation,i,qn.empty(),it.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ne()){let i=Ts();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=bu();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Ts();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ne()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ar(),o=Ru(),a=function(){return Ru()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof Rr)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),Nu(l.mutation,u,l.mutation.getFieldMask(),it.now())):o.set(u.key,qn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new KI(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Ru(),i=new Ce((o,a)=>o-a),s=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||qn.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||ne()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=_P();l.forEach(f=>{if(!s.has(f)){let h=bP(n.get(f),r.get(f));h!==null&&d.set(f,h),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return T.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return x.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):T.resolve(Ts()),a=-1,c=s;return o.next(u=>T.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?T.resolve():this.remoteDocumentCache.getEntry(e,l).next(f=>{c=c.insert(l,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,ne())).next(l=>({batchId:a,changes:vP(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new x(n)).next(r=>{let i=bu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=bu();return this.indexManager.getCollectionParents(e,s).next(a=>T.forEach(a,c=>{let u=function(d,f){return new Ii(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,vn.newInvalidDocument(l)))});let a=bu();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&Nu(l.mutation,u,qn.empty(),it.now()),Cp(n,u)&&(a=a.insert(c,u))}),a})}};var YI=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return T.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Kn(i.createTime)}}(n)),T.resolve()}getNamedQuery(e,n){return T.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:zq(i.bundledQuery),readTime:Kn(i.readTime)}}(n)),T.resolve()}};var ZI=class{constructor(){this.overlays=new Ce(x.comparator),this.lr=new Map}getOverlay(e,n){return T.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ts();return T.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),T.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),T.resolve()}getOverlaysForCollection(e,n,r){let i=Ts(),s=n.length+1,o=new x(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return T.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ce((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=Ts(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=Ts(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return T.resolve(a)}lt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new kI(n,r));let s=this.lr.get(n);s===void 0&&(s=ne(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}};var Vu=class{constructor(){this.hr=new ht(ke.Pr),this.Ir=new ht(ke.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){let r=new ke(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new ke(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){let n=new x(new Te([])),r=new ke(n,e),i=new ke(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let n=new x(new Te([])),r=new ke(n,e),i=new ke(n,e+1),s=ne();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new ke(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},ke=class{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return x.comparator(e.key,n.key)||ce(e.gr,n.gr)}static Tr(e,n){return ce(e.gr,n.gr)||x.comparator(e.key,n.key)}};var JI=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new ht(ke.Pr)}checkEmpty(e){return T.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new xI(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.yr=this.yr.add(new ke(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return T.resolve(o)}lookupMutationBatch(e,n){return T.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Sr(r),s=i<0?0:i;return T.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return T.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return T.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new ke(n,0),i=new ke(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{let a=this.wr(o.gr);s.push(a)}),T.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ht(ce);return n.forEach(i=>{let s=new ke(i,0),o=new ke(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),T.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;x.isDocumentKey(s)||(s=s.child(""));let o=new ke(new x(s),0),a=new ht(ce);return this.yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.gr)),!0)},o),T.resolve(this.br(a))}br(e){let n=[];return e.forEach(r=>{let i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){fe(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return T.forEach(n.mutations,i=>{let s=new ke(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){let r=new ke(n,0),i=this.yr.firstAfterOrEqual(r);return T.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,T.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var XI=class{constructor(e){this.Cr=e,this.docs=function(){return new Ce(x.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return T.resolve(r?r.document.mutableCopy():vn.newInvalidDocument(n))}getEntries(e,n){let r=Ar();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():vn.newInvalidDocument(i))}),T.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ar(),o=n.path,a=new x(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||tq(eq(l),r)<=0||(i.has(l.key)||Cp(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return T.resolve(s)}getAllFromCollectionGroup(e,n,r,i){U()}vr(e,n){return T.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ew(this)}getSize(e){return T.resolve(this.size)}},ew=class extends WI{constructor(e){super(),this._r=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),T.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}};var tw=class{constructor(e){this.persistence=e,this.Fr=new wi(n=>Gw(n),Ww),this.lastRemoteSnapshotVersion=Q.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Vu,this.targetCount=0,this.Nr=Fu.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),T.resolve()}getLastRemoteSnapshotVersion(e){return T.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return T.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),T.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),T.resolve()}kn(e){this.Fr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Nr=new Fu(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,T.resolve()}updateTargetData(e,n){return this.kn(n),T.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,T.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),T.waitFor(s).next(()=>i)}getTargetCount(e){return T.resolve(this.targetCount)}getTargetData(e,n){let r=this.Fr.get(n)||null;return T.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),T.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),T.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),T.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Or.mr(n);return T.resolve(r)}containsKey(e,n){return T.resolve(this.Or.containsKey(n))}};var nw=class{constructor(e,n){this.Br={},this.overlays={},this.Lr=new sP(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new tw(this),this.indexManager=new qI,this.remoteDocumentCache=function(i){return new XI(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new zI(n),this.Kr=new YI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ZI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new JI(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){A("MemoryPersistence","Starting transaction:",e);let i=new rw(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return T.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},rw=class extends mI{constructor(e){super(),this.currentSequenceNumber=e}},iw=class t{constructor(e){this.persistence=e,this.Gr=new Vu,this.zr=null}static jr(e){return new t(e)}get Hr(){if(this.zr)return this.zr;throw U()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),T.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),T.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),T.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return T.forEach(this.Hr,r=>{let i=x.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,Q.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return T.or([()=>T.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}};var sw=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=ne(),i=ne();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var ow=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var aw=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new ow;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Su()<=te.DEBUG&&A("QueryEngine","SDK will not create cache indexes for query:",qo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),T.resolve()):(Su()<=te.DEBUG&&A("QueryEngine","Query:",qo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Su()<=te.DEBUG&&A("QueryEngine","The SDK decides to create cache indexes for query:",qo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(n))):T.resolve())}zi(e,n){if(LM(n))return T.resolve(null);let r=Wn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=tp(n,null,"F"),r=Wn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ne(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Yi(n,a);return this.Zi(n,u,o,c.readTime)?this.zi(e,tp(n,null,"F")):this.Xi(e,u,n,c)}))})))}ji(e,n,r,i){return LM(n)||i.isEqual(Q.min())?T.resolve(null):this.Gi.getDocuments(e,r).next(s=>{let o=this.Yi(n,s);return this.Zi(n,o,r,i)?T.resolve(null):(Su()<=te.DEBUG&&A("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qo(n)),this.Xi(e,o,n,Xz(i,-1)).next(a=>a))})}Yi(e,n){let r=new ht(mP(e));return n.forEach((i,s)=>{Cp(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return Su()<=te.DEBUG&&A("QueryEngine","Using full collection scan to execute query:",qo(n)),this.Gi.getDocumentsMatchingQuery(e,n,As.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var cw=class{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Ce(ce),this.ns=new wi(s=>Gw(s),Ww),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QI(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}};function qq(t,e,n,r){return new cw(t,e,n,r)}function kP(t,e){return p(this,null,function*(){let n=Y(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=ne();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})})}function Gq(t,e){let n=Y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,f=d.keys(),h=T.resolve();return f.forEach(g=>{h=h.next(()=>l.getEntry(c,g)).next(m=>{let y=u.docVersions.get(g);fe(y!==null),m.version.compareTo(y)<0&&(d.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),l.addEntry(m)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ne();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function LP(t){let e=Y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Wq(t,e){let n=Y(t),r=e.snapshotVersion,i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;let a=[];e.targetChanges.forEach((l,d)=>{let f=i.get(d);if(!f)return;a.push(n.qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,l.addedDocuments,d)));let h=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?h=h.withResumeToken(_t.EMPTY_BYTE_STRING,Q.min()).withLastLimboFreeSnapshotVersion(Q.min()):l.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(l.resumeToken,r)),i=i.insert(d,h),function(m,y,I){return m.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(f,h,l)&&a.push(n.qr.updateTargetData(s,h))});let c=Ar(),u=ne();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(Kq(s,o,e.documentUpdates).next(l=>{c=l.us,u=l.cs})),!r.isEqual(Q.min())){let l=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return T.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ts=i,s))}function Kq(t,e,n){let r=ne(),i=ne();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ar();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Q.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):A("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{us:o,cs:i}})}function Qq(t,e){let n=Y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Yq(t,e){let n=Y(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,T.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Lu(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}function uw(t,e,n){return p(this,null,function*(){let r=Y(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!qu(o))throw o;A("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)})}function WM(t,e,n){let r=Y(t),i=Q.min(),s=ne();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,l){let d=Y(c),f=d.ns.get(l);return f!==void 0?T.resolve(d.ts.get(f)):d.qr.getTargetData(u,l)}(r,o,Wn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:Q.min(),n?s:ne())).next(a=>(Zq(r,hq(e),a),{documents:a,ls:s})))}function Zq(t,e,n){let r=t.rs.get(e)||Q.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}var up=class{constructor(){this.activeTargetIds=vq()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var lw=class{constructor(){this.eo=new up,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new up,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var dw=class{ro(e){}shutdown(){}};var lp=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){A("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){A("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var qf=null;function sI(){return qf===null?qf=function(){return 268435456+Math.round(2147483648*Math.random())}():qf++,"0x"+qf.toString(16)}var Jq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var hw=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}};var dt="WebChannelConnection",fw=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){let a=sI(),c=this.So(n,r);A("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(n,c,u,i).then(l=>(A("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw Zo("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ua}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){let i=Jq[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){let s=sI();return new Promise((o,a)=>{let c=new SM;c.setWithCredentials(!0),c.listenOnce(TM.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Hf.NO_ERROR:let l=c.getResponseJson();A(dt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case Hf.TIMEOUT:A(dt,`RPC '${e}' ${s} timed out`),a(new S(_.DEADLINE_EXCEEDED,"Request time out"));break;case Hf.HTTP_ERROR:let d=c.getStatus();if(A(dt,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);let h=f?.error;if(h&&h.status&&h.message){let g=function(y){let I=y.toLowerCase().replace(/_/g,"-");return Object.values(_).indexOf(I)>=0?I:_.UNKNOWN}(h.status);a(new S(g,h.message))}else a(new S(_.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new S(_.UNAVAILABLE,"Connection failed."));break;default:U()}}finally{A(dt,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);A(dt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}vo(e,n,r){let i=sI(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=IM(),a=wM(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");A(dt,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),f=!1,h=!1,g=new hw({co:y=>{h?A(dt,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(f||(A(dt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),A(dt,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},lo:()=>d.close()}),m=(y,I,R)=>{y.listen(I,q=>{try{R(q)}catch(re){setTimeout(()=>{throw re},0)}})};return m(d,Du.EventType.OPEN,()=>{h||A(dt,`RPC '${e}' stream ${i} transport opened.`)}),m(d,Du.EventType.CLOSE,()=>{h||(h=!0,A(dt,`RPC '${e}' stream ${i} transport closed`),g.Ro())}),m(d,Du.EventType.ERROR,y=>{h||(h=!0,Zo(dt,`RPC '${e}' stream ${i} transport errored:`,y),g.Ro(new S(_.UNAVAILABLE,"The operation could not be completed")))}),m(d,Du.EventType.MESSAGE,y=>{var I;if(!h){let R=y.data[0];fe(!!R);let q=R,re=q.error||((I=q[0])===null||I===void 0?void 0:I.error);if(re){A(dt,`RPC '${e}' stream ${i} received error:`,re);let Ye=re.status,ue=function(St){let Zt=Oe[St];if(Zt!==void 0)return AP(Zt)}(Ye),pe=re.message;ue===void 0&&(ue=_.INTERNAL,pe="Unknown error status: "+Ye+" with message "+re.message),h=!0,g.Ro(new S(ue,pe)),d.close()}else A(dt,`RPC '${e}' stream ${i} received:`,R),g.Vo(R)}}),m(a,DM.STAT_EVENT,y=>{y.stat===rI.PROXY?A(dt,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===rI.NOPROXY&&A(dt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ao()},0),g}};function oI(){return typeof document<"u"?document:null}function Ap(t){return new jI(t,!0)}var dp=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();let n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&A("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}};var hp=class{constructor(e,n,r,i,s,o,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new dp(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}stop(){return p(this,null,function*(){this.jo()&&(yield this.close(0))})}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){return p(this,null,function*(){if(this.Ho())return this.close(0)})}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){return p(this,null,function*(){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===_.RESOURCE_EXHAUSTED?(Cr(n.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===_.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Io(n)})}r_(){}auth(){this.state=1;let e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{let i=new S(_.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){let r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(()=>p(this,null,function*(){this.state=0,this.start()}))}o_(e){return A("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(A("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},pw=class extends hp{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();let n=xq(this.serializer,e),r=function(s){if(!("targetChange"in s))return Q.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?Q.min():o.readTime?Kn(o.readTime):Q.min()}(e);return this.listener.a_(n,r)}u_(e){let n={};n.database=HI(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=RI(c)?{documents:Lq(s,c)}:{query:Fq(s,c)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=RP(s,o.resumeToken);let u=UI(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Q.min())>0){a.readTime=ap(s,o.snapshotVersion.toTimestamp());let u=UI(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=jq(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){let n={};n.database=HI(this.serializer),n.removeTarget=e,this.e_(n)}},gw=class extends hp{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();let n=kq(e.writeResults,e.commitTime),r=Kn(e.commitTime);return this.listener.I_(r,n)}return fe(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){let e={};e.database=HI(this.serializer),this.e_(e)}P_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>Oq(this.serializer,r))};this.e_(n)}};var mw=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new S(_.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new S(_.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new S(_.UNKNOWN,s.toString())})}terminate(){this.d_=!0}};var yw=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Cr(n),this.f_=!1):A("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}};var vw=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(()=>p(this,null,function*(){Os(this)&&(A("RemoteStore","Restarting streams for network reachability change."),yield function(c){return p(this,null,function*(){let u=Y(c);u.C_.add(4),yield Gu(u),u.M_.set("Unknown"),u.C_.delete(4),yield Rp(u)})}(this))}))}),this.M_=new yw(r,i)}};function Rp(t){return p(this,null,function*(){if(Os(t))for(let e of t.v_)yield e(!0)})}function Gu(t){return p(this,null,function*(){for(let e of t.v_)yield e(!1)})}function FP(t,e){let n=Y(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Jw(n)?Zw(n):da(n).Ho()&&Yw(n,e))}function VP(t,e){let n=Y(t),r=da(n);n.D_.delete(e),r.Ho()&&jP(n,e),n.D_.size===0&&(r.Ho()?r.Zo():Os(n)&&n.M_.set("Unknown"))}function Yw(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Q.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}da(t).u_(e)}function jP(t,e){t.x_.Oe(e),da(t).c_(e)}function Zw(t){t.x_=new VI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),da(t).start(),t.M_.g_()}function Jw(t){return Os(t)&&!da(t).jo()&&t.D_.size>0}function Os(t){return Y(t).C_.size===0}function UP(t){t.x_=void 0}function Xq(t){return p(this,null,function*(){t.D_.forEach((e,n)=>{Yw(t,e)})})}function eG(t,e){return p(this,null,function*(){UP(t),Jw(t)?(t.M_.w_(e),Zw(t)):t.M_.set("Unknown")})}function tG(t,e,n){return p(this,null,function*(){if(t.M_.set("Online"),e instanceof sp&&e.state===2&&e.cause)try{yield function(i,s){return p(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.D_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))})}(t,e)}catch(r){A("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield fp(t,r)}else if(e instanceof Qo?t.x_.$e(e):e instanceof ip?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Q.min()))try{let r=yield LP(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.x_.it(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=s.D_.get(u);l&&s.D_.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let l=s.D_.get(c);if(!l)return;s.D_.set(c,l.withResumeToken(_t.EMPTY_BYTE_STRING,l.snapshotVersion)),jP(s,c);let d=new Lu(l.target,c,u,l.sequenceNumber);Yw(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){A("RemoteStore","Failed to raise snapshot:",r),yield fp(t,r)}})}function fp(t,e,n){return p(this,null,function*(){if(!qu(e))throw e;t.C_.add(1),yield Gu(t),t.M_.set("Offline"),n||(n=()=>LP(t.localStore)),t.asyncQueue.enqueueRetryable(()=>p(null,null,function*(){A("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield Rp(t)}))})}function BP(t,e){return e().catch(n=>fp(t,n,e))}function Np(t){return p(this,null,function*(){let e=Y(t),n=Ti(e),r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;nG(e);)try{let i=yield Qq(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,rG(e,i)}catch(i){yield fp(e,i)}$P(e)&&HP(e)})}function nG(t){return Os(t)&&t.b_.length<10}function rG(t,e){t.b_.push(e);let n=Ti(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function $P(t){return Os(t)&&!Ti(t).jo()&&t.b_.length>0}function HP(t){Ti(t).start()}function iG(t){return p(this,null,function*(){Ti(t).E_()})}function sG(t){return p(this,null,function*(){let e=Ti(t);for(let n of t.b_)e.P_(n.mutations)})}function oG(t,e,n){return p(this,null,function*(){let r=t.b_.shift(),i=OI.from(r,e,n);yield BP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Np(t)})}function aG(t,e){return p(this,null,function*(){e&&Ti(t).h_&&(yield function(r,i){return p(this,null,function*(){if(function(o){return Sq(o)&&o!==_.ABORTED}(i.code)){let s=r.b_.shift();Ti(r).Yo(),yield BP(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Np(r)}})}(t,e)),$P(t)&&HP(t)})}function KM(t,e){return p(this,null,function*(){let n=Y(t);n.asyncQueue.verifyOperationInProgress(),A("RemoteStore","RemoteStore received new credentials");let r=Os(n);n.C_.add(3),yield Gu(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Rp(n)})}function cG(t,e){return p(this,null,function*(){let n=Y(t);e?(n.C_.delete(2),yield Rp(n)):e||(n.C_.add(2),yield Gu(n),n.M_.set("Unknown"))})}function da(t){return t.O_||(t.O_=function(n,r,i){let s=Y(n);return s.A_(),new pw(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:Xq.bind(null,t),Io:eG.bind(null,t),a_:tG.bind(null,t)}),t.v_.push(e=>p(null,null,function*(){e?(t.O_.Yo(),Jw(t)?Zw(t):t.M_.set("Unknown")):(yield t.O_.stop(),UP(t))}))),t.O_}function Ti(t){return t.N_||(t.N_=function(n,r,i){let s=Y(n);return s.A_(),new gw(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:iG.bind(null,t),Io:aG.bind(null,t),T_:sG.bind(null,t),I_:oG.bind(null,t)}),t.v_.push(e=>p(null,null,function*(){e?(t.N_.Yo(),yield Np(t)):(yield t.N_.stop(),t.b_.length>0&&(A("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))}))),t.N_}var _w=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new S(_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Xw(t,e){if(Cr("AsyncQueue",`${e}: ${t}`),qu(t))return new S(_.UNAVAILABLE,`${e}: ${t}`);throw t}var pp=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=bu(),this.sortedSet=new Ce(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var gp=class{constructor(){this.B_=new Ce(x.comparator)}track(e){let n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):U():this.B_=this.B_.insert(n,e)}L_(){let e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}},oa=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,pp.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Ew=class{constructor(){this.k_=void 0,this.listeners=[]}},Iw=class{constructor(){this.queries=new wi(e=>gP(e),bp),this.onlineState="Unknown",this.q_=new Set}};function uG(t,e){return p(this,null,function*(){let n=Y(t),r=e.query,i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Ew),i)try{s.k_=yield n.onListen(r)}catch(o){let a=Xw(o,`Initialization of query '${qo(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&eT(n)})}function lG(t,e){return p(this,null,function*(){let n=Y(t),r=e.query,i=!1,s=n.queries.get(r);if(s){let o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)})}function dG(t,e){let n=Y(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&eT(n)}function hG(t,e,n){let r=Y(t),i=r.queries.get(e);if(i)for(let s of i.listeners)s.onError(n);r.queries.delete(e)}function eT(t){t.q_.forEach(e=>{e.next()})}var ww=class{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new oa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;let r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;let n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=oa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}};var mp=class{constructor(e){this.key=e}},yp=class{constructor(e){this.key=e}},Tw=class{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ne(),this.mutatedKeys=ne(),this._a=mP(e),this.aa=new pp(this._a)}get ua(){return this.ia}ca(e,n){let r=n?n.la:new gp,i=n?n.aa:this.aa,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let f=i.get(l),h=Cp(this.query,d)?d:null,g=!!f&&this.mutatedKeys.has(f.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations),y=!1;f&&h?f.data.isEqual(h.data)?g!==m&&(r.track({type:3,doc:h}),y=!0):this.ha(f,h)||(r.track({type:2,doc:h}),y=!0,(c&&this._a(h,c)>0||u&&this._a(h,u)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),y=!0):f&&!h&&(r.track({type:1,doc:f}),y=!0,(c||u)&&(a=!0)),y&&(h?(o=o.add(h),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;let o=e.la.L_();o.sort((l,d)=>function(h,g){let m=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return U()}};return m(h)-m(g)}(l.type,d.type)||this._a(l.doc,d.doc)),this.Pa(r),i=i!=null&&i;let a=n&&!i?this.Ia():[],c=this.oa.size===0&&this.current&&!i?1:0,u=c!==this.sa;return this.sa=c,o.length!==0||u?{snapshot:new oa(this.query,e.aa,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new gp,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];let e=this.oa;this.oa=ne(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});let n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new yp(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new mp(r))}),n}da(e){this.ia=e.ls,this.oa=ne();let n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return oa.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}},Dw=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Sw=class{constructor(e){this.key=e,this.Ra=!1}},bw=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new wi(a=>gP(a),bp),this.fa=new Map,this.ga=new Set,this.pa=new Ce(x.comparator),this.ya=new Map,this.wa=new Vu,this.Sa={},this.ba=new Map,this.Da=Fu.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}};function fG(t,e){return p(this,null,function*(){let n=TG(t),r,i,s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{let o=yield Yq(n.localStore,Wn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield pG(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&FP(n.remoteStore,o)}return i})}function pG(t,e,n,r,i){return p(this,null,function*(){t.va=(d,f,h)=>function(m,y,I,R){return p(this,null,function*(){let q=y.view.ca(I);q.Zi&&(q=yield WM(m.localStore,y.query,!1).then(({documents:pe})=>y.view.ca(pe,q)));let re=R&&R.targetChanges.get(y.targetId),Ye=R&&R.targetMismatches.get(y.targetId)!=null,ue=y.view.applyChanges(q,m.isPrimaryClient,re,Ye);return YM(m,y.targetId,ue.Ta),ue.snapshot})}(t,d,f,h);let s=yield WM(t.localStore,e,!0),o=new Tw(e,s.ls),a=o.ca(s.documents),c=ku.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);YM(t,n,u.Ta);let l=new Dw(e,n,o);return t.ma.set(e,l),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),u.snapshot})}function gG(t,e){return p(this,null,function*(){let n=Y(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!bp(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield uw(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),VP(n.remoteStore,r.targetId),Cw(n,r.targetId)}).catch(zu))):(Cw(n,r.targetId),yield uw(n.localStore,r.targetId,!0))})}function mG(t,e,n){return p(this,null,function*(){let r=DG(t);try{let i=yield function(o,a){let c=Y(o),u=it.now(),l=a.reduce((h,g)=>h.add(g.key),ne()),d,f;return c.persistence.runTransaction("Locally write mutations","readwrite",h=>{let g=Ar(),m=ne();return c.ss.getEntries(h,l).next(y=>{g=y,g.forEach((I,R)=>{R.isValidDocument()||(m=m.add(I))})}).next(()=>c.localDocuments.getOverlayedDocuments(h,g)).next(y=>{d=y;let I=[];for(let R of a){let q=Dq(R,d.get(R.key).overlayedDocument);q!=null&&I.push(new Rr(R.key,q,cP(q.value.mapValue),bs.exists(!0)))}return c.mutationQueue.addMutationBatch(h,u,I,a)}).next(y=>{f=y;let I=y.applyToLocalDocumentSet(d,m);return c.documentOverlayCache.saveOverlays(h,y.batchId,I)})}).then(()=>({batchId:f.batchId,changes:vP(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Sa[o.currentUser.toKey()];u||(u=new Ce(ce)),u=u.insert(a,c),o.Sa[o.currentUser.toKey()]=u}(r,i.batchId,n),yield Wu(r,i.changes),yield Np(r.remoteStore)}catch(i){let s=Xw(i,"Failed to persist write");n.reject(s)}})}function zP(t,e){return p(this,null,function*(){let n=Y(t);try{let r=yield Wq(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.ya.get(s);o&&(fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?fe(o.Ra):i.removedDocuments.size>0&&(fe(o.Ra),o.Ra=!1))}),yield Wu(n,r,e)}catch(r){yield zu(r)}})}function QM(t,e,n){let r=Y(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ma.forEach((s,o)=>{let a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=Y(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let f of d.listeners)f.Q_(a)&&(u=!0)}),u&&eT(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function yG(t,e,n){return p(this,null,function*(){let r=Y(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.ya.get(e),s=i&&i.key;if(s){let o=new Ce(x.comparator);o=o.insert(s,vn.newNoDocument(s,Q.min()));let a=ne().add(s),c=new rp(Q.min(),new Map,new Ce(ce),o,a);yield zP(r,c),r.pa=r.pa.remove(s),r.ya.delete(e),tT(r)}else yield uw(r.localStore,e,!1).then(()=>Cw(r,e,n)).catch(zu)})}function vG(t,e){return p(this,null,function*(){let n=Y(t),r=e.batch.batchId;try{let i=yield Gq(n.localStore,e);GP(n,r,null),qP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Wu(n,i)}catch(i){yield zu(i)}})}function _G(t,e,n){return p(this,null,function*(){let r=Y(t);try{let i=yield function(o,a){let c=Y(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(fe(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);GP(r,e,n),qP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Wu(r,i)}catch(i){yield zu(i)}})}function qP(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function GP(t,e,n){let r=Y(t),i=r.Sa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Cw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||WP(t,r)})}function WP(t,e){t.ga.delete(e.path.canonicalString());let n=t.pa.get(e);n!==null&&(VP(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),tT(t))}function YM(t,e,n){for(let r of n)r instanceof mp?(t.wa.addReference(r.key,e),EG(t,r)):r instanceof yp?(A("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||WP(t,r.key)):U()}function EG(t,e){let n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(A("SyncEngine","New document in limbo: "+n),t.ga.add(r),tT(t))}function tT(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){let e=t.ga.values().next().value;t.ga.delete(e);let n=new x(Te.fromString(e)),r=t.Da.next();t.ya.set(r,new Sw(n)),t.pa=t.pa.insert(n,r),FP(t.remoteStore,new Lu(Wn(Kw(n.path)),r,"TargetPurposeLimboResolution",sP._e))}}function Wu(t,e,n){return p(this,null,function*(){let r=Y(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,c)=>{o.push(r.va(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=sw.Qi(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.Va.a_(i),yield function(c,u){return p(this,null,function*(){let l=Y(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>T.forEach(u,f=>T.forEach(f.ki,h=>l.persistence.referenceDelegate.addReference(d,f.targetId,h)).next(()=>T.forEach(f.qi,h=>l.persistence.referenceDelegate.removeReference(d,f.targetId,h)))))}catch(d){if(!qu(d))throw d;A("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let f=d.targetId;if(!d.fromCache){let h=l.ts.get(f),g=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(g);l.ts=l.ts.insert(f,m)}}})}(r.localStore,s))})}function IG(t,e){return p(this,null,function*(){let n=Y(t);if(!n.currentUser.isEqual(e)){A("SyncEngine","User change. New user:",e.toKey());let r=yield kP(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(c=>{c.reject(new S(_.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Wu(n,r._s)}})}function wG(t,e){let n=Y(t),r=n.ya.get(e);if(r&&r.Ra)return ne().add(r.key);{let i=ne(),s=n.fa.get(e);if(!s)return i;for(let o of s){let a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function TG(t){let e=Y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yG.bind(null,e),e.Va.a_=dG.bind(null,e.eventManager),e.Va.Fa=hG.bind(null,e.eventManager),e}function DG(t){let e=Y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_G.bind(null,e),e}var vp=class{constructor(){this.synchronizeTabs=!1}initialize(e){return p(this,null,function*(){this.serializer=Ap(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return qq(this.persistence,new aw,e.initialUser,this.serializer)}createPersistence(e){return new nw(iw.jr,this.serializer)}createSharedClientState(e){return new lw}terminate(){return p(this,null,function*(){this.gcScheduler&&this.gcScheduler.stop(),yield this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Aw=class{initialize(e,n){return p(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>QM(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=IG.bind(null,this.syncEngine),yield cG(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Iw}()}createDatastore(e){let n=Ap(e.databaseInfo.databaseId),r=function(s){return new fw(s)}(e.databaseInfo);return function(s,o,a,c){return new mw(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new vw(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>QM(this.syncEngine,n,0),function(){return lp.D()?new lp:new dw}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new bw(i,s,o,a,c,u);return l&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(n){return p(this,null,function*(){let r=Y(n);A("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield Gu(r),r.F_.shutdown(),r.M_.set("Unknown")})}(this.remoteStore)}};var Rw=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Nw=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qe.UNAUTHENTICATED,this.clientId=Qf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>p(this,null,function*(){A("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(A("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){return p(this,null,function*(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}})}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new S(_.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>p(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Xw(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function aI(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),A("FirestoreClient","Initializing OfflineComponentProvider");let n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>p(null,null,function*(){r.isEqual(i)||(yield kP(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function ZM(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield bG(t);A("FirestoreClient","Initializing OnlineComponentProvider");let r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>KM(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>KM(e.remoteStore,s)),t._onlineComponents=e})}function SG(t){return t.name==="FirebaseError"?t.code===_.FAILED_PRECONDITION||t.code===_.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function bG(t){return p(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){A("FirestoreClient","Using user provided OfflineComponentProvider");try{yield aI(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!SG(n))throw n;Zo("Error using user provided cache. Falling back to memory cache: "+n),yield aI(t,new vp)}}else A("FirestoreClient","Using default OfflineComponentProvider"),yield aI(t,new vp);return t._offlineComponents})}function KP(t){return p(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(A("FirestoreClient","Using user provided OnlineComponentProvider"),yield ZM(t,t._uninitializedComponentsProvider._online)):(A("FirestoreClient","Using default OnlineComponentProvider"),yield ZM(t,new Aw))),t._onlineComponents})}function CG(t){return KP(t).then(e=>e.syncEngine)}function JM(t){return p(this,null,function*(){let e=yield KP(t),n=e.eventManager;return n.onListen=fG.bind(null,e.syncEngine),n.onUnlisten=gG.bind(null,e.syncEngine),n})}function QP(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var XM=new Map;function YP(t,e,n){if(!n)throw new S(_.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function AG(t,e,n,r){if(e===!0&&r===!0)throw new S(_.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function eP(t){if(!x.isDocumentKey(t))throw new S(_.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tP(t){if(x.isDocumentKey(t))throw new S(_.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Mp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":U()}function Mu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new S(_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Mp(t);throw new S(_.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function RG(t,e){if(e<=0)throw new S(_.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var _p=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new S(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new S(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new S(_.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new S(_.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new S(_.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},aa=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _p({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new S(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new S(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _p(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new cI;switch(r.type){case"firstParty":return new hI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new S(_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=XM.get(n);r&&(A("ComponentProvider","Removing Datastore"),XM.delete(n),r.terminate())}(this),Promise.resolve()}};function nT(t,e,n,r={}){var i;let s=(t=Mu(t,aa))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Qe.MOCK_USER;else{a=z0(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new S(_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Qe(u)}t._authCredentials=new uI(new Kf(a,c))}}var Di=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Ft=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},vi=class t extends Di{constructor(e,n,r){super(e,n,Kw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new x(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function jae(t,e,...n){if(t=Ge(t),YP("collection","path",e),t instanceof aa){let r=Te.fromString(e,...n);return tP(r),new vi(t,null,r)}{if(!(t instanceof Ft||t instanceof vi))throw new S(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Te.fromString(e,...n));return tP(r),new vi(t.firestore,null,r)}}function NG(t,e,...n){if(t=Ge(t),arguments.length===1&&(e=Qf.newId()),YP("doc","path",e),t instanceof aa){let r=Te.fromString(e,...n);return eP(r),new Ft(t,null,new x(r))}{if(!(t instanceof Ft||t instanceof vi))throw new S(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Te.fromString(e,...n));return eP(r),new Ft(t.firestore,t instanceof vi?t.converter:null,new x(r))}}var Mw=class{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new dp(this,"async_queue_retry"),this.iu=()=>{let n=oI();n&&A("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};let e=oI();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;let n=oI();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});let n=new br;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){return p(this,null,function*(){if(this.Ya.length!==0){try{yield this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!qu(e))throw e;A("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}})}ou(e){let n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Cr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);let i=_w.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&U()}verifyOperationInProgress(){}uu(){return p(this,null,function*(){let e;do e=this.Ja,yield e;while(e!==this.Ja)})}cu(e){for(let n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){let n=this.Xa.indexOf(e);this.Xa.splice(n,1)}};function nP(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var ca=class extends aa{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Mw}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ex(this),this._firestoreClient.terminate()}};function ZP(t,e,n){n||(n="(default)");let r=Fo(t,"firestore");if(r.isInitialized(n)){let i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(ai(s,e))return i;throw new S(_.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new S(_.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new S(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function JP(t,e){let n=typeof t=="object"?t:Gh(),r=typeof t=="string"?t:e||"(default)",i=Fo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=H0("firestore");s&&nT(i,...s)}return i}function XP(t){return t._firestoreClient||ex(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ex(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new yI(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,QP(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Nw(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var ju=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(_t.fromBase64String(e))}catch(n){throw new S(_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Uu=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new S(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ep=class{constructor(e){this._methodName=e}};var Bu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new S(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new S(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}};var MG=/^__.*__$/,Pw=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Rr(e,this.data,this.fieldMask,n,this.fieldTransforms):new xs(e,this.data,n,this.fieldTransforms)}};function tx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw U()}}var xw=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Ip(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(tx(this.Iu)&&MG.test(e))throw this.mu('Document fields cannot begin and end with "__"')}},Ow=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ap(e)}pu(e,n,r,i=!1){return new xw({Iu:e,methodName:n,gu:r,path:Lt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function nx(t){let e=t._freezeSettings(),n=Ap(t._databaseId);return new Ow(t._databaseId,!!e.ignoreUndefinedProperties,n)}function PG(t,e,n,r,i,s={}){let o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);sx("Data must be an object, but it was:",o,r);let a=rx(r,o),c,u;if(s.merge)c=new qn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let d of s.mergeFields){let f=OG(e,d,n);if(!o.contains(f))throw new S(_.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);LG(l,f)||l.push(f)}c=new qn(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new Pw(new yn(a),c,u)}function xG(t,e,n,r=!1){return rT(n,t.pu(r?4:3,e))}function rT(t,e){if(ix(t=Ge(t)))return sx("Unsupported field value:",e,t),rx(t,e);if(t instanceof Ep)return function(r,i){if(!tx(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=rT(a,i.Vu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ge(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _q(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=it.fromDate(r);return{timestampValue:ap(i.serializer,s)}}if(r instanceof it){let s=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ap(i.serializer,s)}}if(r instanceof Bu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ju)return{bytesValue:RP(i.serializer,r._byteString)};if(r instanceof Ft){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Qw(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Mp(r)}`)}(t,e)}function rx(t,e){let n={};return oP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):la(t,(r,i)=>{let s=rT(i,e.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function ix(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof Bu||t instanceof ju||t instanceof Ft||t instanceof Ep)}function sx(t,e,n){if(!ix(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Mp(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function OG(t,e,n){if((e=Ge(e))instanceof Uu)return e._internalPath;if(typeof e=="string")return ox(t,e);throw Ip("Field path arguments must be of type string or ",t,!1,void 0,n)}var kG=new RegExp("[~\\*/\\[\\]]");function ox(t,e,n){if(e.search(kG)>=0)throw Ip(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Uu(...e.split("."))._internalPath}catch{throw Ip(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ip(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new S(_.INVALID_ARGUMENT,a+t+c)}function LG(t,e){return t.some(n=>n.isEqual(e))}var wp=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new kw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(iT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},kw=class extends wp{data(){return super.data()}};function iT(t,e){return typeof e=="string"?ox(t,e):e instanceof Uu?e._internalPath:e._delegate._internalPath}function FG(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new S(_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var $u=class{},Hu=class extends $u{};function Uae(t,e,...n){let r=[];e instanceof $u&&r.push(e),r=r.concat(n),function(s){let o=s.filter(c=>c instanceof Fw).length,a=s.filter(c=>c instanceof Lw).length;if(o>1||o>0&&a>0)throw new S(_.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Lw=class t extends Hu{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return ax(e._query,n),new Di(e.firestore,e.converter,NI(e._query,n))}_parse(e){let n=nx(e.firestore);return function(s,o,a,c,u,l,d){let f;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new S(_.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){iP(d,l);let h=[];for(let g of d)h.push(rP(c,s,g));f={arrayValue:{values:h}}}else f=rP(c,s,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||iP(d,l),f=xG(a,o,d,l==="in"||l==="not-in");return Le.create(u,l,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var Fw=class t extends $u{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:_n.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)ax(o,c),o=NI(o,c)}(e._query,n),new Di(e.firestore,e.converter,NI(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Vw=class t extends Hu{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new S(_.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new S(_.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ns(s,o)}(e._query,this._field,this._direction);return new Di(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new Ii(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function Bae(t,e="asc"){let n=e,r=iT("orderBy",t);return Vw._create(r,n)}var jw=class t extends Hu{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new Di(e.firestore,e.converter,tp(e._query,this._limit,this._limitType))}};function $ae(t){return RG("limit",t),jw._create("limit",t,"F")}function rP(t,e,n){if(typeof(n=Ge(n))=="string"){if(n==="")throw new S(_.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pP(e)&&n.indexOf("/")!==-1)throw new S(_.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Te.fromString(n));if(!x.isDocumentKey(r))throw new S(_.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return NM(t,new x(r))}if(n instanceof Ft)return NM(t,n._key);throw new S(_.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mp(n)}.`)}function iP(t,e){if(!Array.isArray(t)||t.length===0)throw new S(_.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ax(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new S(_.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new S(_.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Uw=class{convertValue(e,n="none"){switch(Rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ei(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw U()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return la(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Bu(be(e.latitude),be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=zw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xu(e));default:return null}}convertTimestamp(e){let n=_i(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Te.fromString(e);fe(OP(r));let i=new Xf(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(n)||Cr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function VG(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ss=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Tp=class extends wp{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Yo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(iT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Yo=class extends Tp{data(e={}){return super.data(e)}},Bw=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ss(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Yo(this._firestore,this._userDataWriter,r.key,r,new Ss(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new S(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new Yo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ss(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Yo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ss(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:jG(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function jG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return U()}}var Dp=class extends Uw{constructor(e){super(),this.firestore=e}convertBytes(e){return new ju(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}};function Hae(t,e){let n=Mu(t.firestore,ca),r=NG(t),i=VG(t.converter,e);return UG(n,[PG(nx(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,bs.exists(!1))]).then(()=>r)}function zae(t,...e){var n,r,i;t=Ge(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||nP(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges};if(nP(e[o])){let d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let c,u,l;if(t instanceof Ft)u=Mu(t.firestore,ca),l=Kw(t._key.path),c={next:d=>{e[o]&&e[o](BG(u,t,d))},error:e[o+1],complete:e[o+2]};else{let d=Mu(t,Di);u=Mu(d.firestore,ca),l=d._query;let f=new Dp(u);c={next:h=>{e[o]&&e[o](new Bw(u,f,d,h))},error:e[o+1],complete:e[o+2]},FG(t._query)}return function(f,h,g,m){let y=new Rw(m),I=new ww(h,y,g);return f.asyncQueue.enqueueAndForget(()=>p(null,null,function*(){return uG(yield JM(f),I)})),()=>{y.Na(),f.asyncQueue.enqueueAndForget(()=>p(null,null,function*(){return lG(yield JM(f),I)}))}}(XP(u),l,a,c)}function UG(t,e){return function(r,i){let s=new br;return r.asyncQueue.enqueueAndForget(()=>p(null,null,function*(){return mG(yield CG(r),i,s)})),s.promise}(XP(t),e)}function BG(t,e,n){let r=n.docs.get(e._key),i=new Dp(t);return new Tp(t,i,e._key,r,new Ss(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ua=i})(di),li(new Kt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new ca(new lI(r.getProvider("auth-internal")),new pI(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new S(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xf(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),pn(CM,"4.4.0",e),pn(CM,"4.4.0","esm2017")})();var Pp={firebase:{projectId:"angularstart-chat",appId:"*******************",storageBucket:"angularstart-chat.appspot.com",apiKey:"***************",authDomain:"angularstart-chat.firebaseapp.com",messagingSenderId:"767794269558"},production:!0,useEmulators:!1};var ux=()=>()=>{let t=v(cx),e=v(Wt);return t.user()?!0:e.parseUrl("auth/login")};var lx=[{path:"auth",loadChildren:()=>import("./chunk-X6XF7GJC.js").then(t=>t.AUTH_ROUTES)},{path:"home",canActivate:[ux()],loadComponent:()=>import("./chunk-T3SN7GVF.js")},{path:"",redirectTo:"auth",pathMatch:"full"}];var X=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(X||{}),En="*";function dx(t,e=null){return{type:X.Sequence,steps:t,options:e}}function sT(t){return{type:X.Style,styles:t,offset:null}}var Nr=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,n=0){this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},ha=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let n=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Ku="!";function hx(t){return new E(3e3,!1)}function $G(){return new E(3100,!1)}function HG(){return new E(3101,!1)}function zG(t){return new E(3001,!1)}function qG(t){return new E(3003,!1)}function GG(t){return new E(3004,!1)}function px(t,e){return new E(3005,!1)}function gx(){return new E(3006,!1)}function mx(){return new E(3007,!1)}function yx(t,e){return new E(3008,!1)}function vx(t){return new E(3002,!1)}function _x(t,e,n,r,i){return new E(3010,!1)}function Ex(){return new E(3011,!1)}function Ix(){return new E(3012,!1)}function wx(){return new E(3200,!1)}function Tx(){return new E(3202,!1)}function Dx(){return new E(3013,!1)}function Sx(t){return new E(3014,!1)}function bx(t){return new E(3015,!1)}function Cx(t){return new E(3016,!1)}function Ax(t,e){return new E(3404,!1)}function WG(t){return new E(3502,!1)}function Rx(t){return new E(3503,!1)}function Nx(){return new E(3300,!1)}function Mx(t){return new E(3504,!1)}function Px(t){return new E(3301,!1)}function xx(t,e){return new E(3302,!1)}function Ox(t){return new E(3303,!1)}function kx(t,e){return new E(3400,!1)}function Lx(t){return new E(3401,!1)}function Fx(t){return new E(3402,!1)}function Vx(t,e){return new E(3505,!1)}function Mr(t){switch(t.length){case 0:return new Nr;case 1:return t[0];default:return new ha(t)}}function uT(t,e,n=new Map,r=new Map){let i=[],s=[],o=-1,a=null;if(e.forEach(c=>{let u=c.get("offset"),l=u==o,d=l&&a||new Map;c.forEach((f,h)=>{let g=h,m=f;if(h!=="offset")switch(g=t.normalizePropertyName(g,i),m){case Ku:m=n.get(h);break;case En:m=r.get(h);break;default:m=t.normalizeStyleValue(h,g,m,i);break}d.set(g,m)}),l||s.push(d),a=d,o=u}),i.length)throw WG(i);return s}function xp(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&oT(n,"start",t)));break;case"done":t.onDone(()=>r(n&&oT(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&oT(n,"destroy",t)));break}}function oT(t,e,n){let r=n.totalTime,i=!!n.disabled,s=Op(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r??t.totalTime,i),o=t._data;return o!=null&&(s._data=o),s}function Op(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Tt(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function lT(t){let e=t.indexOf(":"),n=t.substring(1,e),r=t.slice(e+1);return[n,r]}var KG=typeof document>"u"?null:document.documentElement;function kp(t){let e=t.parentNode||t.host||null;return e===KG?null:e}function QG(t){return t.substring(1,6)=="ebkit"}var ks=null,fx=!1;function jx(t){ks||(ks=YG()||{},fx=ks.style?"WebkitAppearance"in ks.style:!1);let e=!0;return ks.style&&!QG(t)&&(e=t in ks.style,!e&&fx&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in ks.style)),e}function YG(){return typeof document<"u"?document.body:null}function dT(t,e){for(;e;){if(e===t)return!0;e=kp(e)}return!1}function hT(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let r=t.querySelector(e);return r?[r]:[]}var ZG=1e3,fT="{{",JG="}}",pT="ng-enter",Lp="ng-leave",Qu="ng-trigger",Yu=".ng-trigger",gT="ng-animating",Fp=".ng-animating";function Yn(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:aT(parseFloat(e[1]),e[2])}function aT(t,e){switch(e){case"s":return t*ZG;default:return t}}function Zu(t,e,n){return t.hasOwnProperty("duration")?t:XG(t,e,n)}function XG(t,e,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,s=0,o="";if(typeof t=="string"){let a=t.match(r);if(a===null)return e.push(hx(t)),{duration:0,delay:0,easing:""};i=aT(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(s=aT(parseFloat(c),a[4]));let u=a[5];u&&(o=u)}else i=t;if(!n){let a=!1,c=e.length;i<0&&(e.push($G()),a=!0),s<0&&(e.push(HG()),a=!0),a&&e.splice(c,0,hx(t))}return{duration:i,delay:s,easing:o}}function Ux(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function In(t,e,n){e.forEach((r,i)=>{let s=Vp(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function Si(t,e){e.forEach((n,r)=>{let i=Vp(r);t.style[i]=""})}function fa(t){return Array.isArray(t)?t.length==1?t[0]:dx(t):t}function Bx(t,e,n){let r=e.params||{},i=mT(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(zG(s))})}var cT=new RegExp(`${fT}\\s*(.+?)\\s*${JG}`,"g");function mT(t){let e=[];if(typeof t=="string"){let n;for(;n=cT.exec(t);)e.push(n[1]);cT.lastIndex=0}return e}function pa(t,e,n){let r=`${t}`,i=r.replace(cT,(s,o)=>{let a=e[o];return a==null&&(n.push(qG(o)),a=""),a.toString()});return i==r?t:i}var e4=/-+([a-z0-9])/g;function Vp(t){return t.replace(e4,(...e)=>e[1].toUpperCase())}function $x(t,e){return t===0||e===0}function Hx(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,jp(t,a)))}}return e}function Dt(t,e,n){switch(e.type){case X.Trigger:return t.visitTrigger(e,n);case X.State:return t.visitState(e,n);case X.Transition:return t.visitTransition(e,n);case X.Sequence:return t.visitSequence(e,n);case X.Group:return t.visitGroup(e,n);case X.Animate:return t.visitAnimate(e,n);case X.Keyframes:return t.visitKeyframes(e,n);case X.Style:return t.visitStyle(e,n);case X.Reference:return t.visitReference(e,n);case X.AnimateChild:return t.visitAnimateChild(e,n);case X.AnimateRef:return t.visitAnimateRef(e,n);case X.Query:return t.visitQuery(e,n);case X.Stagger:return t.visitStagger(e,n);default:throw GG(e.type)}}function jp(t,e){return window.getComputedStyle(t)[e]}var xT=(()=>{class t{validateStyleProperty(n){return jx(n)}containsElement(n,r){return dT(n,r)}getParentElement(n){return kp(n)}query(n,r,i){return hT(n,r,i)}computeStyle(n,r,i){return i||""}animate(n,r,i,s,o,a=[],c){return new Nr(i,s)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})(),Fs=class{static NOOP=new xT},Vs=class{};var t4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),zp=class extends Vs{normalizePropertyName(e,n){return Vp(e)}normalizeStyleValue(e,n,r,i){let s="",o=r.toString().trim();if(t4.has(n)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(px(e,r))}return o+s}};var qp="*";function n4(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>r4(r,n,e)):n.push(t),n}function r4(t,e,n){if(t[0]==":"){let c=i4(t,n);if(typeof c=="function"){e.push(c);return}t=c}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(bx(t)),e;let i=r[1],s=r[2],o=r[3];e.push(zx(i,o));let a=i==qp&&o==qp;s[0]=="<"&&!a&&e.push(zx(o,i))}function i4(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(Cx(t)),"* => *"}}var Up=new Set(["true","1"]),Bp=new Set(["false","0"]);function zx(t,e){let n=Up.has(t)||Bp.has(t),r=Up.has(e)||Bp.has(e);return(i,s)=>{let o=t==qp||t==i,a=e==qp||e==s;return!o&&n&&typeof i=="boolean"&&(o=i?Up.has(t):Bp.has(t)),!a&&r&&typeof s=="boolean"&&(a=s?Up.has(e):Bp.has(e)),o&&a}}var eO=":self",s4=new RegExp(`s*${eO}s*,?`,"g");function tO(t,e,n,r){return new wT(t).build(e,n,r)}var qx="",wT=class{_driver;constructor(e){this._driver=e}build(e,n,r){let i=new TT(n);return this._resetContextStyleTimingState(i),Dt(this,fa(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=qx,e.collectedStyles=new Map,e.collectedStyles.set(qx,new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&n.errors.push(gx()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==X.State){let c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(l=>{c.name=l,s.push(this.visitState(c,n))}),c.name=u}else if(a.type==X.Transition){let c=this.visitTransition(a,n);r+=c.queryCount,i+=c.depCount,o.push(c)}else n.errors.push(mx())}),{type:X.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){let r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{mT(c).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}),s.size&&n.errors.push(yx(e.name,[...s.values()]))}return{type:X.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let r=Dt(this,fa(e.animation),n),i=n4(e.expr,n.errors);return{type:X.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Ls(e.options)}}visitSequence(e,n){return{type:X.Sequence,steps:e.steps.map(r=>Dt(this,r,n)),options:Ls(e.options)}}visitGroup(e,n){let r=n.currentTime,i=0,s=e.steps.map(o=>{n.currentTime=r;let a=Dt(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:X.Group,steps:s,options:Ls(e.options)}}visitAnimate(e,n){let r=u4(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:sT({});if(s.type==X.Keyframes)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;let u={};r.easing&&(u.easing=r.easing),o=sT(u)}n.currentTime+=r.duration+r.delay;let c=this.visitStyle(o,n);c.isEmptyStep=a,i=c}return n.currentAnimateTimings=null,{type:X.Animate,timings:r,style:i,options:null}}visitStyle(e,n){let r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===En?r.push(a):n.errors.push(vx(a)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let c of a.values())if(c.toString().indexOf(fT)>=0){s=!0;break}}}),{type:X.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){let r=n.currentAnimateTimings,i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,c)=>{let u=n.collectedStyles.get(n.currentQuerySelector),l=u.get(c),d=!0;l&&(s!=i&&s>=l.startTime&&i<=l.endTime&&(n.errors.push(_x(c,l.startTime,l.endTime,s,i)),d=!1),s=l.startTime),d&&u.set(c,{startTime:s,endTime:i}),n.options&&Bx(a,n.options,n.errors)})})}visitKeyframes(e,n){let r={type:X.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(Ex()),r;let i=1,s=0,o=[],a=!1,c=!1,u=0,l=e.steps.map(I=>{let R=this._makeStyleAst(I,n),q=R.offset!=null?R.offset:c4(R.styles),re=0;return q!=null&&(s++,re=R.offset=q),c=c||re<0||re>1,a=a||re<u,u=re,o.push(re),R});c&&n.errors.push(Ix()),a&&n.errors.push(wx());let d=e.steps.length,f=0;s>0&&s<d?n.errors.push(Tx()):s==0&&(f=i/(d-1));let h=d-1,g=n.currentTime,m=n.currentAnimateTimings,y=m.duration;return l.forEach((I,R)=>{let q=f>0?R==h?1:f*R:o[R],re=q*y;n.currentTime=g+m.delay+re,m.duration=re,this._validateStyleAst(I,n),I.offset=q,r.styles.push(I)}),r}visitReference(e,n){return{type:X.Reference,animation:Dt(this,fa(e.animation),n),options:Ls(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:X.AnimateChild,options:Ls(e.options)}}visitAnimateRef(e,n){return{type:X.AnimateRef,animation:this.visitReference(e.animation,n),options:Ls(e.options)}}visitQuery(e,n){let r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[s,o]=o4(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,Tt(n.collectedStyles,n.currentQuerySelector,new Map);let a=Dt(this,fa(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:X.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Ls(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(Dx());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Zu(e.timings,n.errors,!0);return{type:X.Stagger,animation:Dt(this,fa(e.animation),n),timings:r,options:null}}};function o4(t){let e=!!t.split(/\s*,\s*/).find(n=>n==eO);return e&&(t=t.replace(s4,"")),t=t.replace(/@\*/g,Yu).replace(/@\w+/g,n=>Yu+"-"+n.slice(1)).replace(/:animating/g,Fp),[t,e]}function a4(t){return t?w({},t):null}var TT=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function c4(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function u4(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let s=Zu(t,e).duration;return yT(s,0,"")}let n=t;if(n.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=yT(0,0,"");return s.dynamic=!0,s.strValue=n,s}let i=Zu(n,e);return yT(i.duration,i.delay,i.easing)}function Ls(t){return t?(t=w({},t),t.params&&(t.params=a4(t.params))):t={},t}function yT(t,e,n){return{duration:t,delay:e,easing:n}}function OT(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}var Xu=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},l4=1,d4=":enter",h4=new RegExp(d4,"g"),f4=":leave",p4=new RegExp(f4,"g");function nO(t,e,n,r,i,s=new Map,o=new Map,a,c,u=[]){return new DT().buildKeyframes(t,e,n,r,i,s,o,a,c,u)}var DT=class{buildKeyframes(e,n,r,i,s,o,a,c,u,l=[]){u=u||new Xu;let d=new ST(e,n,u,i,s,l,[]);d.options=c;let f=c.delay?Yn(c.delay):0;d.currentTimeline.delayNextStep(f),d.currentTimeline.setStyles([o],null,d.errors,c),Dt(this,r,d);let h=d.timelines.filter(g=>g.containsAnimation());if(h.length&&a.size){let g;for(let m=h.length-1;m>=0;m--){let y=h[m];if(y.element===n){g=y;break}}g&&!g.allowOnlyTimelineStyles()&&g.setStyles([a],null,d.errors,c)}return h.length?h.map(g=>g.buildKeyframes()):[OT(n,[],[],[],0,f,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){let r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(let i of e){let s=i?.delay;if(s){let o=typeof s=="number"?s:Yn(pa(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime,o=r.duration!=null?Yn(r.duration):null,a=r.delay!=null?Yn(r.delay):null;return o!==0&&e.forEach(c=>{let u=n.appendInstructionToTimeline(c,o,a);s=Math.max(s,u.duration+u.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),Dt(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let r=n.subContextCount,i=n,s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==X.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Gp);let o=Yn(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Dt(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let r=[],i=n.currentTimeline.currentTime,s=e.options&&e.options.delay?Yn(e.options.delay):0;e.steps.forEach(o=>{let a=n.createSubContext(e.options);s&&a.delayNextStep(s),Dt(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let r=e.strValue,i=n.params?pa(r,n.params,n.errors):r;return Zu(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let s=e.style;s.type==X.Keyframes?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let u=c.offset||0;a.forwardTime(u*s),a.setStyles(c.styles,c.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){let r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?Yn(i.delay):0;s&&(n.previousNode.type===X.Style||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Gp);let o=r,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let c=null;a.forEach((u,l)=>{n.currentQueryIndex=l;let d=n.createSubContext(e.options,u);s&&d.delayNextStep(s),u===n.element&&(c=d.currentTimeline),Dt(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let f=d.currentTimeline.currentTime;o=Math.max(o,f)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1),c=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let l=n.currentTimeline;c&&l.delayNextStep(c);let d=l.currentTime;Dt(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},Gp={},ST=class t{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Gp;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,n,r,i,s,o,a,c){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.currentTimeline=c||new Wp(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Yn(r.duration)),r.delay!=null&&(i.delay=Yn(r.delay));let s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=pa(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){let i=n||this.element,s=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Gp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new bT(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(h4,"."+this._enterClassName),e=e.replace(p4,"."+this._leaveClassName);let c=r!=1,u=this._driver.query(this.element,e,c);r!==0&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!s&&a.length==0&&o.push(Sx(n)),a}},Wp=class t{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=l4,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||En),this._currentKeyframe.set(n,En);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);let s=i&&i.params||{},o=g4(e,this._globalTimelineStyles);for(let[a,c]of o){let u=pa(c,s,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??En),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let u=new Map([...this._backFill,...a]);u.forEach((l,d)=>{l===Ku?e.add(d):l===En&&n.add(d)}),r||u.set("offset",c/this.duration),i.push(u)});let s=[...e.values()],o=[...n.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return OT(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}},bT=class extends Wp{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let s=[],o=r+n,a=n/o,c=new Map(e[0]);c.set("offset",0),s.push(c);let u=new Map(e[0]);u.set("offset",Gx(a)),s.push(u);let l=e.length-1;for(let d=1;d<=l;d++){let f=new Map(e[d]),h=f.get("offset"),g=n+h*r;f.set("offset",Gx(g/o)),s.push(f)}r=o,n=0,i="",e=s}return OT(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function Gx(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function g4(t,e){let n=new Map,r;return t.forEach(i=>{if(i==="*"){r??=e.keys();for(let s of r)n.set(s,En)}else for(let[s,o]of i)n.set(s,o)}),n}function Wx(t,e,n,r,i,s,o,a,c,u,l,d,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:d,errors:f}}var vT={},Kp=class{_triggerName;ast;_stateStyles;constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return m4(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,c,u,l){let d=[],f=this.ast.options&&this.ast.options.params||vT,h=a&&a.params||vT,g=this.buildStyles(r,h,d),m=c&&c.params||vT,y=this.buildStyles(i,m,d),I=new Set,R=new Map,q=new Map,re=i==="void",Ye={params:rO(m,f),delay:this.ast.options?.delay},ue=l?[]:nO(e,n,this.ast.animation,s,o,g,y,Ye,u,d),pe=0;return ue.forEach(Ae=>{pe=Math.max(Ae.duration+Ae.delay,pe)}),d.length?Wx(n,this._triggerName,r,i,re,g,y,[],[],R,q,pe,d):(ue.forEach(Ae=>{let St=Ae.element,Zt=Tt(R,St,new Set);Ae.preStyleProps.forEach(bi=>Zt.add(bi));let LT=Tt(q,St,new Set);Ae.postStyleProps.forEach(bi=>LT.add(bi)),St!==n&&I.add(St)}),Wx(n,this._triggerName,r,i,re,g,y,ue,[...I.values()],R,q,pe))}};function m4(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}function rO(t,e){let n=w({},e);return Object.entries(t).forEach(([r,i])=>{i!=null&&(n[r]=i)}),n}var CT=class{styles;defaultParams;normalizer;constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){let r=new Map,i=rO(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=pa(o,i,n));let c=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,c,o,n),r.set(a,o)})}),r}};function y4(t,e,n){return new AT(t,e,n)}var AT=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,n.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new CT(i.style,s,r))}),Kx(this.states,"true","1"),Kx(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new Kp(e,i,this.states))}),this.fallbackTransition=v4(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}};function v4(t,e,n){let r=[(o,a)=>!0],i={type:X.Sequence,steps:[],options:null},s={type:X.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Kp(t,s,e)}function Kx(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var _4=new Xu,RT=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r}register(e,n){let r=[],i=[],s=tO(this._driver,n,r,i);if(r.length)throw Rx(r);this._animations.set(e,s)}_buildPlayer(e,n,r){let i=e.element,s=uT(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){let i=[],s=this._animations.get(e),o,a=new Map;if(s?(o=nO(this._driver,n,s,pT,Lp,new Map,new Map,r,_4,i),o.forEach(l=>{let d=Tt(a,l.element,new Map);l.postStyleProps.forEach(f=>d.set(f,null))})):(i.push(Nx()),o=[]),i.length)throw Mx(i);a.forEach((l,d)=>{l.forEach((f,h)=>{l.set(h,this._driver.computeStyle(d,h,En))})});let c=o.map(l=>{let d=a.get(l.element);return this._buildPlayer(l,new Map,d)}),u=Mr(c);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw Px(e);return n}listen(e,n,r,i){let s=Op(n,"","","");return xp(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let o=i[0]||{};this.create(e,n,o);return}let s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},Qx="ng-animate-queued",E4=".ng-animate-queued",_T="ng-animate-disabled",I4=".ng-animate-disabled",w4="ng-star-inserted",T4=".ng-star-inserted",D4=[],iO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},S4={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},wn="__ng_removed",el=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=C4(i),r){let s=e,{value:o}=s,a=tg(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},Ju="void",ET=new el(Ju),NT=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this._hostClassName="ng-tns-"+e,Yt(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw xx(r,n);if(r==null||r.length==0)throw Ox(n);if(!A4(r))throw kx(r,n);let s=Tt(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);let a=Tt(this._engine.statesByElement,e,new Map);return a.has(n)||(Yt(e,Qu),Yt(e,Qu+"-"+n),a.set(n,ET)),()=>{this._engine.afterFlush(()=>{let c=s.indexOf(o);c>=0&&s.splice(c,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw Lx(e);return n}trigger(e,n,r,i=!0){let s=this._getTrigger(n),o=new tl(this.id,n,e),a=this._engine.statesByElement.get(e);a||(Yt(e,Qu),Yt(e,Qu+"-"+n),this._engine.statesByElement.set(e,a=new Map));let c=a.get(n),u=new el(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(n,u),c||(c=ET),!(u.value===Ju)&&c.value===u.value){if(!M4(c.params,u.params)){let m=[],y=s.matchStyles(c.value,c.params,m),I=s.matchStyles(u.value,u.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Si(e,y),In(e,I)})}return}let f=Tt(this._engine.playersByElement,e,[]);f.forEach(m=>{m.namespaceId==this.id&&m.triggerName==n&&m.queued&&m.destroy()});let h=s.matchTransition(c.value,u.value,e,u.params),g=!1;if(!h){if(!i)return;h=s.fallbackTransition,g=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:h,fromState:c,toState:u,player:o,isFallbackTransition:g}),g||(Yt(e,Qx),o.onStart(()=>{ga(e,Qx)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);let y=this._engine.playersByElement.get(e);if(y){let I=y.indexOf(o);I>=0&&y.splice(I,1)}}),this.players.push(o),f.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let r=this._engine.driver.query(e,Yu,!0);r.forEach(i=>{if(i[wn])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((c,u)=>{if(o.set(u,c.value),this._triggers.has(u)){let l=this.trigger(e,u,Ju,i);l&&a.push(l)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&Mr(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){let i=new Set;n.forEach(s=>{let o=s.name;if(i.has(o))return;i.add(o);let c=this._triggers.get(o).fallbackTransition,u=r.get(o)||ET,l=new el(Ju),d=new tl(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:c,fromState:u,toState:l,player:d,isFallbackTransition:!0})})}}removeNode(e,n){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){let s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{let s=e[wn];(!s||s===iO)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Yt(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){let c=Op(s,r.triggerName,r.fromState.value,r.toState.value);c._data=e,xp(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let s=r.transition.ast.depCount,o=i.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},MT=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,n)=>{};_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){let r=new NT(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){let c=i.get(a);if(c){let u=r.indexOf(c);r.splice(u+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}}return n}trigger(e,n,r,i){if($p(n)){let s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!$p(n))return;let s=n[wn];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Yt(e,_T)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ga(e,_T))}removeNode(e,n,r){if($p(n)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);let s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[wn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return $p(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,Yu,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,Fp,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Mr(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[wn];if(n&&n.setForRemoval){if(e[wn]=iO,n.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(_T)&&this.markElementAsDisabled(e,!1),this.driver.query(e,I4,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Yt(i,w4)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?Mr(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw Fx(e)}_flushAnimations(e,n){let r=new Xu,i=[],s=new Map,o=[],a=new Map,c=new Map,u=new Map,l=new Set;this.disabledNodes.forEach(C=>{l.add(C);let P=this.driver.query(C,E4,!0);for(let L=0;L<P.length;L++)l.add(P[L])});let d=this.bodyNode,f=Array.from(this.statesByElement.keys()),h=Jx(f,this.collectedEnterElements),g=new Map,m=0;h.forEach((C,P)=>{let L=pT+m++;g.set(P,L),C.forEach(se=>Yt(se,L))});let y=[],I=new Set,R=new Set;for(let C=0;C<this.collectedLeaveElements.length;C++){let P=this.collectedLeaveElements[C],L=P[wn];L&&L.setForRemoval&&(y.push(P),I.add(P),L.hasAnimation?this.driver.query(P,T4,!0).forEach(se=>I.add(se)):R.add(P))}let q=new Map,re=Jx(f,Array.from(I));re.forEach((C,P)=>{let L=Lp+m++;q.set(P,L),C.forEach(se=>Yt(se,L))}),e.push(()=>{h.forEach((C,P)=>{let L=g.get(P);C.forEach(se=>ga(se,L))}),re.forEach((C,P)=>{let L=q.get(P);C.forEach(se=>ga(se,L))}),y.forEach(C=>{this.processLeaveNode(C)})});let Ye=[],ue=[];for(let C=this._namespaceList.length-1;C>=0;C--)this._namespaceList[C].drainQueuedTransitions(n).forEach(L=>{let se=L.player,Ue=L.element;if(Ye.push(se),this.collectedEnterElements.length){let st=Ue[wn];if(st&&st.setForMove){if(st.previousTriggersValues&&st.previousTriggersValues.has(L.triggerName)){let Ci=st.previousTriggersValues.get(L.triggerName),Vt=this.statesByElement.get(L.element);if(Vt&&Vt.has(L.triggerName)){let nl=Vt.get(L.triggerName);nl.value=Ci,Vt.set(L.triggerName,nl)}}se.destroy();return}}let Tn=!d||!this.driver.containsElement(d,Ue),bt=q.get(Ue),Pr=g.get(Ue),Ie=this._buildInstruction(L,r,Pr,bt,Tn);if(Ie.errors&&Ie.errors.length){ue.push(Ie);return}if(Tn){se.onStart(()=>Si(Ue,Ie.fromStyles)),se.onDestroy(()=>In(Ue,Ie.toStyles)),i.push(se);return}if(L.isFallbackTransition){se.onStart(()=>Si(Ue,Ie.fromStyles)),se.onDestroy(()=>In(Ue,Ie.toStyles)),i.push(se);return}let jT=[];Ie.timelines.forEach(st=>{st.stretchStartingKeyframe=!0,this.disabledNodes.has(st.element)||jT.push(st)}),Ie.timelines=jT,r.append(Ue,Ie.timelines);let lO={instruction:Ie,player:se,element:Ue};o.push(lO),Ie.queriedElements.forEach(st=>Tt(a,st,[]).push(se)),Ie.preStyleProps.forEach((st,Ci)=>{if(st.size){let Vt=c.get(Ci);Vt||c.set(Ci,Vt=new Set),st.forEach((nl,eg)=>Vt.add(eg))}}),Ie.postStyleProps.forEach((st,Ci)=>{let Vt=u.get(Ci);Vt||u.set(Ci,Vt=new Set),st.forEach((nl,eg)=>Vt.add(eg))})});if(ue.length){let C=[];ue.forEach(P=>{C.push(Vx(P.triggerName,P.errors))}),Ye.forEach(P=>P.destroy()),this.reportError(C)}let pe=new Map,Ae=new Map;o.forEach(C=>{let P=C.element;r.has(P)&&(Ae.set(P,P),this._beforeAnimationBuild(C.player.namespaceId,C.instruction,pe))}),i.forEach(C=>{let P=C.element;this._getPreviousPlayers(P,!1,C.namespaceId,C.triggerName,null).forEach(se=>{Tt(pe,P,[]).push(se),se.destroy()})});let St=y.filter(C=>Xx(C,c,u)),Zt=new Map;Zx(Zt,this.driver,R,u,En).forEach(C=>{Xx(C,c,u)&&St.push(C)});let bi=new Map;h.forEach((C,P)=>{Zx(bi,this.driver,new Set(C),c,Ku)}),St.forEach(C=>{let P=Zt.get(C),L=bi.get(C);Zt.set(C,new Map([...P?.entries()??[],...L?.entries()??[]]))});let Xp=[],FT=[],VT={};o.forEach(C=>{let{element:P,player:L,instruction:se}=C;if(r.has(P)){if(l.has(P)){L.onDestroy(()=>In(P,se.toStyles)),L.disabled=!0,L.overrideTotalTime(se.totalTime),i.push(L);return}let Ue=VT;if(Ae.size>1){let bt=P,Pr=[];for(;bt=bt.parentNode;){let Ie=Ae.get(bt);if(Ie){Ue=Ie;break}Pr.push(bt)}Pr.forEach(Ie=>Ae.set(Ie,Ue))}let Tn=this._buildAnimation(L.namespaceId,se,pe,s,bi,Zt);if(L.setRealPlayer(Tn),Ue===VT)Xp.push(L);else{let bt=this.playersByElement.get(Ue);bt&&bt.length&&(L.parentPlayer=Mr(bt)),i.push(L)}}else Si(P,se.fromStyles),L.onDestroy(()=>In(P,se.toStyles)),FT.push(L),l.has(P)&&i.push(L)}),FT.forEach(C=>{let P=s.get(C.element);if(P&&P.length){let L=Mr(P);C.setRealPlayer(L)}}),i.forEach(C=>{C.parentPlayer?C.syncPlayerEvents(C.parentPlayer):C.destroy()});for(let C=0;C<y.length;C++){let P=y[C],L=P[wn];if(ga(P,Lp),L&&L.hasAnimation)continue;let se=[];if(a.size){let Tn=a.get(P);Tn&&Tn.length&&se.push(...Tn);let bt=this.driver.query(P,Fp,!0);for(let Pr=0;Pr<bt.length;Pr++){let Ie=a.get(bt[Pr]);Ie&&Ie.length&&se.push(...Ie)}}let Ue=se.filter(Tn=>!Tn.destroyed);Ue.length?R4(this,P,Ue):this.processLeaveNode(P)}return y.length=0,Xp.forEach(C=>{this.players.push(C),C.onDone(()=>{C.destroy();let P=this.players.indexOf(C);this.players.splice(P,1)}),C.play()}),Xp}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let c=!s||s==Ju;a.forEach(u=>{u.queued||!c&&u.triggerName!=i||o.push(u)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){let i=n.triggerName,s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:i;for(let c of n.timelines){let u=c.element,l=u!==s,d=Tt(r,u,[]);this._getPreviousPlayers(u,l,o,a,n.toState).forEach(h=>{let g=h.getRealPlayer();g.beforeDestroy&&g.beforeDestroy(),h.destroy(),d.push(h)})}Si(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){let a=n.triggerName,c=n.element,u=[],l=new Set,d=new Set,f=n.timelines.map(g=>{let m=g.element;l.add(m);let y=m[wn];if(y&&y.removedBeforeQueried)return new Nr(g.duration,g.delay);let I=m!==c,R=N4((r.get(m)||D4).map(pe=>pe.getRealPlayer())).filter(pe=>{let Ae=pe;return Ae.element?Ae.element===m:!1}),q=s.get(m),re=o.get(m),Ye=uT(this._normalizer,g.keyframes,q,re),ue=this._buildPlayer(g,Ye,R);if(g.subTimeline&&i&&d.add(m),I){let pe=new tl(e,a,m);pe.setRealPlayer(ue),u.push(pe)}return ue});u.forEach(g=>{Tt(this.playersByQueriedElement,g.element,[]).push(g),g.onDone(()=>b4(this.playersByQueriedElement,g.element,g))}),l.forEach(g=>Yt(g,gT));let h=Mr(f);return h.onDestroy(()=>{l.forEach(g=>ga(g,gT)),In(c,n.toStyles)}),d.forEach(g=>{Tt(i,g,[]).push(h)}),h}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new Nr(e.duration,e.delay)}},tl=class{namespaceId;triggerName;element;_player=new Nr;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>xp(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Tt(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function b4(t,e,n){let r=t.get(e);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&t.delete(e)}return r}function C4(t){return t??null}function $p(t){return t&&t.nodeType===1}function A4(t){return t=="start"||t=="done"}function Yx(t,e){let n=t.style.display;return t.style.display=e??"none",n}function Zx(t,e,n,r,i){let s=[];n.forEach(c=>s.push(Yx(c)));let o=[];r.forEach((c,u)=>{let l=new Map;c.forEach(d=>{let f=e.computeStyle(u,d,i);l.set(d,f),(!f||f.length==0)&&(u[wn]=S4,o.push(u))}),t.set(u,l)});let a=0;return n.forEach(c=>Yx(c,s[a++])),o}function Jx(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let c=s.get(a);if(c)return c;let u=a.parentNode;return n.has(u)?c=u:i.has(u)?c=r:c=o(u),s.set(a,c),c}return e.forEach(a=>{let c=o(a);c!==r&&n.get(c).push(a)}),n}function Yt(t,e){t.classList?.add(e)}function ga(t,e){t.classList?.remove(e)}function R4(t,e,n){Mr(n).onDone(()=>t.processLeaveNode(e))}function N4(t){let e=[];return sO(t,e),e}function sO(t,e){for(let n=0;n<t.length;n++){let r=t[n];r instanceof ha?sO(r.players,e):e.push(r)}}function M4(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}function Xx(t,e,n){let r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}var ma=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,n)=>{};constructor(e,n,r){this._driver=n,this._normalizer=r,this._transitionEngine=new MT(e.body,n,r),this._timelineEngine=new RT(e.body,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,n,r,i,s){let o=e+"-"+i,a=this._triggerCache[o];if(!a){let c=[],u=[],l=tO(this._driver,s,c,u);if(c.length)throw Ax(i,c);a=y4(i,l,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if(r.charAt(0)=="@"){let[s,o]=lT(r),a=i;this._timelineEngine.command(s,n,o,a)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if(r.charAt(0)=="@"){let[o,a]=lT(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function P4(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=IT(e[0]),e.length>1&&(r=IT(e[e.length-1]))):e instanceof Map&&(n=IT(e)),n||r?new x4(t,n,r):null}var x4=(()=>{class t{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(n,r,i){this._element=n,this._startStyles=r,this._endStyles=i;let s=t.initialStylesByElement.get(n);s||t.initialStylesByElement.set(n,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&In(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(In(this._element,this._initialStyles),this._endStyles&&(In(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Si(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Si(this._element,this._endStyles),this._endStyles=null),In(this._element,this._initialStyles),this._state=3)}}return t})();function IT(t){let e=null;return t.forEach((n,r)=>{O4(r)&&(e=e||new Map,e.set(r,n))}),e}function O4(t){return t==="display"||t==="position"}var Qp=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:jp(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Yp=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,n){return dT(e,n)}getParentElement(e){return kp(e)}query(e,n,r){return hT(e,n,r)}computeStyle(e,n,r){return jp(e,n)}animate(e,n,r,i,s,o=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};s&&(c.easing=s);let u=new Map,l=o.filter(h=>h instanceof Qp);$x(r,i)&&l.forEach(h=>{h.currentSnapshot.forEach((g,m)=>u.set(m,g))});let d=Ux(n).map(h=>new Map(h));d=Hx(e,d,u);let f=P4(e,d);return new Qp(e,d,c,f)}};var Hp="@",oO="@.disabled",Zp=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.parentNode(n)&&this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==Hp&&n==oO?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r,i){return this.delegate.listen(e,n,r,i)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},PT=class extends Zp{factory;constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==Hp?n.charAt(1)=="."&&n==oO?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r,i){if(n.charAt(0)==Hp){let s=k4(e),o=n.slice(1),a="";return o.charAt(0)!=Hp&&([o,a]=L4(o)),this.engine.listen(this.namespaceId,s,o,a,c=>{let u=c._data||-1;this.factory.scheduleListenerCallback(u,r,c)})}return this.delegate.listen(e,n,r,i)}};function k4(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function L4(t){let e=t.indexOf("."),n=t.substring(0,e),r=t.slice(e+1);return[n,r]}var Jp=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,n.onRemovalComplete=(i,s)=>{s?.removeChild(null,i)}}createRenderer(e,n){let r="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let u=this._rendererCache,l=u.get(i);if(!l){let d=()=>u.delete(i);l=new Zp(r,i,this.engine,d),u.set(i,l)}return l}let s=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(s,o,e,u.name,u)};return n.data.animation.forEach(a),new PT(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var V4=(()=>{class t extends ma{constructor(n,r,i){super(n,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||t)(M(_e),M(Fs),M(Vs))};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})();function j4(){return new zp}function U4(t,e,n){return new Jp(t,e,n)}var aO=[{provide:Vs,useFactory:j4},{provide:ma,useClass:V4},{provide:pr,useFactory:U4,deps:[bc,ma,Ee]}],Ice=[{provide:Fs,useClass:xT},{provide:xd,useValue:"NoopAnimations"},...aO],B4=[{provide:Fs,useFactory:()=>new Yp},{provide:xd,useFactory:()=>"BrowserAnimations"},...aO];function cO(){return Ht("NgEagerAnimations"),[...B4]}var $4=O_(Pp.firebase),uO=new N("Firebase auth",{providedIn:"root",factory:()=>{let t=fE();return Pp.useEmulators&&ff(t,"http://localhost:9099",{disableWarnings:!0}),t}}),Mce=new N("Firebase firestore",{providedIn:"root",factory:()=>{let t;return Pp.useEmulators?(t=ZP($4,{}),nT(t,"localhost",8080)):t=JP(),t}}),Pce={providers:[u_(lx),cO()]};function H4(t){t||(Xt(H4),t=v(tt));let e=new G(n=>t.onDestroy(n.next.bind(n)));return n=>n.pipe(Xs(e))}function z4(t,e){!e?.injector&&Xt(z4);let n=e?.injector??v(xe),r=new Oi(1),i=mc(()=>{let s;try{s=t()}catch(o){ct(()=>r.error(o));return}ct(()=>r.next(s))},{injector:n,manualCleanup:!0});return n.get(tt).onDestroy(()=>{i.destroy(),r.complete()}),r.asObservable()}function kT(t,e){let n=!e?.manualCleanup;n&&!e?.injector&&Xt(kT);let r=n?e?.injector?.get(tt)??v(tt):null,i=q4(e?.equal),s;e?.requireSync?s=Mt({kind:0},{equal:i}):s=Mt({kind:1,value:e?.initialValue},{equal:i});let o=t.subscribe({next:a=>s.set({kind:1,value:a}),error:a=>{s.set({kind:2,error:a})}});if(e?.requireSync&&s().kind===0)throw new E(601,!1);return r?.onDestroy(o.unsubscribe.bind(o)),is(()=>{let a=s();switch(a.kind){case 1:return a.value;case 2:throw a.error;case 0:throw new E(601,!1)}},{equal:e?.equal})}function q4(t=Object.is){return(e,n)=>e.kind===1&&n.kind===1&&t(e.value,n.value)}var cx=(()=>{let e=class e{constructor(){this.auth=v(uO),this.authState$=sN(this.auth),this.user=kT(this.authState$)}login(r){return p(this,null,function*(){return r?cE(this.auth,r.email,r.password):null})}logout(){dE(this.auth)}createAccount(r){return p(this,null,function*(){return r?aE(this.auth,r.email,r.password):null})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();export{De as a,G as b,we as c,Je as d,ot as e,he as f,k as g,Qs as h,Z as i,Ca as j,Ys as k,Aa as l,VO as m,jO as n,Be as o,UO as p,rr as q,BO as r,ir as s,$O as t,_D as u,Zs as v,qO as w,GO as x,Dg as y,WO as z,KO as A,Sg as B,Xs as C,$e as D,E,Bl as F,b as G,ar as H,N as I,M as J,v as K,Pe as L,JD as M,XD as N,dS as O,hS as P,xe as Q,_e as R,At as S,mS as T,Mt as U,ns as V,Nd as W,gr as X,Md as Y,Eo as Z,xd as _,Od as $,mt as aa,Ee as ba,cn as ca,xb as da,nF as ea,pr as fa,hc as ga,qt as ha,Jy as ia,Xr as ja,rs as ka,PC as la,xC as ma,fc as na,ei as oa,Yd as pa,UC as qa,BC as ra,$C as sa,oV as ta,vV as ua,_V as va,EV as wa,IV as xa,rv as ya,iv as za,Zd as Aa,KC as Ba,CV as Ca,QC as Da,Jd as Ea,NV as Fa,PV as Ga,xV as Ha,ZC as Ia,JC as Ja,kV as Ka,XC as La,eA as Ma,LV as Na,FV as Oa,VV as Pa,jV as Qa,UV as Ra,tA as Sa,av as Ta,WV as Ua,KV as Va,ct as Wa,is as Xa,mc as Ya,pv as Za,nh as _a,ene as $a,gA as ab,tne as bb,nne as cb,vc as db,_c as eb,Nj as fb,Pj as gb,rne as hb,vr as ib,Lj as jb,Fj as kb,tU as lb,pU as mb,gU as nb,e_ as ob,Wt as pb,C0 as qb,WB as rb,jae as sb,Uae as tb,Bae as ub,$ae as vb,Hae as wb,zae as xb,H4 as yb,z4 as zb,kT as Ab,cx as Bb,Mce as Cb,Pce as Db};
